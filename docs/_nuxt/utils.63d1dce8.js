import{c as S}from"./index.17a7ea7e.js";import{aN as T,a4 as A,aD as w,aq as E,bq as D,M as R,bT as N,bQ as g,bH as O}from"./entry.76f46d94.js";const l=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function U(e,r){if(typeof e!="string")throw new TypeError("argument str must be a string");const t={},s=(r||{}).decode||I;let a=0;for(;a<e.length;){const n=e.indexOf("=",a);if(n===-1)break;let o=e.indexOf(";",a);if(o===-1)o=e.length;else if(o<n){a=e.lastIndexOf(";",n-1)+1;continue}const u=e.slice(a,n).trim();if(t[u]===void 0){let c=e.slice(n+1,o).trim();c.codePointAt(0)===34&&(c=c.slice(1,-1)),t[u]=v(c,s)}a=o+1}return t}function h(e,r,t){const i=t||{},s=i.encode||M;if(typeof s!="function")throw new TypeError("option encode is invalid");if(!l.test(e))throw new TypeError("argument name is invalid");const a=s(r);if(a&&!l.test(a))throw new TypeError("argument val is invalid");let n=e+"="+a;if(i.maxAge!==void 0&&i.maxAge!==null){const o=i.maxAge-0;if(Number.isNaN(o)||!Number.isFinite(o))throw new TypeError("option maxAge is invalid");n+="; Max-Age="+Math.floor(o)}if(i.domain){if(!l.test(i.domain))throw new TypeError("option domain is invalid");n+="; Domain="+i.domain}if(i.path){if(!l.test(i.path))throw new TypeError("option path is invalid");n+="; Path="+i.path}if(i.expires){if(!j(i.expires)||Number.isNaN(i.expires.valueOf()))throw new TypeError("option expires is invalid");n+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(n+="; HttpOnly"),i.secure&&(n+="; Secure"),i.priority)switch(typeof i.priority=="string"?i.priority.toLowerCase():i.priority){case"low":n+="; Priority=Low";break;case"medium":n+="; Priority=Medium";break;case"high":n+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:n+="; SameSite=Strict";break;case"lax":n+="; SameSite=Lax";break;case"strict":n+="; SameSite=Strict";break;case"none":n+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n}function j(e){return Object.prototype.toString.call(e)==="[object Date]"||e instanceof Date}function v(e,r){try{return r(e)}catch{return e}}function I(e){return e.includes("%")?decodeURIComponent(e):e}function M(e){return encodeURIComponent(e)}const P={path:"/",watch:!0,decode:e=>N(decodeURIComponent(e)),encode:e=>encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))};function B(e,r){var u;const t={...P,...r},i=L(t)||{};let s;t.maxAge!==void 0?s=t.maxAge*1e3:t.expires&&(s=t.expires.getTime()-Date.now());const a=s!==void 0&&s<=0,n=a?void 0:i[e]??((u=t.default)==null?void 0:u.call(t)),o=s&&!a?H(n,s):T(n);{const c=typeof BroadcastChannel>"u"?null:new BroadcastChannel(`nuxt:cookies:${e}`),p=()=>{F(e,o.value,t),c==null||c.postMessage(t.encode(o.value))};let f=!1;A()&&w(()=>{f=!0,p(),c==null||c.close()}),c&&(c.onmessage=k=>{f=!0,o.value=t.decode(k.data),E(()=>{f=!1})}),t.watch?D(o,()=>{f||p()},{deep:t.watch!=="shallow"}):p()}return o}function L(e={}){return U(document.cookie,e)}function q(e,r,t={}){return r==null?h(e,r,{...t,maxAge:-1}):h(e,r,t)}function F(e,r,t={}){document.cookie=q(e,r,t)}function H(e,r){let t;return w(()=>{clearTimeout(t)}),R((i,s)=>({get(){return i(),e},set(a){clearTimeout(t),t=setTimeout(()=>{e=void 0,s()},r),e=a,s()}}))}const z=["p","h1","h2","h3","h4","h5","h6","li"];function d(e,r){return e.type===r||typeof e.type=="object"&&e.type.tag===r||e.tag===r}function x(e){return d(e,"text")||typeof e.children=="string"}function b(e){return Array.isArray(e.children)||typeof e.children=="string"?e.children:typeof e.children.default=="function"?e.children.default():[]}function m(e){if(!e)return"";if(Array.isArray(e))return e.map(m).join("");if(x(e))return e.children||e.value;const r=b(e);return Array.isArray(r)?r.map(m).join(""):""}function y(e,r=["p"]){if(Array.isArray(e))return e.flatMap(i=>y(i,r));let t=e;return r.some(i=>i==="*"||d(e,i))&&(t=b(e)||e,!Array.isArray(t)&&z.some(i=>d(e,i))&&(t=[t])),t}function C(e,r=["p"]){return e=Array.isArray(e)?e:[e],r.length?e.flatMap(t=>C(y(t,[r[0]]),r.slice(1))).filter(t=>!(x(t)&&m(t).trim()==="")):e}const G=e=>S(e,g().public.content.api.baseURL),J=()=>({unwrap:y,flatUnwrap:C}),Q=()=>{throw console.warn("useContent is only accessible when you are using `documentDriven` mode."),console.warn("Learn more by visiting: https://content.nuxtjs.org/guide/writing/document-driven"),new Error("useContent is only accessible when you are using `documentDriven` mode.")},X=()=>{const{experimental:e}=g().content;if(e.clientDB)return!0;const r=O().query;return Object.prototype.hasOwnProperty.call(r,"preview")&&!r.preview?!1:!!(r.preview||B("previewToken").value)};export{Q as a,J as b,X as s,B as u,G as w};
