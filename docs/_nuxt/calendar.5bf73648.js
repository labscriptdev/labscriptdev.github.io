import"./lodash.b5ee07eb.js";import{W as B,r as j,o as a,f as o,X as v,c,$ as Y,e as u,a5 as p,a6 as M,b as k,t as y,w as f,F as m,g as h,a as D,a0 as V}from"./entry.3cdffa01.js";const S={props:{modelValue:{type:[Boolean,String],default:!1},dateStart:{type:[Boolean,String],default:!1},dateFinal:{type:[Boolean,String],default:!1},dates:{type:Array,default:()=>[]},layout:{type:String,default:"month"},header:{type:Boolean,default:!0},prevNext:{type:Boolean,default:!0},rangeDays:{type:Number,default:5}},data(){return{layouts:{month:{name:"month",before:e=>(e.dateStart=e.dayjs.startOf("month"),e.dateFinal=e.dayjs.endOf("month").endOf("day"),e),after:e=>(e.prev=e.dayjs.add(-1,"month").format("YYYY-MM-DD"),e.next=e.dayjs.add(1,"month").format("YYYY-MM-DD"),e.days=this.arrChunk(e.days,7),e)},week:{name:"week",before:e=>e,after:e=>{e.days=this.arrChunk(e.days,7);for(let t of e.days)for(let s of t)if(e.date==s.date){e.days=t;break}return e.prev=this.$dayjs(e.days.at(0).date).add(-1,"day").format("YYYY-MM-DD"),e.next=this.$dayjs(e.days.at(-1).date).add(1,"day").format("YYYY-MM-DD"),e}},range:{name:"range",before:e=>(e.dateStart=this.$dayjs(this.modelValue).add(-this.rangeDays,"days"),e.dateFinal=this.$dayjs(this.modelValue).add(this.rangeDays,"days").endOf("day"),e),after:e=>(e.prev=this.$dayjs(this.modelValue).add(-1,"day").format("YYYY-MM-DD"),e.next=this.$dayjs(this.modelValue).add(1,"day").format("YYYY-MM-DD"),e)},year:{name:"year",before:e=>e,after:e=>e}}}},computed:{month:{set(e){},get(){const e=d=>{let n={};return n.id=d.format(),n.dayjs=d,n.date=d.format("YYYY-MM-DD"),n.day=d.format("DD"),n.month=d.format("MM"),n.year=d.format("YYYY"),n.week={day:d.day(),abbr:d.format("ddd").toUpperCase(),name:d.format("dddd")},n.current={day:n.date==t.date,month:n.month==t.month},n};let t={};t.dayjs=this.$dayjs(this.modelValue),t.date=t.dayjs.format("YYYY-MM-DD"),t.year=t.dayjs.format("YYYY"),t.month=t.dayjs.format("MM"),t.day=t.dayjs.format("DD"),t.monthName=t.dayjs.format("MMMM"),t.daysInMonth=t.dayjs.daysInMonth(),t.weekdayFirst=t.dayjs.startOf("month").day(),t.weekdayLast=t.dayjs.endOf("month").day(),t.weekdays=this.$dayjs.weekdays().map(d=>d.substring(0,3)),t.prev=!1,t.next=!1,t.dateStart=!1,t.dateFinal=!1,t.days=[];const s=this.layouts[this.layout]||this.layouts.month;return t=s.before(t),t.days=(()=>{const d=[],n=this.$dayjs(t.dateStart).diff(t.dateFinal,"days");for(let r=0;r<Math.max(n,n*-1);r++){const i=this.$dayjs(t.dateStart).add(r,"days");d.push(e(i))}return d})(),t.days=t.days.map(d=>(d.dates=this.dates.filter(n=>n.date.startsWith(d.date)),d)),t=s.after(t),t}}},methods:{slotBind(e={}){return{modelValue:this.modelValue,month:this.month,...e}},yearMonths(){const e=this.$dayjs(this.modelValue).format("YYYY");let t=[];for(let s=1;s<=12;s++)t.push({date:this.$dayjs(`${e}-${s}-01`).format("YYYY-MM-DD")});return t},arrChunk(e,t){return Array.from({length:Math.ceil(e.length/t)},(s,d)=>e.slice(d*t,d*t+t))}}},N={key:0,class:"bg-primary d-flex align-center pa-2 rounded-t"},C={class:"flex-grow-1 text-center text-h6 font-weight-bold text-uppercase"},F={class:"overflow-auto"},O={class:"text-center pa-0"},I={class:"text-center"},$={class:"text-center"};function z(e,t,s,d,n,r){const i=j("v-btn"),b=j("v-table"),g=A,x=j("v-col"),w=j("v-row");return a(),o("div",null,[v(e.$slots,"header-wrapper",p(M(r.slotBind())),()=>[s.header?(a(),o("div",N,[r.month.prev&&s.prevNext?(a(),c(i,{key:0,flat:"",size:30,icon:"mdi-chevron-left",onClick:t[0]||(t[0]=l=>e.$emit("update:modelValue",r.month.prev))})):Y("",!0),u("div",C,[v(e.$slots,"header-title",p(M(r.slotBind())),()=>[k(y(r.month.year)+" - "+y(r.month.monthName),1)])]),r.month.next&&s.prevNext?(a(),c(i,{key:1,flat:"",size:30,icon:"mdi-chevron-right",onClick:t[1]||(t[1]=l=>e.$emit("update:modelValue",r.month.next))})):Y("",!0)])):Y("",!0)]),u("div",F,[s.layout=="month"?(a(),c(b,{key:0,class:"rounded"},{default:f(()=>[u("thead",null,[u("tr",null,[(a(!0),o(m,null,h(r.month.weekdays,l=>(a(),o("th",{key:l,class:"text-center text-uppercase px-0 py-3"},y(l),1))),128))])]),u("tbody",null,[(a(!0),o(m,null,h(r.month.days,l=>(a(),o("tr",null,[(a(!0),o(m,null,h(l,_=>(a(),o("td",O,[v(e.$slots,"day",p(M(r.slotBind(_))),()=>[D(i,{block:"",flat:"",rounded:0,size:35,color:_.current.day?"primary":null,style:V({opacity:_.current.month?1:.2})},{default:f(()=>[k(y(_.day),1)]),_:2},1032,["color","style"])])]))),256))]))),256))])]),_:3})):Y("",!0),s.layout=="week"?(a(),c(b,{key:1,class:"rounded"},{default:f(()=>[u("thead",null,[u("tr",null,[(a(!0),o(m,null,h(r.month.weekdays,l=>(a(),o("th",I,y(l),1))),256))])]),u("tbody",null,[u("tr",null,[(a(!0),o(m,null,h(r.month.days,l=>(a(),o("td",null,[v(e.$slots,"day-wrapper",p(M(r.slotBind(l))),()=>[D(i,{block:"",flat:""},{default:f(()=>[v(e.$slots,"day",p(M(r.slotBind(l))),()=>[k(y(l.day),1)])]),_:2},1024)])]))),256))])])]),_:3})):Y("",!0),s.layout=="year"?(a(),c(w,{key:2,class:"mt-2"},{default:f(()=>[(a(!0),o(m,null,h(r.yearMonths(),l=>(a(),c(x,{cols:"12",lg:"3"},{default:f(()=>[D(g,{"model-value":l.date,"prev-next":!1},{"header-title":f(_=>[k(y(_.month.monthName),1)]),_:2},1032,["model-value"])]),_:2},1024))),256))]),_:1})):Y("",!0),s.layout=="range"?(a(),c(b,{key:3,class:"rounded"},{default:f(()=>[u("thead",null,[u("tr",null,[(a(!0),o(m,null,h(r.month.days,l=>(a(),o("th",$,y(l.week.abbr),1))),256))])]),u("tbody",null,[u("tr",null,[(a(!0),o(m,null,h(r.month.days,l=>(a(),o("td",null,[v(e.$slots,"day",p(M(r.slotBind(l))),()=>[D(i,{block:"",flat:""},{default:f(()=>[k(y(l.day),1)]),_:2},1024)])]))),256))])])]),_:3})):Y("",!0)])])}const A=B(S,[["render",z]]);export{A as default};
