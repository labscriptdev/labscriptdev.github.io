class n{constructor(e={}){this.users=e.users||[],this.spends=e.spends||[]}uuid(){return([1e8]+0).replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))}userDefault(e={}){return{id:this.uuid(),name:"",...e}}userAdd(e={}){this.users.push(this.userDefault(e))}spendDefault(e={}){return{id:this.uuid(),name:"",amount:0,users:[],...e}}spendAdd(e={}){this.spends.push(this.spendDefault(e))}result(){return{users:JSON.parse(JSON.stringify(this.users)).map(u=>{let r=this.spends.filter(s=>s.users.includes(u.id)).reduce((s,t)=>s+t.amount/t.users.length,0);return{...u,amount:r}})}}demo(){this.users=[this.userDefault({id:"2a8c0315dc",name:"Fulano"}),this.userDefault({id:"ede8a46c89",name:"Sicrano (Não bebe)"}),this.userDefault({id:"620461e72f",name:"Beltrano (Não come carne)"})],this.spends=[this.spendDefault({id:"a1839aff98",users:["2a8c0315dc","ede8a46c89"],name:"Carnes churras",amount:80}),this.spendDefault({id:"47465abc9e",users:["2a8c0315dc","620461e72f"],name:"Cervejas",amount:100}),this.spendDefault({id:"3493962f3b",users:["2a8c0315dc","ede8a46c89","620461e72f"],name:"Aperitivos",amount:30})]}}export{n as default};
