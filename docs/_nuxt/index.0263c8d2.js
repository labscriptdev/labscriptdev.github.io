import{E as he,M as X,V as _,a as S,Q as ie,O as fe,b as se,S as ye,C as ee,P as ge,c as Ee,D as be}from"./three.module.b5004d5e.js";import{a as we,c as te,w as A,r as L,o as H,b as z,e as R,f as xe,h as _e,F as ve,i as Oe,t as Se}from"./entry.3c79947f.js";const V={type:"change"},W={type:"start"},B={type:"end"};class Ce extends he{constructor(w,h){super();const e=this,a={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};this.object=w,this.domElement=h,this.domElement.style.touchAction="none",this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.keys=["KeyA","KeyS","KeyD"],this.mouseButtons={LEFT:X.ROTATE,MIDDLE:X.DOLLY,RIGHT:X.PAN},this.target=new _;const v=1e-6,x=new _;let f=1,r=a.NONE,c=a.NONE,i=0,T=0,O=0;const p=new _,s=new S,o=new S,y=new _,g=new S,m=new S,u=new S,E=new S,l=[],D={};this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom,this.handleResize=function(){const t=e.domElement.getBoundingClientRect(),n=e.domElement.ownerDocument.documentElement;e.screen.left=t.left+window.pageXOffset-n.clientLeft,e.screen.top=t.top+window.pageYOffset-n.clientTop,e.screen.width=t.width,e.screen.height=t.height};const P=function(){const t=new S;return function(d,b){return t.set((d-e.screen.left)/e.screen.width,(b-e.screen.top)/e.screen.height),t}}(),N=function(){const t=new S;return function(d,b){return t.set((d-e.screen.width*.5-e.screen.left)/(e.screen.width*.5),(e.screen.height+2*(e.screen.top-b))/e.screen.width),t}}();this.rotateCamera=function(){const t=new _,n=new ie,d=new _,b=new _,M=new _,j=new _;return function(){j.set(o.x-s.x,o.y-s.y,0);let Z=j.length();Z?(p.copy(e.object.position).sub(e.target),d.copy(p).normalize(),b.copy(e.object.up).normalize(),M.crossVectors(b,d).normalize(),b.setLength(o.y-s.y),M.setLength(o.x-s.x),j.copy(b.add(M)),t.crossVectors(j,p).normalize(),Z*=e.rotateSpeed,n.setFromAxisAngle(t,Z),p.applyQuaternion(n),e.object.up.applyQuaternion(n),y.copy(t),O=Z):!e.staticMoving&&O&&(O*=Math.sqrt(1-e.dynamicDampingFactor),p.copy(e.object.position).sub(e.target),n.setFromAxisAngle(y,O),p.applyQuaternion(n),e.object.up.applyQuaternion(n)),s.copy(o)}}(),this.zoomCamera=function(){let t;r===a.TOUCH_ZOOM_PAN?(t=i/T,i=T,e.object.isPerspectiveCamera?p.multiplyScalar(t):e.object.isOrthographicCamera?(e.object.zoom/=t,e.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(t=1+(m.y-g.y)*e.zoomSpeed,t!==1&&t>0&&(e.object.isPerspectiveCamera?p.multiplyScalar(t):e.object.isOrthographicCamera?(e.object.zoom/=t,e.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),e.staticMoving?g.copy(m):g.y+=(m.y-g.y)*this.dynamicDampingFactor)},this.panCamera=function(){const t=new S,n=new _,d=new _;return function(){if(t.copy(E).sub(u),t.lengthSq()){if(e.object.isOrthographicCamera){const M=(e.object.right-e.object.left)/e.object.zoom/e.domElement.clientWidth,j=(e.object.top-e.object.bottom)/e.object.zoom/e.domElement.clientWidth;t.x*=M,t.y*=j}t.multiplyScalar(p.length()*e.panSpeed),d.copy(p).cross(e.object.up).setLength(t.x),d.add(n.copy(e.object.up).setLength(t.y)),e.object.position.add(d),e.target.add(d),e.staticMoving?u.copy(E):u.add(t.subVectors(E,u).multiplyScalar(e.dynamicDampingFactor))}}}(),this.checkDistances=function(){(!e.noZoom||!e.noPan)&&(p.lengthSq()>e.maxDistance*e.maxDistance&&(e.object.position.addVectors(e.target,p.setLength(e.maxDistance)),g.copy(m)),p.lengthSq()<e.minDistance*e.minDistance&&(e.object.position.addVectors(e.target,p.setLength(e.minDistance)),g.copy(m)))},this.update=function(){p.subVectors(e.object.position,e.target),e.noRotate||e.rotateCamera(),e.noZoom||e.zoomCamera(),e.noPan||e.panCamera(),e.object.position.addVectors(e.target,p),e.object.isPerspectiveCamera?(e.checkDistances(),e.object.lookAt(e.target),x.distanceToSquared(e.object.position)>v&&(e.dispatchEvent(V),x.copy(e.object.position))):e.object.isOrthographicCamera?(e.object.lookAt(e.target),(x.distanceToSquared(e.object.position)>v||f!==e.object.zoom)&&(e.dispatchEvent(V),x.copy(e.object.position),f=e.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},this.reset=function(){r=a.NONE,c=a.NONE,e.target.copy(e.target0),e.object.position.copy(e.position0),e.object.up.copy(e.up0),e.object.zoom=e.zoom0,e.object.updateProjectionMatrix(),p.subVectors(e.object.position,e.target),e.object.lookAt(e.target),e.dispatchEvent(V),x.copy(e.object.position),f=e.object.zoom};function q(t){e.enabled!==!1&&(l.length===0&&(e.domElement.setPointerCapture(t.pointerId),e.domElement.addEventListener("pointermove",Y),e.domElement.addEventListener("pointerup",U)),me(t),t.pointerType==="touch"?le(t):ae(t))}function Y(t){e.enabled!==!1&&(t.pointerType==="touch"?pe(t):re(t))}function U(t){e.enabled!==!1&&(t.pointerType==="touch"?de(t):ce(),G(t),l.length===0&&(e.domElement.releasePointerCapture(t.pointerId),e.domElement.removeEventListener("pointermove",Y),e.domElement.removeEventListener("pointerup",U)))}function F(t){G(t)}function I(t){e.enabled!==!1&&(window.removeEventListener("keydown",I),c===a.NONE&&(t.code===e.keys[a.ROTATE]&&!e.noRotate?c=a.ROTATE:t.code===e.keys[a.ZOOM]&&!e.noZoom?c=a.ZOOM:t.code===e.keys[a.PAN]&&!e.noPan&&(c=a.PAN)))}function Q(){e.enabled!==!1&&(c=a.NONE,window.addEventListener("keydown",I))}function ae(t){if(r===a.NONE)switch(t.button){case e.mouseButtons.LEFT:r=a.ROTATE;break;case e.mouseButtons.MIDDLE:r=a.ZOOM;break;case e.mouseButtons.RIGHT:r=a.PAN;break}const n=c!==a.NONE?c:r;n===a.ROTATE&&!e.noRotate?(o.copy(N(t.pageX,t.pageY)),s.copy(o)):n===a.ZOOM&&!e.noZoom?(g.copy(P(t.pageX,t.pageY)),m.copy(g)):n===a.PAN&&!e.noPan&&(u.copy(P(t.pageX,t.pageY)),E.copy(u)),e.dispatchEvent(W)}function re(t){const n=c!==a.NONE?c:r;n===a.ROTATE&&!e.noRotate?(s.copy(o),o.copy(N(t.pageX,t.pageY))):n===a.ZOOM&&!e.noZoom?m.copy(P(t.pageX,t.pageY)):n===a.PAN&&!e.noPan&&E.copy(P(t.pageX,t.pageY))}function ce(){r=a.NONE,e.dispatchEvent(B)}function $(t){if(e.enabled!==!1&&e.noZoom!==!0){switch(t.preventDefault(),t.deltaMode){case 2:g.y-=t.deltaY*.025;break;case 1:g.y-=t.deltaY*.01;break;default:g.y-=t.deltaY*25e-5;break}e.dispatchEvent(W),e.dispatchEvent(B)}}function le(t){switch(J(t),l.length){case 1:r=a.TOUCH_ROTATE,o.copy(N(l[0].pageX,l[0].pageY)),s.copy(o);break;default:r=a.TOUCH_ZOOM_PAN;const n=l[0].pageX-l[1].pageX,d=l[0].pageY-l[1].pageY;T=i=Math.sqrt(n*n+d*d);const b=(l[0].pageX+l[1].pageX)/2,M=(l[0].pageY+l[1].pageY)/2;u.copy(P(b,M)),E.copy(u);break}e.dispatchEvent(W)}function pe(t){switch(J(t),l.length){case 1:s.copy(o),o.copy(N(t.pageX,t.pageY));break;default:const n=ue(t),d=t.pageX-n.x,b=t.pageY-n.y;T=Math.sqrt(d*d+b*b);const M=(t.pageX+n.x)/2,j=(t.pageY+n.y)/2;E.copy(P(M,j));break}}function de(t){switch(l.length){case 0:r=a.NONE;break;case 1:r=a.TOUCH_ROTATE,o.copy(N(t.pageX,t.pageY)),s.copy(o);break;case 2:r=a.TOUCH_ZOOM_PAN;for(let n=0;n<l.length;n++)if(l[n].pointerId!==t.pointerId){const d=D[l[n].pointerId];o.copy(N(d.x,d.y)),s.copy(o);break}break}e.dispatchEvent(B)}function K(t){e.enabled!==!1&&t.preventDefault()}function me(t){l.push(t)}function G(t){delete D[t.pointerId];for(let n=0;n<l.length;n++)if(l[n].pointerId==t.pointerId){l.splice(n,1);return}}function J(t){let n=D[t.pointerId];n===void 0&&(n=new S,D[t.pointerId]=n),n.set(t.pageX,t.pageY)}function ue(t){const n=t.pointerId===l[0].pointerId?l[1]:l[0];return D[n.pointerId]}this.dispose=function(){e.domElement.removeEventListener("contextmenu",K),e.domElement.removeEventListener("pointerdown",q),e.domElement.removeEventListener("pointercancel",F),e.domElement.removeEventListener("wheel",$),e.domElement.removeEventListener("pointermove",Y),e.domElement.removeEventListener("pointerup",U),window.removeEventListener("keydown",I),window.removeEventListener("keyup",Q)},this.domElement.addEventListener("contextmenu",K),this.domElement.addEventListener("pointerdown",q),this.domElement.addEventListener("pointercancel",F),this.domElement.addEventListener("wheel",$,{passive:!1}),window.addEventListener("keydown",I),window.addEventListener("keyup",Q),this.handleResize(),this.update()}}const oe=new _,Te=new ie,ne=new _;class Me extends fe{constructor(w=document.createElement("div")){super(),this.isCSS3DObject=!0,this.element=w,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",function(){this.traverse(function(h){h.element instanceof Element&&h.element.parentNode!==null&&h.element.parentNode.removeChild(h.element)})})}copy(w,h){return super.copy(w,h),this.element=w.element.cloneNode(!0),this}}const C=new se,je=new se;class ke{constructor(w={}){const h=this;let e,a,v,x;const f={camera:{fov:0,style:""},objects:new WeakMap},r=w.element!==void 0?w.element:document.createElement("div");r.style.overflow="hidden",this.domElement=r;const c=document.createElement("div");c.style.transformStyle="preserve-3d",c.style.pointerEvents="none",r.appendChild(c),this.getSize=function(){return{width:e,height:a}},this.render=function(s,o){const y=o.projectionMatrix.elements[5]*x;f.camera.fov!==y&&(r.style.perspective=o.isPerspectiveCamera?y+"px":"",f.camera.fov=y),s.matrixWorldAutoUpdate===!0&&s.updateMatrixWorld(),o.parent===null&&o.matrixWorldAutoUpdate===!0&&o.updateMatrixWorld();let g,m;o.isOrthographicCamera&&(g=-(o.right+o.left)/2,m=(o.top+o.bottom)/2);const E=(o.isOrthographicCamera?"scale("+y+")translate("+i(g)+"px,"+i(m)+"px)"+T(o.matrixWorldInverse):"translateZ("+y+"px)"+T(o.matrixWorldInverse))+"translate("+v+"px,"+x+"px)";f.camera.style!==E&&(c.style.transform=E,f.camera.style=E),p(s,s,o)},this.setSize=function(s,o){e=s,a=o,v=e/2,x=a/2,r.style.width=s+"px",r.style.height=o+"px",c.style.width=s+"px",c.style.height=o+"px"};function i(s){return Math.abs(s)<1e-10?0:s}function T(s){const o=s.elements;return"matrix3d("+i(o[0])+","+i(-o[1])+","+i(o[2])+","+i(o[3])+","+i(o[4])+","+i(-o[5])+","+i(o[6])+","+i(o[7])+","+i(o[8])+","+i(-o[9])+","+i(o[10])+","+i(o[11])+","+i(o[12])+","+i(-o[13])+","+i(o[14])+","+i(o[15])+")"}function O(s){const o=s.elements;return"translate(-50%,-50%)"+("matrix3d("+i(o[0])+","+i(o[1])+","+i(o[2])+","+i(o[3])+","+i(-o[4])+","+i(-o[5])+","+i(-o[6])+","+i(-o[7])+","+i(o[8])+","+i(o[9])+","+i(o[10])+","+i(o[11])+","+i(o[12])+","+i(o[13])+","+i(o[14])+","+i(o[15])+")")}function p(s,o,y,g){if(s.isCSS3DObject){const m=s.visible===!0&&s.layers.test(y.layers)===!0;if(s.element.style.display=m===!0?"":"none",m===!0){s.onBeforeRender(h,o,y);let u;s.isCSS3DSprite?(C.copy(y.matrixWorldInverse),C.transpose(),s.rotation2D!==0&&C.multiply(je.makeRotationZ(s.rotation2D)),s.matrixWorld.decompose(oe,Te,ne),C.setPosition(oe),C.scale(ne),C.elements[3]=0,C.elements[7]=0,C.elements[11]=0,C.elements[15]=1,u=O(C)):u=O(s.matrixWorld);const E=s.element,l=f.objects.get(s);if(l===void 0||l.style!==u){E.style.transform=u;const D={style:u};f.objects.set(s,D)}E.parentNode!==c&&c.appendChild(E),s.onAfterRender(h,o,y)}}for(let m=0,u=s.children.length;m<u;m++)p(s.children[m],o,y)}}}const De={methods:{threeInit(){const k=this.$refs.canvas;let w=k.offsetWidth,h=k.offsetHeight;const e=new ye;e.background=new ee(0);const a=new ge(75,w/h,.1,1e3);a.position.set(50,50,50),new Ee({color:0,wireframe:!0,wireframeLinewidth:1,side:be});for(let r=0;r<10;r++){const c=document.createElement("div");c.style.width="100px",c.style.height="100px",c.style.opacity=1,c.style.background=new ee(Math.random()*16777215).getStyle(),c.innerHTML='<img src="https://media2.giphy.com/media/McOizsmlABPTVxdCeT/giphy.gif?cid=ecf05e4795z8ta55ebv0tozgs9ojwnrom33edma6hyx14l84&rid=giphy.gif&ct=g" alt="" />';const i=new Me(c);i.position.x=r*50,i.position.y=r*50,i.position.z=r*50,e.add(i)}const v=new ke;v.setSize(w,h),k.appendChild(v.domElement),v.domElement.style="width:100%; height:500px; overflow:hidden; border:solid 1px red;";const x=new Ce(a,v.domElement),f=()=>{v.render(e,a),x.update(),requestAnimationFrame(f)};f()}},mounted(){},data(){return{headerLinks:[{name:"Tools",to:"/tool"}],three:!1}}},Pe={class:"d-flex flex-column",style:{height:"100vh",overflow:"auto"}},Ne={class:"flex-grow-1"},Ae=z("br",null,null,-1),Le=z("br",null,null,-1),ze=z("br",null,null,-1),Re={ref:"canvas"};function Ie(k,w,h,e,a,v){const x=L("v-img"),f=L("v-avatar"),r=L("v-btn"),c=L("v-container"),i=L("v-app-bar"),T=L("v-app");return H(),te(T,null,{default:A(()=>[z("div",Pe,[R(i,{flat:""},{default:A(()=>[R(c,{class:"d-flex align-center"},{default:A(()=>[R(f,{class:"mr-10",color:"grey-lighten-3",size:"40"},{default:A(()=>[R(x,{src:"/assets/labscript.dev.png"})]),_:1}),(H(!0),xe(ve,null,_e(a.headerLinks,(O,p)=>(H(),te(r,{key:p,variant:"text",to:O.to},{default:A(()=>[Oe(Se(O.name),1)]),_:2},1032,["to"]))),128))]),_:1})]),_:1}),z("div",Ne,[R(c,null,{default:A(()=>[Ae,Le,ze,z("div",Re,null,512)]),_:1})])])]),_:1})}const Xe=we(De,[["render",Ie]]);export{Xe as default};
