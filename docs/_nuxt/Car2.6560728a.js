import"./matter.da218263.js";import{E as A}from"./extendedObject3D.798d9de7.js";import"./three.module.71e54c61.js";import"./entry.a4bbb83b.js";class z extends A{constructor(s){super(),this.scene=s,this.modelInit()}modelInit(){const i=this.addWheel(1.5,2),w=this.addWheel(-1.5,2),g=this.addWheel(1.5,-2),u=this.addWheel(-1.5,-2),r=this.addRotor(1.5,2),c=this.addRotor(-1.5,2),a=this.addRotor(1.5,-2),h=this.addRotor(-1.5,-2),d=this.addAxis(2),n=this.addAxis(-2+.2,.04),l=this.addAxis(-2-.2),o={axisA:{y:1},axisB:{y:1}};this.motorBackLeft=this.scene.physics.add.constraints.hinge(w.body,c.body,o),this.motorBackRight=this.scene.physics.add.constraints.hinge(i.body,r.body,o),this.motorFrontLeft=this.scene.physics.add.constraints.hinge(u.body,h.body,o),this.motorFrontRight=this.scene.physics.add.constraints.hinge(g.body,a.body,o);const y=(f,Z,x,m)=>{const B=this.scene.physics.add.constraints.hinge(f.body,x.body,{pivotA:{y:.2,z:m},pivotB:{y:-1.3},axisA:{x:1},axisB:{x:1}}),R=this.scene.physics.add.constraints.hinge(Z.body,x.body,{pivotA:{y:-.2,z:m},pivotB:{y:1.3},axisA:{x:1},axisB:{x:1}});return{right:B,left:R}};this.scene.physics.add.constraints.lock(r.body,d.body),this.scene.physics.add.constraints.lock(c.body,d.body),this.m0=y(a,h,l,-0),y(a,h,n,.4),this.plate=this.addPlate(),this.plate.add(this.camera),this.scene.physics.add.constraints.lock(this.plate.body,d.body),this.scene.physics.add.constraints.lock(this.plate.body,l.body);const p=.3,b={angularLowerLimit:{x:0,y:0,z:0},angularUpperLimit:{x:0,y:0,z:0},linearLowerLimit:{x:0,y:-p,z:-.1},linearUpperLimit:{x:0,y:p,z:.1}};this.scene.physics.add.constraints.dof(this.plate.body,n.body,{...b,offset:{y:.9}}),this.scene.physics.add.constraints.dof(this.plate.body,n.body,{...b,offset:{y:-.9}}),this.m0.left.enableAngularMotor(!0,0,1e3),this.m0.right.enableAngularMotor(!0,0,1e3),console.log("Car")}addPlate(){const s=this.scene.add.box({y:1,width:1.8,depth:4.7,mass:5e3,height:.25},{lambert:{wireframe:!0}});return this.scene.physics.add.existing(s),s}addAxis(s,e=.06){const t=this.scene.add.cylinder({z:s,y:1,mass:10,radiusTop:e,radiusBottom:e,height:2.6},{lambert:{color:"blue",transparent:!0,opacity:.5}});return t.rotateZ(Math.PI/2),this.scene.physics.add.existing(t),t}addRotor(s,e){const t=this.scene.add.cylinder({mass:10,radiusBottom:.35,radiusTop:.35,radiusSegments:24,height:.4,x:s,y:1,z:e},{lambert:{color:"red",transparent:!0,opacity:.5}});return t.rotateZ(Math.PI/2),this.scene.physics.add.existing(t),t}addWheel(s,e){const t=this.scene.add.cylinder({mass:20,radiusBottom:.5,radiusTop:.5,radiusSegments:24,height:.35,x:s,y:1,z:e},{lambert:{color:"blue",transparent:!0,opacity:.5}});return t.rotateZ(Math.PI/2),this.scene.physics.add.existing(t),t.body.setFriction(3),t}addAxisRotor(s,e,t){const i=this.scene.add.box({x:s,y:e,z:t,mass:5,width:.25,height:.2,depth:1},{lambert:{transparent:!0,opacity:.5}});return this.scene.physics.add.existing(i),i}}export{z as default};
