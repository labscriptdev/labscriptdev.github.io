import{W as V,r as D,o as l,f as n,X as v,c as i,$ as Y,e as u,a6 as M,a7 as k,b as p,t as m,w as h,F as f,g as c,a as g,a0 as N}from"./entry.ae266843.js";const j={props:{modelValue:{type:[Boolean,String],default:!1},dates:{type:Array,default:()=>[]},layout:{type:String,default:"month"},header:{type:Boolean,default:!0},prevNext:{type:Boolean,default:!0},rangeDays:{type:Number,default:5}},computed:{month:{set(r){},get(){const r=this.$dayjs(this.modelValue),e={};e.date=r.format("YYYY-MM-DD"),e.year=r.format("YYYY"),e.month=r.format("MM"),e.day=r.format("DD"),e.monthName=r.format("MMMM"),e.daysInMonth=r.daysInMonth(),e.weekdayFirst=r.startOf("month").day(),e.weekdayLast=r.endOf("month").day(),e.weekdays=this.$dayjs.weekdays().map(s=>s.substring(0,3)),e.prev=!1,e.next=!1,e.days=(()=>{let s=[];const y=t=>{let a={};return a.id=t.format(),a.date=t.format("YYYY-MM-DD"),a.day=t.format("DD"),a.month=t.format("MM"),a.year=t.format("YYYY"),a.week={day:t.day(),abbr:t.format("ddd").toUpperCase(),name:t.format("dddd")},a.current={day:a.date==e.date,month:a.month==e.month},a};if(this.layout=="range")for(let t=-this.rangeDays;t<=this.rangeDays;t++){const a=this.$dayjs(this.modelValue).add(t,"day");s.push(y(a))}else{for(let t=0;t<e.weekdayFirst;t++){const a=r.set("date",1).subtract(e.weekdayFirst-t,"days");s.push(y(a))}for(let t=1;t<=e.daysInMonth;t++){const a=r.set("date",t);s.push(y(a))}for(let t=e.weekdayLast+1;t<=6;t++){const a=r.set("date",e.daysInMonth).add(t-e.weekdayLast,"days");s.push(y(a))}}return s=s.map(t=>(t.id&&(t.dates=this.dates.filter(a=>a.date.startsWith(t.date))),t)),s})();const o=(s,y)=>Array.from({length:Math.ceil(s.length/y)},(t,a)=>s.slice(a*y,a*y+y));if(this.layout=="month")e.prev=r.add(-1,"month").format("YYYY-MM-DD"),e.next=r.add(1,"month").format("YYYY-MM-DD"),e.days=o(e.days,7);else if(this.layout=="week"){e.days=o(e.days,7);for(let s of e.days)for(let y of s)if(e.date==y.date){e.days=s;break}e.prev=this.$dayjs(e.days.at(0).date).add(-1,"day").format("YYYY-MM-DD"),e.next=this.$dayjs(e.days.at(-1).date).add(1,"day").format("YYYY-MM-DD")}else this.layout=="range"&&(e.prev=this.$dayjs(this.modelValue).add(-1,"day").format("YYYY-MM-DD"),e.next=this.$dayjs(this.modelValue).add(1,"day").format("YYYY-MM-DD"));return e}}},methods:{slotBind(r={}){return{modelValue:this.modelValue,month:this.month,...r}},yearMonths(){const r=this.$dayjs(this.modelValue).format("YYYY");let e=[];for(let o=1;o<=12;o++)e.push({date:this.$dayjs(`${r}-${o}-01`).format("YYYY-MM-DD")});return e}}},C={key:0,class:"bg-primary d-flex align-center pa-2 rounded-t"},F={class:"flex-grow-1 text-center text-h6 font-weight-bold text-uppercase"},I={class:"overflow-auto"},S={class:"text-center pa-0"},L={class:"text-center"},z={class:"text-center"};function A(r,e,o,s,y,t){const a=D("v-btn"),w=D("v-table"),b=O,x=D("v-col"),B=D("v-row");return l(),n("div",null,[v(r.$slots,"header-wrapper",M(k(t.slotBind())),()=>[o.header?(l(),n("div",C,[t.month.prev&&o.prevNext?(l(),i(a,{key:0,flat:"",size:30,icon:"mdi-chevron-left",onClick:e[0]||(e[0]=d=>r.$emit("update:modelValue",t.month.prev))})):Y("",!0),u("div",F,[v(r.$slots,"header-title",M(k(t.slotBind())),()=>[p(m(t.month.year)+" - "+m(t.month.monthName),1)])]),t.month.next&&o.prevNext?(l(),i(a,{key:1,flat:"",size:30,icon:"mdi-chevron-right",onClick:e[1]||(e[1]=d=>r.$emit("update:modelValue",t.month.next))})):Y("",!0)])):Y("",!0)]),u("div",I,[o.layout=="month"?(l(),i(w,{key:0,class:"rounded"},{default:h(()=>[u("thead",null,[u("tr",null,[(l(!0),n(f,null,c(t.month.weekdays,d=>(l(),n("th",{key:d,class:"text-center text-uppercase px-0 py-3"},m(d),1))),128))])]),u("tbody",null,[(l(!0),n(f,null,c(t.month.days,d=>(l(),n("tr",null,[(l(!0),n(f,null,c(d,_=>(l(),n("td",S,[v(r.$slots,"day",M(k(t.slotBind(_))),()=>[g(a,{block:"",flat:"",rounded:0,size:35,color:_.current.day?"primary":null,style:N({opacity:_.current.month?1:.2})},{default:h(()=>[p(m(_.day),1)]),_:2},1032,["color","style"])])]))),256))]))),256))])]),_:3})):Y("",!0),o.layout=="week"?(l(),i(w,{key:1,class:"rounded"},{default:h(()=>[u("thead",null,[u("tr",null,[(l(!0),n(f,null,c(t.month.weekdays,d=>(l(),n("th",L,m(d),1))),256))])]),u("tbody",null,[u("tr",null,[(l(!0),n(f,null,c(t.month.days,d=>(l(),n("td",null,[v(r.$slots,"day-wrapper",M(k(t.slotBind(d))),()=>[g(a,{block:"",flat:""},{default:h(()=>[v(r.$slots,"day",M(k(t.slotBind(d))),()=>[p(m(d.day),1)])]),_:2},1024)])]))),256))])])]),_:3})):Y("",!0),o.layout=="year"?(l(),i(B,{key:2,class:"mt-2"},{default:h(()=>[(l(!0),n(f,null,c(t.yearMonths(),d=>(l(),i(x,{cols:"12",lg:"3"},{default:h(()=>[g(b,{"model-value":d.date,"prev-next":!1},{"header-title":h(_=>[p(m(_.month.monthName),1)]),_:2},1032,["model-value"])]),_:2},1024))),256))]),_:1})):Y("",!0),o.layout=="range"?(l(),i(w,{key:3,class:"rounded"},{default:h(()=>[u("thead",null,[u("tr",null,[(l(!0),n(f,null,c(t.month.days,d=>(l(),n("th",z,m(d.week.abbr),1))),256))])]),u("tbody",null,[u("tr",null,[(l(!0),n(f,null,c(t.month.days,d=>(l(),n("td",null,[v(r.$slots,"day",M(k(t.slotBind(d))),()=>[g(a,{block:"",flat:""},{default:h(()=>[p(m(d.day),1)]),_:2},1024)])]))),256))])])]),_:3})):Y("",!0)])])}const O=V(j,[["render",A]]);export{O as default};
