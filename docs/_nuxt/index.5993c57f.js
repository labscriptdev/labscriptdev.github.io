import{a as A,o as S,b as V,r as C,c as L,w as E,f as k,h as R,F as Y,v as B,t as P,e as z}from"./entry.e1aa9ba1.js";import{V as j,l as D,j as X,aP as Z,I as F,q as U,a2 as H}from"./three.module.ecaea3a5.js";const K={},q={style:{position:"relative",width:"100%",height:"500px"}};function $(c,p,e,n,r,a){return S(),V("div",q)}const I=A(K,[["render",$]]),Q={props:{modelValue:{type:[Boolean,Number,String,Array,Object,Function],default:!1},activeKey:{type:[Boolean,String],default:!1}},methods:{dataType(c){return Array.isArray(c)?"array":typeof c},dataTypeIs(c,p){return p==this.dataType(c)},dataObjectKeys(c){if(!this.dataTypeIs(c,"object"))return[];let p=[];return Object.keys(c).forEach((e,n)=>{const r=this.dataType(c[e]);p.push({key:e,type:r})}),p}},data(){return{modelValueKey:this.activeKey||(this.dataTypeIs(this.modelValue,"object")?Object.keys(this.modelValue)[0]:!1)}}},G={key:0},W={class:"pa-2",style:{height:"100%",background:"#222",color:"lime",overflow:"auto"}},J={key:1},ee={class:"pa-2",style:{height:"100%",background:"#222",color:"lime",overflow:"auto"}};function te(c,p,e,n,r,a){const m=C("v-list-subheader"),i=C("v-list-item"),h=C("v-list"),u=C("v-col"),g=C("v-row"),b=C("v-card");return S(),L(b,null,{default:E(()=>[a.dataTypeIs(e.modelValue,"object")?(S(),V("div",G,[k(g,null,{default:E(()=>[k(u,{cols:"3"},{default:E(()=>[k(h,null,{default:E(()=>[k(m,null,{default:E(()=>[R("KEYS")]),_:1}),(S(!0),V(Y,null,B(a.dataObjectKeys(e.modelValue),v=>(S(),L(i,{key:v.key,onClick:O=>r.modelValueKey=v.key,active:v.key==r.modelValueKey,"active-color":"success"},{default:E(()=>[R(" ("+P(v.type)+") "+P(v.key),1)]),_:2},1032,["onClick","active"]))),128))]),_:1})]),_:1}),k(u,{cols:"9"},{default:E(()=>[z("pre",W,P(r.modelValueKey)+": "+P(e.modelValue[r.modelValueKey]),1)]),_:1})]),_:1})])):(S(),V("div",J,[z("pre",ee,P(a.dataType(e.modelValue))+": "+P(e.modelValue),1)]))]),_:1})}const oe=A(Q,[["render",te]]),ne=function(c,p){var e=this,n={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM:4,TOUCH_PAN:5};this.object=c,this.domElement=p!==void 0?p:document,this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.noRoll=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.keys=[65,83,68],this.target=new j;var r=new j,a=n.NONE,m=n.NONE,i=new j,h=new j,u=new j,g=new D,b=new D,v=0,O=0,_=new D,l=new D;this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone();var f={type:"change"};function y(t){e.enabled!==!1&&(window.removeEventListener("keydown",y),m=a,a===n.NONE&&(t.keyCode!==e.keys[n.ROTATE]||e.noRotate?t.keyCode!==e.keys[n.ZOOM]||e.noZoom?t.keyCode!==e.keys[n.PAN]||e.noPan||(a=n.PAN):a=n.ZOOM:a=n.ROTATE))}function w(t){e.enabled===!1||(t.preventDefault(),t.stopPropagation(),a!==n.ROTATE||e.noRotate?a!==n.ZOOM||e.noZoom?a!==n.PAN||e.noPan||(l=e.getMouseOnScreen(t.clientX,t.clientY)):b=e.getMouseOnScreen(t.clientX,t.clientY):u=e.getMouseProjectionOnBall(t.clientX,t.clientY))}function M(t){e.enabled!==!1&&(t.preventDefault(),t.stopPropagation(),a=n.NONE,document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",M))}function T(t){if(e.enabled!==!1){t.preventDefault(),t.stopPropagation();var o=0;t.wheelDelta?o=t.wheelDelta/40:t.detail&&(o=-t.detail/3),g.y+=.01*o}}this.handleResize=function(){this.domElement===document?(this.screen.left=0,this.screen.top=0,this.screen.width=window.innerWidth,this.screen.height=window.innerHeight):this.screen=this.domElement.getBoundingClientRect()},this.handleEvent=function(t){typeof this[t.type]=="function"&&this[t.type](t)},this.getMouseOnScreen=function(t,o){return new D((t-e.screen.left)/e.screen.width,(o-e.screen.top)/e.screen.height)},this.getMouseProjectionOnBall=function(t,o){var s=new j((t-.5*e.screen.width-e.screen.left)/(.5*e.screen.width),(.5*e.screen.height+e.screen.top-o)/(.5*e.screen.height),0),d=s.length();e.noRoll?d<Math.SQRT1_2?s.z=Math.sqrt(1-d*d):s.z=.5/d:d>1?s.normalize():s.z=Math.sqrt(1-d*d),i.copy(e.object.position).sub(e.target);var N=e.object.up.clone().setLength(s.y);return N.add(e.object.up.clone().cross(i).setLength(s.x)),N.add(i.setLength(s.z)),N},this.rotateCamera=function(){var t=Math.acos(h.dot(u)/h.length()/u.length());if(t){var o=new j().crossVectors(h,u).normalize(),s=new H;t*=e.rotateSpeed,s.setFromAxisAngle(o,-t),i.applyQuaternion(s),e.object.up.applyQuaternion(s),u.applyQuaternion(s),e.staticMoving?h.copy(u):(s.setFromAxisAngle(o,t*(e.dynamicDampingFactor-1)),h.applyQuaternion(s))}},this.zoomCamera=function(){if(a===n.TOUCH_ZOOM){var t=v/O;v=O,i.multiplyScalar(t)}else{var t=1+(b.y-g.y)*e.zoomSpeed;t!==1&&t>0&&(i.multiplyScalar(t),e.staticMoving?g.copy(b):g.y+=(b.y-g.y)*this.dynamicDampingFactor)}},this.panCamera=function(){var t=l.clone().sub(_);if(t.lengthSq()){t.multiplyScalar(i.length()*e.panSpeed);var o=i.clone().cross(e.object.up).setLength(t.x);o.add(e.object.up.clone().setLength(t.y)),e.object.position.add(o),e.target.add(o),e.staticMoving?_=l:_.add(t.subVectors(l,_).multiplyScalar(e.dynamicDampingFactor))}},this.checkDistances=function(){e.noZoom&&e.noPan||(i.lengthSq()>e.maxDistance*e.maxDistance&&e.object.position.addVectors(e.target,i.setLength(e.maxDistance)),i.lengthSq()<e.minDistance*e.minDistance&&e.object.position.addVectors(e.target,i.setLength(e.minDistance)))},this.update=function(){i.subVectors(e.object.position,e.target),e.noRotate||e.rotateCamera(),e.noZoom||e.zoomCamera(),e.noPan||e.panCamera(),e.object.position.addVectors(e.target,i),e.checkDistances(),e.object.lookAt(e.target),r.distanceToSquared(e.object.position)>0&&(e.dispatchEvent(f),r.copy(e.object.position))},this.reset=function(){a=n.NONE,m=n.NONE,e.target.copy(e.target0),e.object.position.copy(e.position0),e.object.up.copy(e.up0),i.subVectors(e.object.position,e.target),e.object.lookAt(e.target),e.dispatchEvent(f),r.copy(e.object.position)},this.domElement.addEventListener("contextmenu",function(t){t.preventDefault()},!1),this.domElement.addEventListener("mousedown",function(o){e.enabled!==!1&&(o.preventDefault(),o.stopPropagation(),a===n.NONE&&(a=o.button),a!==n.ROTATE||e.noRotate?a!==n.ZOOM||e.noZoom?a!==n.PAN||e.noPan||(_=e.getMouseOnScreen(o.clientX,o.clientY),l.copy(_)):(g=e.getMouseOnScreen(o.clientX,o.clientY),b.copy(g)):(h=e.getMouseProjectionOnBall(o.clientX,o.clientY),u.copy(h)),document.addEventListener("mousemove",w,!1),document.addEventListener("mouseup",M,!1))},!1),this.domElement.addEventListener("mousewheel",T,!1),this.domElement.addEventListener("DOMMouseScroll",T,!1),this.domElement.addEventListener("touchstart",function(o){if(e.enabled!==!1)switch(o.touches.length){case 1:a=n.TOUCH_ROTATE,h=u=e.getMouseProjectionOnBall(o.touches[0].pageX,o.touches[0].pageY);break;case 2:a=n.TOUCH_ZOOM;var s=o.touches[0].pageX-o.touches[1].pageX,d=o.touches[0].pageY-o.touches[1].pageY;O=v=Math.sqrt(s*s+d*d);break;case 3:a=n.TOUCH_PAN,_=l=e.getMouseOnScreen(o.touches[0].pageX,o.touches[0].pageY);break;default:a=n.NONE}},!1),this.domElement.addEventListener("touchend",function(o){if(e.enabled!==!1){switch(o.touches.length){case 1:h=u=e.getMouseProjectionOnBall(o.touches[0].pageX,o.touches[0].pageY);break;case 2:v=O=0;break;case 3:_=l=e.getMouseOnScreen(o.touches[0].pageX,o.touches[0].pageY)}a=n.NONE}},!1),this.domElement.addEventListener("touchmove",function(o){if(e.enabled!==!1)switch(o.preventDefault(),o.stopPropagation(),o.touches.length){case 1:u=e.getMouseProjectionOnBall(o.touches[0].pageX,o.touches[0].pageY);break;case 2:var s=o.touches[0].pageX-o.touches[1].pageX,d=o.touches[0].pageY-o.touches[1].pageY;O=Math.sqrt(s*s+d*d);break;case 3:l=e.getMouseOnScreen(o.touches[0].pageX,o.touches[0].pageY);break;default:a=n.NONE}},!1),window.addEventListener("keydown",y,!1),window.addEventListener("keyup",function(o){e.enabled!==!1&&(a=m,window.addEventListener("keydown",y,!1))},!1),this.handleResize()},ae={data:()=>({game:{options:{fps:60,gridHelper:!0,orbitControls:!0},onCreate({scene:c,camera:p,effectComposer:e}){let n,r=640,a=360,m=null,i=0,h=.03,u={vertexColor:{type:"c",value:[]}},g={amplitude:{type:"f",value:.5}};const b=`
            // uniform float amplitude;
            // attribute float size;
            uniform float amplitude;

            attribute vec3 vertexColor;

            varying vec4 varColor;

            void main()
            {
            varColor = vec4(vertexColor, 1.0);

            vec4 pos = vec4(position, 1.0);
            pos.z *= amplitude;

            vec4 mvPosition = modelViewMatrix * pos;

            gl_PointSize = 1.0;
            gl_Position = projectionMatrix * mvPosition;
            }
          `,v=`
            varying vec4 varColor;

            void main()
            {
            gl_FragColor = varColor;
            }
          `;n=new ne(p),n.rotateSpeed=1,n.zoomSpeed=1.2,n.panSpeed=.8,n.noZoom=!1,n.noPan=!0,n.staticMoving=!0,n.dynamicDampingFactor=.3;const O=()=>{const l=document.createElement("img"),f=document.createElement("canvas"),y=f.getContext("2d");l.crossOrigin="Anonymous",l.onload=function(){l.width=f.width=r,l.height=f.height=a,y.fillStyle=y.createPattern(l,"no-repeat"),y.fillRect(0,0,r,a),m=y.getImageData(0,0,r,a).data,_()},l.src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/175711/tree_star.jpg"},_=()=>{let l=[.2126,.7152,.0722],f=0,y,w,M,T=400;y=new X,w=r*-.5,M=a*.5,new Z({attributes:u,uniforms:g,vertexShader:b,fragmentShader:v});let t=[];for(var o=0;o<a;o++){for(var s=0;s<r;s++){var d=new F;d.setRGB(m[f]/255,m[f+1]/255,m[f+2]/255),u.vertexColor.value.push(d);var N=d.r*l[0]+d.g*l[1]+d.b*l[2],x=new j;x.x=w,x.y=M,x.z=T*-.5+T*N,t.push(w,M,T*-.5+T*N),f+=4,w++}w=r*-.5,M--}t=new Float32Array(t),y.setAttribute("position",new U(t,3))};O(),this.shaderUniforms=g,this.animationTime=i,this.animationDelta=h},onUpdate({}){const{shaderUniforms:c}=this;c.amplitude.value=Math.sin(this.animationTime),this.animationTime+=this.animationDelta}}})};function se(c,p,e,n,r,a){const m=I,i=oe,h=C("v-navigation-drawer");return S(),V("div",null,[k(m,{modelValue:c.game,"onUpdate:modelValue":p[0]||(p[0]=u=>c.game=u)},null,8,["modelValue"]),k(h,{"model-value":!1,permanent:"",location:"end",width:"400px"},{default:E(()=>[k(i,{"model-value":c.game},null,8,["model-value"])]),_:1})])}const re=A(ae,[["render",se]]);export{re as default};
