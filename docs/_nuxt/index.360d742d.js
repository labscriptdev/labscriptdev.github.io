import B from"./layout.e10aaa92.js";import{W as H,s as N,G as M,o as _,c as v,w as n,a as s,b as V,f as h,g as k,t as g,F as w,e as u,a1 as x,r as d}from"./entry.b721ff24.js";/* empty css                                               */const Z={meta:{active:!1,icon:"mdi-laravel",name:"Gerador Laravel",description:"Criar arquivos para o frameworl Laravel baseado em estrutura de banco de dados"},data(){return{tab:"tables",tabDatabaseTable:!1,laramake:$()}}},$=()=>{const y=(t="")=>(t+[1e8]+0).replace(/[018]/g,a=>(a^crypto.getRandomValues(new Uint8Array(1))[0]&15>>a/4).toString(16)),r=(t={})=>({id:y("field-"),name:"",type:"",fk:{table:null,field:null},...t}),A=N({appName:""}),i=N({list:[],default(t={}){return t.fields=(Array.isArray(t.fields)?t.fields:[{name:"id",type:""},{name:"name",type:"varchar(255)"},{name:"created_at",type:"datetime"},{name:"updated_at",type:"datetime"},{name:"deleted_at",type:"datetime"}]).map(r),{id:y("table-"),name:"",fields:[],...t}},add(t={}){return t=this.default(t),this.list.push(t),t},remove(t){console.log(t)},fields(t){return t?this.list.filter(a=>a.name==t).at(0).fields.map(a=>a.name):[]}});i.value.add({name:"app_user"}),i.value.add({name:"app_group"}),i.value.add({name:"app_user_group",fields:[{name:"user_id",fk:{table:"app_user",field:"id"}},{name:"group_id",fk:{table:"app_group",field:"id"}}]});const l=t=>(t.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g)||[]).map(a=>(a||"").charAt(0).toUpperCase()+a.slice(1).toLowerCase()).join(""),C=M(()=>{let t=[];return i.value.list.forEach(a=>{const p=l(a.name);t.push({file:`/app/Models/${p}.php`,content:(()=>{const e=a.fields.filter(b=>!["id","created_at","updated_at","deleted_at"].includes(b.name)).map(b=>`'${b.name}'`).join(", "),c=["<?php","","namespace \\App\\Models;",""];return c.push("use Illuminate\\Database\\Eloquent\\Model;",""),c.push(`class ${p} extends Model {`),c.push(`  protected $table = '${a.name}';`),c.push(`  protected $fillable = [${e}];`),c.push("}",""),c})()})}),i.value.list.forEach(a=>{const p=l(a.name);t.push({file:`/app/Repositories/${p}Repository.php`,content:(()=>{const e=["<?php","","namespace \\App\\Repositories;",""];return e.push(`class ${p}Repository {`),e.push("}",""),e})()})}),i.value.list.forEach(a=>{const p=l(a.name);t.push({file:`/app/Http/Controllers/${p}Controller.php`,content:(()=>{const e=["<?php","","namespace \\App\\Http\\Controllers;",""];return e.push("use Illuminate\\Http\\Request;"),e.push(""),e.push(`class ${p}Controller extends Controller {`,""),e.push("  public function __construct() {"),e.push("    $this->middleware('auth:api', ["),e.push("      'except' => [],"),e.push("    ]);"),e.push("  }",""),e.push("  public function index() {"),e.push("  }",""),e.push("  public function show() {"),e.push("  }",""),e.push("  public function store() {"),e.push("  }",""),e.push("  public function update() {"),e.push("  }",""),e.push("  public function delete() {"),e.push("  }",""),e.push("}",""),e})()})}),t.push({file:"/routes/api.php",content:(()=>{const a=["<?php",""];return i.value.list.forEach(p=>{const e=l(p.name);a.push(`Route::apiResource('${p.name}', \\App\\Http\\Controllers\\${e}Controller::class);`)}),a.push(""),a})()}),t.map(a=>(Array.isArray(a.content)&&(a.content=a.content.join(`
`)),a))});return{settings:A,table:i,files:C}},j=u("colgroup",null,[u("col",{width:"*"}),u("col",{width:"200px"}),u("col",{width:"100px"})],-1),q=u("thead",null,[u("tr",null,[u("th",null,"Nome"),u("th",null,"FK"),u("th",null,"A\xE7\xF5es")])],-1),F={class:"pa-0"},z={class:"pa-0"},G={class:"d-flex"},I=u("td",null,"--",-1),P={class:"bg-primary pa-2"},S={class:"bg-grey-darken-4 text-lime pa-2 overflow-auto"};function K(y,r,A,i,l,C){const t=d("v-tab"),a=d("v-tabs"),p=d("v-btn"),e=d("v-col"),c=d("v-text-field"),b=d("v-select"),R=d("v-table"),U=d("v-window-item"),D=d("v-window"),T=d("v-row"),E=d("v-divider"),L=B;return _(),v(L,null,{default:n(()=>[s(a,{modelValue:l.tab,"onUpdate:modelValue":r[0]||(r[0]=o=>l.tab=o)},{default:n(()=>[s(t,{value:"tables"},{default:n(()=>[V("Tabelas")]),_:1})]),_:1},8,["modelValue"]),s(D,{modelValue:l.tab,"onUpdate:modelValue":r[4]||(r[4]=o=>l.tab=o)},{default:n(()=>[s(U,{value:"tables"},{default:n(()=>[s(T,null,{default:n(()=>[s(e,{cols:"12",lg:"3"},{default:n(()=>[s(a,{modelValue:l.tabDatabaseTable,"onUpdate:modelValue":r[1]||(r[1]=o=>l.tabDatabaseTable=o),direction:"vertical"},{default:n(()=>[(_(!0),h(w,null,k(l.laramake.table.list,o=>(_(),v(t,{value:o.id},{default:n(()=>[V(g(o.name||o.id),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"]),s(p,{block:"",onClick:r[2]||(r[2]=o=>l.tabDatabaseTable=l.laramake.table.add().id)},{default:n(()=>[V("Criar tabela")]),_:1})]),_:1}),s(e,{cols:"12",lg:"9"},{default:n(()=>[s(D,{modelValue:l.tabDatabaseTable,"onUpdate:modelValue":r[3]||(r[3]=o=>l.tabDatabaseTable=o)},{default:n(()=>[(_(!0),h(w,null,k(l.laramake.table.list,o=>(_(),v(U,{value:o.id},{default:n(()=>[s(c,{modelValue:o.name,"onUpdate:modelValue":m=>o.name=m},{"prepend-inner":n(()=>[V("Tabela:")]),_:2},1032,["modelValue","onUpdate:modelValue"]),s(R,null,{default:n(()=>[j,q,u("tbody",null,[(_(!0),h(w,null,k(o.fields,m=>(_(),h("tr",null,[u("td",F,[s(c,x({modelValue:m.name,"onUpdate:modelValue":f=>m.name=f},{hideDetails:!0}),null,16,["modelValue","onUpdate:modelValue"])]),u("td",z,[u("div",G,[s(b,x({hideDetails:!0},{modelValue:m.fk.table,"onUpdate:modelValue":f=>m.fk.table=f,items:l.laramake.table.list.map(f=>f.name)}),null,16,["modelValue","onUpdate:modelValue","items"]),s(b,x({hideDetails:!0},{modelValue:m.fk.field,"onUpdate:modelValue":f=>m.fk.field=f,items:l.laramake.table.fields(m.fk.table)}),null,16,["modelValue","onUpdate:modelValue","items"])])]),I]))),256))])]),_:2},1024)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(E,{class:"my-5"}),s(T,{"no-gutters":""},{default:n(()=>[(_(!0),h(w,null,k(l.laramake.files,o=>(_(),v(e,{cols:"4",class:"pa-1"},{default:n(()=>[u("pre",P,g(o.file),1),u("pre",S,g(o.content),1)]),_:2},1024))),256))]),_:1})]),_:1})}const Q=H(Z,[["render",K]]);export{Q as default};
