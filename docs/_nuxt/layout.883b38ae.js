var eg=Object.defineProperty;var ig=(i,t,e)=>t in i?eg(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var Q=(i,t,e)=>(ig(i,typeof t!="symbol"?t+"":t,e),e);import{y as Qt,J as Go,h as ls,o as F,f as q,e as P,G as Oi,Q as St,c as et,w as M,a as T,g as pt,F as dt,V as Fi,r as I,_ as Vd,S as Et,b as J,W as Zt,t as G,U as Rr,R as Na,x as ng,X as sg,B as Bd,Y as ua,Z as fn,$ as Ie,a0 as og,d as vt,s as Fa,a1 as yc,a2 as xc,a3 as wc,a4 as rg,a5 as ag}from"./entry.317c5f87.js";import{_ as lg,a as da}from"./index.fd6fa6ab.js";import cg from"./index.d2f3dbe7.js";import{Bookapp as ug}from"./Bookapp.ab6c422f.js";import dg from"./Calculator.266d9ea7.js";import{_ as hg,y as kc}from"./index.c81ff05e.js";import fg from"./info.1e4bb3a9.js";import mg from"./info.66f5a8a6.js";import{L as jd,a as Ii,F as $a,C as Ke,S as pg,P as gg,D as Nd,M as mn,s as cs,b as mi,V as re,c as Ri,d as Tt,I as _g,O as Fd,T as $d,e as bg,B as ts,f as vg,g as Hd,h as Wd,R as ha,i as pn,j as es,k as gn,l as Ha,m as Ud,n as yg,o as us,p as xg,q as Lo,r as Co,t as Zd,u as wg,v as is,G as po,w as Wa,x as Gd,y as kg,z as Tg,A as Yd,E as Mg,H as Sg,J as qd,Q as Ze,N as Pg,K as Lg,U as Cg,W as Ag,X as Eg,Y as Og,Z as Dg,_ as zg,$ as Ig,a0 as Tc,a1 as Rg,a2 as Vg,a3 as Mc,a4 as Bg,a5 as jg,a6 as Ng,a7 as Fg,a8 as Kd,a9 as $g,aa as Hg,ab as Wg,ac as Ug,ad as Zg,ae as Gg,af as Yg,ag as qg,ah as Xd,ai as Kg,aj as Xg,ak as ln,al as cn,am as Sc,an as Qd,ao as Pc,ap as Qg,aq as Lc,ar as Jg,as as t_,at as Ua,au as Jd,av as th,aw as un,ax as e_,ay as i_}from"./three.module.dfed9d41.js";import{l as go,E as Ao,a as n_,C as s_,b as o_,A as r_,c as Vr,d as a_,e as l_,f as c_,i as u_}from"./matter.c32656f5.js";import{P as Yo,F as d_,C as h_}from"./Pass.221ee647.js";import f_ from"./index.2196ec18.js";import m_ from"./index.351e65ee.js";import p_ from"./info.20a792af.js";import g_ from"./info.bf93e9bf.js";import __ from"./index.300263fb.js";import b_ from"./index.9bad9b95.js";import{_ as v_}from"./alert.0e742590.js";import y_ from"./index.ea3b96f1.js";import x_ from"./index.bfc37cb7.js";import w_ from"./index.6dacd1e2.js";import k_ from"./index.2c846c76.js";/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function ws(i){return i+.5|0}const ri=(i,t,e)=>Math.max(Math.min(i,e),t);function qn(i){return ri(ws(i*2.55),0,255)}function di(i){return ri(ws(i*255),0,255)}function We(i){return ri(ws(i/2.55)/100,0,1)}function Cc(i){return ri(ws(i*100),0,100)}const me={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},fa=[..."0123456789ABCDEF"],T_=i=>fa[i&15],M_=i=>fa[(i&240)>>4]+fa[i&15],qs=i=>(i&240)>>4===(i&15),S_=i=>qs(i.r)&&qs(i.g)&&qs(i.b)&&qs(i.a);function P_(i){var t=i.length,e;return i[0]==="#"&&(t===4||t===5?e={r:255&me[i[1]]*17,g:255&me[i[2]]*17,b:255&me[i[3]]*17,a:t===5?me[i[4]]*17:255}:(t===7||t===9)&&(e={r:me[i[1]]<<4|me[i[2]],g:me[i[3]]<<4|me[i[4]],b:me[i[5]]<<4|me[i[6]],a:t===9?me[i[7]]<<4|me[i[8]]:255})),e}const L_=(i,t)=>i<255?t(i):"";function C_(i){var t=S_(i)?T_:M_;return i?"#"+t(i.r)+t(i.g)+t(i.b)+L_(i.a,t):void 0}const A_=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function eh(i,t,e){const n=t*Math.min(e,1-e),s=(o,a=(o+i/30)%12)=>e-n*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function E_(i,t,e){const n=(s,o=(s+i/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[n(5),n(3),n(1)]}function O_(i,t,e){const n=eh(i,1,.5);let s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)n[s]*=1-t-e,n[s]+=t;return n}function D_(i,t,e,n,s){return i===s?(t-e)/n+(t<e?6:0):t===s?(e-i)/n+2:(i-t)/n+4}function Za(i){const e=i.r/255,n=i.g/255,s=i.b/255,o=Math.max(e,n,s),a=Math.min(e,n,s),l=(o+a)/2;let u,d,f;return o!==a&&(f=o-a,d=l>.5?f/(2-o-a):f/(o+a),u=D_(e,n,s,f,o),u=u*60+.5),[u|0,d||0,l]}function Ga(i,t,e,n){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,e,n)).map(di)}function Ya(i,t,e){return Ga(eh,i,t,e)}function z_(i,t,e){return Ga(O_,i,t,e)}function I_(i,t,e){return Ga(E_,i,t,e)}function ih(i){return(i%360+360)%360}function R_(i){const t=A_.exec(i);let e=255,n;if(!t)return;t[5]!==n&&(e=t[6]?qn(+t[5]):di(+t[5]));const s=ih(+t[2]),o=+t[3]/100,a=+t[4]/100;return t[1]==="hwb"?n=z_(s,o,a):t[1]==="hsv"?n=I_(s,o,a):n=Ya(s,o,a),{r:n[0],g:n[1],b:n[2],a:e}}function V_(i,t){var e=Za(i);e[0]=ih(e[0]+t),e=Ya(e),i.r=e[0],i.g=e[1],i.b=e[2]}function B_(i){if(!i)return;const t=Za(i),e=t[0],n=Cc(t[1]),s=Cc(t[2]);return i.a<255?`hsla(${e}, ${n}%, ${s}%, ${We(i.a)})`:`hsl(${e}, ${n}%, ${s}%)`}const Ac={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ec={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function j_(){const i={},t=Object.keys(Ec),e=Object.keys(Ac);let n,s,o,a,l;for(n=0;n<t.length;n++){for(a=l=t[n],s=0;s<e.length;s++)o=e[s],l=l.replace(o,Ac[o]);o=parseInt(Ec[a],16),i[l]=[o>>16&255,o>>8&255,o&255]}return i}let Ks;function N_(i){Ks||(Ks=j_(),Ks.transparent=[0,0,0,0]);const t=Ks[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const F_=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function $_(i){const t=F_.exec(i);let e=255,n,s,o;if(t){if(t[7]!==n){const a=+t[7];e=t[8]?qn(a):ri(a*255,0,255)}return n=+t[1],s=+t[3],o=+t[5],n=255&(t[2]?qn(n):ri(n,0,255)),s=255&(t[4]?qn(s):ri(s,0,255)),o=255&(t[6]?qn(o):ri(o,0,255)),{r:n,g:s,b:o,a:e}}}function H_(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${We(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const Br=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,dn=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function W_(i,t,e){const n=dn(We(i.r)),s=dn(We(i.g)),o=dn(We(i.b));return{r:di(Br(n+e*(dn(We(t.r))-n))),g:di(Br(s+e*(dn(We(t.g))-s))),b:di(Br(o+e*(dn(We(t.b))-o))),a:i.a+e*(t.a-i.a)}}function Xs(i,t,e){if(i){let n=Za(i);n[t]=Math.max(0,Math.min(n[t]+n[t]*e,t===0?360:1)),n=Ya(n),i.r=n[0],i.g=n[1],i.b=n[2]}}function nh(i,t){return i&&Object.assign(t||{},i)}function Oc(i){var t={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(t={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(t.a=di(i[3]))):(t=nh(i,{r:0,g:0,b:0,a:1}),t.a=di(t.a)),t}function U_(i){return i.charAt(0)==="r"?$_(i):R_(i)}class ds{constructor(t){if(t instanceof ds)return t;const e=typeof t;let n;e==="object"?n=Oc(t):e==="string"&&(n=P_(t)||N_(t)||U_(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=nh(this._rgb);return t&&(t.a=We(t.a)),t}set rgb(t){this._rgb=Oc(t)}rgbString(){return this._valid?H_(this._rgb):void 0}hexString(){return this._valid?C_(this._rgb):void 0}hslString(){return this._valid?B_(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,s=t.rgb;let o;const a=e===o?.5:e,l=2*a-1,u=n.a-s.a,d=((l*u===-1?l:(l+u)/(1+l*u))+1)/2;o=1-d,n.r=255&d*n.r+o*s.r+.5,n.g=255&d*n.g+o*s.g+.5,n.b=255&d*n.b+o*s.b+.5,n.a=a*n.a+(1-a)*s.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=W_(this._rgb,t._rgb,e)),this}clone(){return new ds(this.rgb)}alpha(t){return this._rgb.a=di(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=ws(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Xs(this._rgb,2,t),this}darken(t){return Xs(this._rgb,2,-t),this}saturate(t){return Xs(this._rgb,1,t),this}desaturate(t){return Xs(this._rgb,1,-t),this}rotate(t){return V_(this._rgb,t),this}}/*!
 * Chart.js v4.2.1
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function Fe(){}const Z_=(()=>{let i=0;return()=>i++})();function xt(i){return i===null||typeof i>"u"}function Ot(i){if(Array.isArray&&Array.isArray(i))return!0;const t=Object.prototype.toString.call(i);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function gt(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function jt(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function le(i,t){return jt(i)?i:t}function ut(i,t){return typeof i>"u"?t:i}const G_=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/t,sh=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*t:+i;function Ct(i,t,e){if(i&&typeof i.call=="function")return i.apply(e,t)}function kt(i,t,e,n){let s,o,a;if(Ot(i))if(o=i.length,n)for(s=o-1;s>=0;s--)t.call(e,i[s],s);else for(s=0;s<o;s++)t.call(e,i[s],s);else if(gt(i))for(a=Object.keys(i),o=a.length,s=0;s<o;s++)t.call(e,i[a[s]],a[s])}function Eo(i,t){let e,n,s,o;if(!i||!t||i.length!==t.length)return!1;for(e=0,n=i.length;e<n;++e)if(s=i[e],o=t[e],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function Oo(i){if(Ot(i))return i.map(Oo);if(gt(i)){const t=Object.create(null),e=Object.keys(i),n=e.length;let s=0;for(;s<n;++s)t[e[s]]=Oo(i[e[s]]);return t}return i}function oh(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function Y_(i,t,e,n){if(!oh(i))return;const s=t[i],o=e[i];gt(s)&&gt(o)?hs(s,o,n):t[i]=Oo(o)}function hs(i,t,e){const n=Ot(t)?t:[t],s=n.length;if(!gt(i))return i;e=e||{};const o=e.merger||Y_;let a;for(let l=0;l<s;++l){if(a=n[l],!gt(a))continue;const u=Object.keys(a);for(let d=0,f=u.length;d<f;++d)o(u[d],i,a,e)}return i}function ns(i,t){return hs(i,t,{merger:q_})}function q_(i,t,e){if(!oh(i))return;const n=t[i],s=e[i];gt(n)&&gt(s)?ns(n,s):Object.prototype.hasOwnProperty.call(t,i)||(t[i]=Oo(s))}const Dc={"":i=>i,x:i=>i.x,y:i=>i.y};function K_(i){const t=i.split("."),e=[];let n="";for(const s of t)n+=s,n.endsWith("\\")?n=n.slice(0,-1)+".":(e.push(n),n="");return e}function X_(i){const t=K_(i);return e=>{for(const n of t){if(n==="")break;e=e&&e[n]}return e}}function hi(i,t){return(Dc[t]||(Dc[t]=X_(t)))(i)}function qa(i){return i.charAt(0).toUpperCase()+i.slice(1)}const be=i=>typeof i<"u",fi=i=>typeof i=="function",zc=(i,t)=>{if(i.size!==t.size)return!1;for(const e of i)if(!t.has(e))return!1;return!0};function Q_(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const It=Math.PI,Dt=2*It,J_=Dt+It,Do=Number.POSITIVE_INFINITY,tb=It/180,Nt=It/2,Mi=It/4,Ic=It*2/3,ai=Math.log10,Re=Math.sign;function ss(i,t,e){return Math.abs(i-t)<e}function Rc(i){const t=Math.round(i);i=ss(i,t,i/1e3)?t:i;const e=Math.pow(10,Math.floor(ai(i))),n=i/e;return(n<=1?1:n<=2?2:n<=5?5:10)*e}function eb(i){const t=[],e=Math.sqrt(i);let n;for(n=1;n<e;n++)i%n===0&&(t.push(n),t.push(i/n));return e===(e|0)&&t.push(e),t.sort((s,o)=>s-o).pop(),t}function wn(i){return!isNaN(parseFloat(i))&&isFinite(i)}function ib(i,t){const e=Math.round(i);return e-t<=i&&e+t>=i}function rh(i,t,e){let n,s,o;for(n=0,s=i.length;n<s;n++)o=i[n][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Te(i){return i*(It/180)}function Ka(i){return i*(180/It)}function Vc(i){if(!jt(i))return;let t=1,e=0;for(;Math.round(i*t)/t!==i;)t*=10,e++;return e}function ah(i,t){const e=t.x-i.x,n=t.y-i.y,s=Math.sqrt(e*e+n*n);let o=Math.atan2(n,e);return o<-.5*It&&(o+=Dt),{angle:o,distance:s}}function ma(i,t){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function nb(i,t){return(i-t+J_)%Dt-It}function ce(i){return(i%Dt+Dt)%Dt}function fs(i,t,e,n){const s=ce(i),o=ce(t),a=ce(e),l=ce(o-s),u=ce(a-s),d=ce(s-o),f=ce(s-a);return s===o||s===a||n&&o===a||l>u&&d<f}function Kt(i,t,e){return Math.max(t,Math.min(e,i))}function sb(i){return Kt(i,-32768,32767)}function Ge(i,t,e,n=1e-6){return i>=Math.min(t,e)-n&&i<=Math.max(t,e)+n}function Xa(i,t,e){e=e||(a=>i[a]<t);let n=i.length-1,s=0,o;for(;n-s>1;)o=s+n>>1,e(o)?s=o:n=o;return{lo:s,hi:n}}const Ye=(i,t,e,n)=>Xa(i,e,n?s=>{const o=i[s][t];return o<e||o===e&&i[s+1][t]===e}:s=>i[s][t]<e),ob=(i,t,e)=>Xa(i,e,n=>i[n][t]>=e);function rb(i,t,e){let n=0,s=i.length;for(;n<s&&i[n]<t;)n++;for(;s>n&&i[s-1]>e;)s--;return n>0||s<i.length?i.slice(n,s):i}const lh=["push","pop","shift","splice","unshift"];function ab(i,t){if(i._chartjs){i._chartjs.listeners.push(t);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),lh.forEach(e=>{const n="_onData"+qa(e),s=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(...o){const a=s.apply(this,o);return i._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...o)}),a}})})}function Bc(i,t){const e=i._chartjs;if(!e)return;const n=e.listeners,s=n.indexOf(t);s!==-1&&n.splice(s,1),!(n.length>0)&&(lh.forEach(o=>{delete i[o]}),delete i._chartjs)}function ch(i){const t=new Set;let e,n;for(e=0,n=i.length;e<n;++e)t.add(i[e]);return t.size===n?i:Array.from(t)}const uh=function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame}();function dh(i,t){let e=[],n=!1;return function(...s){e=s,n||(n=!0,uh.call(window,()=>{n=!1,i.apply(t,e)}))}}function lb(i,t){let e;return function(...n){return t?(clearTimeout(e),e=setTimeout(i,t,n)):i.apply(this,n),t}}const Qa=i=>i==="start"?"left":i==="end"?"right":"center",te=(i,t,e)=>i==="start"?t:i==="end"?e:(t+e)/2,cb=(i,t,e,n)=>i===(n?"left":"right")?e:i==="center"?(t+e)/2:t;function hh(i,t,e){const n=t.length;let s=0,o=n;if(i._sorted){const{iScale:a,_parsed:l}=i,u=a.axis,{min:d,max:f,minDefined:m,maxDefined:g}=a.getUserBounds();m&&(s=Kt(Math.min(Ye(l,a.axis,d).lo,e?n:Ye(t,u,a.getPixelForValue(d)).lo),0,n-1)),g?o=Kt(Math.max(Ye(l,a.axis,f,!0).hi+1,e?0:Ye(t,u,a.getPixelForValue(f),!0).hi+1),s,n)-s:o=n-s}return{start:s,count:o}}function fh(i){const{xScale:t,yScale:e,_scaleRanges:n}=i,s={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!n)return i._scaleRanges=s,!0;const o=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==e.min||n.ymax!==e.max;return Object.assign(n,s),o}const Qs=i=>i===0||i===1,jc=(i,t,e)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-t)*Dt/e)),Nc=(i,t,e)=>Math.pow(2,-10*i)*Math.sin((i-t)*Dt/e)+1,os={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*Nt)+1,easeOutSine:i=>Math.sin(i*Nt),easeInOutSine:i=>-.5*(Math.cos(It*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>Qs(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>Qs(i)?i:jc(i,.075,.3),easeOutElastic:i=>Qs(i)?i:Nc(i,.075,.3),easeInOutElastic(i){return Qs(i)?i:i<.5?.5*jc(i*2,.1125,.45):.5+.5*Nc(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let t=1.70158;return(i/=.5)<1?.5*(i*i*(((t*=1.525)+1)*i-t)):.5*((i-=2)*i*(((t*=1.525)+1)*i+t)+2)},easeInBounce:i=>1-os.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?os.easeInBounce(i*2)*.5:os.easeOutBounce(i*2-1)*.5+.5};function mh(i){if(i&&typeof i=="object"){const t=i.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Fc(i){return mh(i)?i:new ds(i)}function jr(i){return mh(i)?i:new ds(i).saturate(.5).darken(.1).hexString()}const ub=["x","y","borderWidth","radius","tension"],db=["color","borderColor","backgroundColor"];function hb(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),i.set("animations",{colors:{type:"color",properties:db},numbers:{type:"number",properties:ub}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function fb(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const $c=new Map;function mb(i,t){t=t||{};const e=i+JSON.stringify(t);let n=$c.get(e);return n||(n=new Intl.NumberFormat(i,t),$c.set(e,n)),n}function ks(i,t,e){return mb(t,e).format(i)}const ph={values(i){return Ot(i)?i:""+i},numeric(i,t,e){if(i===0)return"0";const n=this.chart.options.locale;let s,o=i;if(e.length>1){const d=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(d<1e-4||d>1e15)&&(s="scientific"),o=pb(i,e)}const a=ai(Math.abs(o)),l=Math.max(Math.min(-1*Math.floor(a),20),0),u={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(u,this.options.ticks.format),ks(i,n,u)},logarithmic(i,t,e){if(i===0)return"0";const n=e[t].significand||i/Math.pow(10,Math.floor(ai(i)));return[1,2,3,5,10,15].includes(n)||t>.8*e.length?ph.numeric.call(this,i,t,e):""}};function pb(i,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&i!==Math.floor(i)&&(e=i-Math.floor(i)),e}var qo={formatters:ph};function gb(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:qo.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ji=Object.create(null),pa=Object.create(null);function rs(i,t){if(!t)return i;const e=t.split(".");for(let n=0,s=e.length;n<s;++n){const o=e[n];i=i[o]||(i[o]=Object.create(null))}return i}function Nr(i,t,e){return typeof t=="string"?hs(rs(i,t),e):hs(rs(i,""),t)}class _b{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,s)=>jr(s.backgroundColor),this.hoverBorderColor=(n,s)=>jr(s.borderColor),this.hoverColor=(n,s)=>jr(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Nr(this,t,e)}get(t){return rs(this,t)}describe(t,e){return Nr(pa,t,e)}override(t,e){return Nr(ji,t,e)}route(t,e,n,s){const o=rs(this,t),a=rs(this,n),l="_"+e;Object.defineProperties(o,{[l]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const u=this[l],d=a[s];return gt(u)?Object.assign({},d,u):ut(u,d)},set(u){this[l]=u}}})}apply(t){t.forEach(e=>e(this))}}var Ht=new _b({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[hb,fb,gb]);function bb(i){return!i||xt(i.size)||xt(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function zo(i,t,e,n,s){let o=t[s];return o||(o=t[s]=i.measureText(s).width,e.push(s)),o>n&&(n=o),n}function vb(i,t,e,n){n=n||{};let s=n.data=n.data||{},o=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(s=n.data={},o=n.garbageCollect=[],n.font=t),i.save(),i.font=t;let a=0;const l=e.length;let u,d,f,m,g;for(u=0;u<l;u++)if(m=e[u],m!=null&&Ot(m)!==!0)a=zo(i,s,o,a,m);else if(Ot(m))for(d=0,f=m.length;d<f;d++)g=m[d],g!=null&&!Ot(g)&&(a=zo(i,s,o,a,g));i.restore();const b=o.length/2;if(b>e.length){for(u=0;u<b;u++)delete s[o[u]];o.splice(0,b)}return a}function Si(i,t,e){const n=i.currentDevicePixelRatio,s=e!==0?Math.max(e/2,.5):0;return Math.round((t-s)*n)/n+s}function Hc(i,t){t=t||i.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,i.width,i.height),t.restore()}function ga(i,t,e,n){gh(i,t,e,n,null)}function gh(i,t,e,n,s){let o,a,l,u,d,f,m,g;const b=t.pointStyle,y=t.rotation,v=t.radius;let w=(y||0)*tb;if(b&&typeof b=="object"&&(o=b.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){i.save(),i.translate(e,n),i.rotate(w),i.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),i.restore();return}if(!(isNaN(v)||v<=0)){switch(i.beginPath(),b){default:s?i.ellipse(e,n,s/2,v,0,0,Dt):i.arc(e,n,v,0,Dt),i.closePath();break;case"triangle":f=s?s/2:v,i.moveTo(e+Math.sin(w)*f,n-Math.cos(w)*v),w+=Ic,i.lineTo(e+Math.sin(w)*f,n-Math.cos(w)*v),w+=Ic,i.lineTo(e+Math.sin(w)*f,n-Math.cos(w)*v),i.closePath();break;case"rectRounded":d=v*.516,u=v-d,a=Math.cos(w+Mi)*u,m=Math.cos(w+Mi)*(s?s/2-d:u),l=Math.sin(w+Mi)*u,g=Math.sin(w+Mi)*(s?s/2-d:u),i.arc(e-m,n-l,d,w-It,w-Nt),i.arc(e+g,n-a,d,w-Nt,w),i.arc(e+m,n+l,d,w,w+Nt),i.arc(e-g,n+a,d,w+Nt,w+It),i.closePath();break;case"rect":if(!y){u=Math.SQRT1_2*v,f=s?s/2:u,i.rect(e-f,n-u,2*f,2*u);break}w+=Mi;case"rectRot":m=Math.cos(w)*(s?s/2:v),a=Math.cos(w)*v,l=Math.sin(w)*v,g=Math.sin(w)*(s?s/2:v),i.moveTo(e-m,n-l),i.lineTo(e+g,n-a),i.lineTo(e+m,n+l),i.lineTo(e-g,n+a),i.closePath();break;case"crossRot":w+=Mi;case"cross":m=Math.cos(w)*(s?s/2:v),a=Math.cos(w)*v,l=Math.sin(w)*v,g=Math.sin(w)*(s?s/2:v),i.moveTo(e-m,n-l),i.lineTo(e+m,n+l),i.moveTo(e+g,n-a),i.lineTo(e-g,n+a);break;case"star":m=Math.cos(w)*(s?s/2:v),a=Math.cos(w)*v,l=Math.sin(w)*v,g=Math.sin(w)*(s?s/2:v),i.moveTo(e-m,n-l),i.lineTo(e+m,n+l),i.moveTo(e+g,n-a),i.lineTo(e-g,n+a),w+=Mi,m=Math.cos(w)*(s?s/2:v),a=Math.cos(w)*v,l=Math.sin(w)*v,g=Math.sin(w)*(s?s/2:v),i.moveTo(e-m,n-l),i.lineTo(e+m,n+l),i.moveTo(e+g,n-a),i.lineTo(e-g,n+a);break;case"line":a=s?s/2:Math.cos(w)*v,l=Math.sin(w)*v,i.moveTo(e-a,n-l),i.lineTo(e+a,n+l);break;case"dash":i.moveTo(e,n),i.lineTo(e+Math.cos(w)*(s?s/2:v),n+Math.sin(w)*v);break;case!1:i.closePath();break}i.fill(),t.borderWidth>0&&i.stroke()}}function ms(i,t,e){return e=e||.5,!t||i&&i.x>t.left-e&&i.x<t.right+e&&i.y>t.top-e&&i.y<t.bottom+e}function Ko(i,t){i.save(),i.beginPath(),i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),i.clip()}function Xo(i){i.restore()}function yb(i,t,e,n,s){if(!t)return i.lineTo(e.x,e.y);if(s==="middle"){const o=(t.x+e.x)/2;i.lineTo(o,t.y),i.lineTo(o,e.y)}else s==="after"!=!!n?i.lineTo(t.x,e.y):i.lineTo(e.x,t.y);i.lineTo(e.x,e.y)}function xb(i,t,e,n){if(!t)return i.lineTo(e.x,e.y);i.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?e.cp2x:e.cp1x,n?e.cp2y:e.cp1y,e.x,e.y)}function Ni(i,t,e,n,s,o={}){const a=Ot(t)?t:[t],l=o.strokeWidth>0&&o.strokeColor!=="";let u,d;for(i.save(),i.font=s.string,wb(i,o),u=0;u<a.length;++u)d=a[u],o.backdrop&&Tb(i,o.backdrop),l&&(o.strokeColor&&(i.strokeStyle=o.strokeColor),xt(o.strokeWidth)||(i.lineWidth=o.strokeWidth),i.strokeText(d,e,n,o.maxWidth)),i.fillText(d,e,n,o.maxWidth),kb(i,e,n,d,o),n+=s.lineHeight;i.restore()}function wb(i,t){t.translation&&i.translate(t.translation[0],t.translation[1]),xt(t.rotation)||i.rotate(t.rotation),t.color&&(i.fillStyle=t.color),t.textAlign&&(i.textAlign=t.textAlign),t.textBaseline&&(i.textBaseline=t.textBaseline)}function kb(i,t,e,n,s){if(s.strikethrough||s.underline){const o=i.measureText(n),a=t-o.actualBoundingBoxLeft,l=t+o.actualBoundingBoxRight,u=e-o.actualBoundingBoxAscent,d=e+o.actualBoundingBoxDescent,f=s.strikethrough?(u+d)/2:d;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=s.decorationWidth||2,i.moveTo(a,f),i.lineTo(l,f),i.stroke()}}function Tb(i,t){const e=i.fillStyle;i.fillStyle=t.color,i.fillRect(t.left,t.top,t.width,t.height),i.fillStyle=e}function ps(i,t){const{x:e,y:n,w:s,h:o,radius:a}=t;i.arc(e+a.topLeft,n+a.topLeft,a.topLeft,-Nt,It,!0),i.lineTo(e,n+o-a.bottomLeft),i.arc(e+a.bottomLeft,n+o-a.bottomLeft,a.bottomLeft,It,Nt,!0),i.lineTo(e+s-a.bottomRight,n+o),i.arc(e+s-a.bottomRight,n+o-a.bottomRight,a.bottomRight,Nt,0,!0),i.lineTo(e+s,n+a.topRight),i.arc(e+s-a.topRight,n+a.topRight,a.topRight,0,-Nt,!0),i.lineTo(e+a.topLeft,n)}const Mb=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Sb=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Pb(i,t){const e=(""+i).match(Mb);if(!e||e[1]==="normal")return t*1.2;switch(i=+e[2],e[3]){case"px":return i;case"%":i/=100;break}return t*i}const Lb=i=>+i||0;function Ja(i,t){const e={},n=gt(t),s=n?Object.keys(t):t,o=gt(i)?n?a=>ut(i[a],i[t[a]]):a=>i[a]:()=>i;for(const a of s)e[a]=Lb(o(a));return e}function _h(i){return Ja(i,{top:"y",right:"x",bottom:"y",left:"x"})}function Vi(i){return Ja(i,["topLeft","topRight","bottomLeft","bottomRight"])}function ie(i){const t=_h(i);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function qt(i,t){i=i||{},t=t||Ht.font;let e=ut(i.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let n=ut(i.style,t.style);n&&!(""+n).match(Sb)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const s={family:ut(i.family,t.family),lineHeight:Pb(ut(i.lineHeight,t.lineHeight),e),size:e,style:n,weight:ut(i.weight,t.weight),string:""};return s.string=bb(s),s}function Kn(i,t,e,n){let s=!0,o,a,l;for(o=0,a=i.length;o<a;++o)if(l=i[o],l!==void 0&&(t!==void 0&&typeof l=="function"&&(l=l(t),s=!1),e!==void 0&&Ot(l)&&(l=l[e%l.length],s=!1),l!==void 0))return n&&!s&&(n.cacheable=!1),l}function Cb(i,t,e){const{min:n,max:s}=i,o=sh(t,(s-n)/2),a=(l,u)=>e&&l===0?0:l+u;return{min:a(n,-Math.abs(o)),max:a(s,o)}}function pi(i,t){return Object.assign(Object.create(i),t)}function tl(i,t=[""],e=i,n,s=()=>i[0]){be(n)||(n=xh("_fallback",i));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:e,_fallback:n,_getTarget:s,override:a=>tl([a,...i],t,e,n)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete i[0][l],!0},get(a,l){return vh(a,l,()=>Vb(l,t,i,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(a,l){return Uc(a).includes(l)},ownKeys(a){return Uc(a)},set(a,l,u){const d=a._storage||(a._storage=s());return a[l]=d[l]=u,delete a._keys,!0}})}function kn(i,t,e,n){const s={_cacheable:!1,_proxy:i,_context:t,_subProxy:e,_stack:new Set,_descriptors:bh(i,n),setContext:o=>kn(i,o,e,n),override:o=>kn(i.override(o),t,e,n)};return new Proxy(s,{deleteProperty(o,a){return delete o[a],delete i[a],!0},get(o,a,l){return vh(o,a,()=>Eb(o,a,l))},getOwnPropertyDescriptor(o,a){return o._descriptors.allKeys?Reflect.has(i,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,a)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(o,a){return Reflect.has(i,a)},ownKeys(){return Reflect.ownKeys(i)},set(o,a,l){return i[a]=l,delete o[a],!0}})}function bh(i,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:n=t.indexable,_allKeys:s=t.allKeys}=i;return{allKeys:s,scriptable:e,indexable:n,isScriptable:fi(e)?e:()=>e,isIndexable:fi(n)?n:()=>n}}const Ab=(i,t)=>i?i+qa(t):t,el=(i,t)=>gt(t)&&i!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function vh(i,t,e){if(Object.prototype.hasOwnProperty.call(i,t))return i[t];const n=e();return i[t]=n,n}function Eb(i,t,e){const{_proxy:n,_context:s,_subProxy:o,_descriptors:a}=i;let l=n[t];return fi(l)&&a.isScriptable(t)&&(l=Ob(t,l,i,e)),Ot(l)&&l.length&&(l=Db(t,l,i,a.isIndexable)),el(t,l)&&(l=kn(l,s,o&&o[t],a)),l}function Ob(i,t,e,n){const{_proxy:s,_context:o,_subProxy:a,_stack:l}=e;if(l.has(i))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+i);return l.add(i),t=t(o,a||n),l.delete(i),el(i,t)&&(t=il(s._scopes,s,i,t)),t}function Db(i,t,e,n){const{_proxy:s,_context:o,_subProxy:a,_descriptors:l}=e;if(be(o.index)&&n(i))t=t[o.index%t.length];else if(gt(t[0])){const u=t,d=s._scopes.filter(f=>f!==u);t=[];for(const f of u){const m=il(d,s,i,f);t.push(kn(m,o,a&&a[i],l))}}return t}function yh(i,t,e){return fi(i)?i(t,e):i}const zb=(i,t)=>i===!0?t:typeof i=="string"?hi(t,i):void 0;function Ib(i,t,e,n,s){for(const o of t){const a=zb(e,o);if(a){i.add(a);const l=yh(a._fallback,e,s);if(be(l)&&l!==e&&l!==n)return l}else if(a===!1&&be(n)&&e!==n)return null}return!1}function il(i,t,e,n){const s=t._rootScopes,o=yh(t._fallback,e,n),a=[...i,...s],l=new Set;l.add(n);let u=Wc(l,a,e,o||e,n);return u===null||be(o)&&o!==e&&(u=Wc(l,a,o,u,n),u===null)?!1:tl(Array.from(l),[""],s,o,()=>Rb(t,e,n))}function Wc(i,t,e,n,s){for(;e;)e=Ib(i,t,e,n,s);return e}function Rb(i,t,e){const n=i._getTarget();t in n||(n[t]={});const s=n[t];return Ot(s)&&gt(e)?e:s||{}}function Vb(i,t,e,n){let s;for(const o of t)if(s=xh(Ab(o,i),e),be(s))return el(i,s)?il(e,n,i,s):s}function xh(i,t){for(const e of t){if(!e)continue;const n=e[i];if(be(n))return n}}function Uc(i){let t=i._keys;return t||(t=i._keys=Bb(i._scopes)),t}function Bb(i){const t=new Set;for(const e of i)for(const n of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(n);return Array.from(t)}function wh(i,t,e,n){const{iScale:s}=i,{key:o="r"}=this._parsing,a=new Array(n);let l,u,d,f;for(l=0,u=n;l<u;++l)d=l+e,f=t[d],a[l]={r:s.parse(hi(f,o),d)};return a}const jb=Number.EPSILON||1e-14,Tn=(i,t)=>t<i.length&&!i[t].skip&&i[t],kh=i=>i==="x"?"y":"x";function Nb(i,t,e,n){const s=i.skip?t:i,o=t,a=e.skip?t:e,l=ma(o,s),u=ma(a,o);let d=l/(l+u),f=u/(l+u);d=isNaN(d)?0:d,f=isNaN(f)?0:f;const m=n*d,g=n*f;return{previous:{x:o.x-m*(a.x-s.x),y:o.y-m*(a.y-s.y)},next:{x:o.x+g*(a.x-s.x),y:o.y+g*(a.y-s.y)}}}function Fb(i,t,e){const n=i.length;let s,o,a,l,u,d=Tn(i,0);for(let f=0;f<n-1;++f)if(u=d,d=Tn(i,f+1),!(!u||!d)){if(ss(t[f],0,jb)){e[f]=e[f+1]=0;continue}s=e[f]/t[f],o=e[f+1]/t[f],l=Math.pow(s,2)+Math.pow(o,2),!(l<=9)&&(a=3/Math.sqrt(l),e[f]=s*a*t[f],e[f+1]=o*a*t[f])}}function $b(i,t,e="x"){const n=kh(e),s=i.length;let o,a,l,u=Tn(i,0);for(let d=0;d<s;++d){if(a=l,l=u,u=Tn(i,d+1),!l)continue;const f=l[e],m=l[n];a&&(o=(f-a[e])/3,l[`cp1${e}`]=f-o,l[`cp1${n}`]=m-o*t[d]),u&&(o=(u[e]-f)/3,l[`cp2${e}`]=f+o,l[`cp2${n}`]=m+o*t[d])}}function Hb(i,t="x"){const e=kh(t),n=i.length,s=Array(n).fill(0),o=Array(n);let a,l,u,d=Tn(i,0);for(a=0;a<n;++a)if(l=u,u=d,d=Tn(i,a+1),!!u){if(d){const f=d[t]-u[t];s[a]=f!==0?(d[e]-u[e])/f:0}o[a]=l?d?Re(s[a-1])!==Re(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}Fb(i,s,o),$b(i,o,t)}function Js(i,t,e){return Math.max(Math.min(i,e),t)}function Wb(i,t){let e,n,s,o,a,l=ms(i[0],t);for(e=0,n=i.length;e<n;++e)a=o,o=l,l=e<n-1&&ms(i[e+1],t),o&&(s=i[e],a&&(s.cp1x=Js(s.cp1x,t.left,t.right),s.cp1y=Js(s.cp1y,t.top,t.bottom)),l&&(s.cp2x=Js(s.cp2x,t.left,t.right),s.cp2y=Js(s.cp2y,t.top,t.bottom)))}function Ub(i,t,e,n,s){let o,a,l,u;if(t.spanGaps&&(i=i.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")Hb(i,s);else{let d=n?i[i.length-1]:i[0];for(o=0,a=i.length;o<a;++o)l=i[o],u=Nb(d,l,i[Math.min(o+1,a-(n?0:1))%a],t.tension),l.cp1x=u.previous.x,l.cp1y=u.previous.y,l.cp2x=u.next.x,l.cp2y=u.next.y,d=l}t.capBezierPoints&&Wb(i,e)}function Th(){return typeof window<"u"&&typeof document<"u"}function nl(i){let t=i.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Io(i,t,e){let n;return typeof i=="string"?(n=parseInt(i,10),i.indexOf("%")!==-1&&(n=n/100*t.parentNode[e])):n=i,n}const Qo=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function Zb(i,t){return Qo(i).getPropertyValue(t)}const Gb=["top","right","bottom","left"];function Bi(i,t,e){const n={};e=e?"-"+e:"";for(let s=0;s<4;s++){const o=Gb[s];n[o]=parseFloat(i[t+"-"+o+e])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const Yb=(i,t,e)=>(i>0||t>0)&&(!e||!e.shadowRoot);function qb(i,t){const e=i.touches,n=e&&e.length?e[0]:i,{offsetX:s,offsetY:o}=n;let a=!1,l,u;if(Yb(s,o,i.target))l=s,u=o;else{const d=t.getBoundingClientRect();l=n.clientX-d.left,u=n.clientY-d.top,a=!0}return{x:l,y:u,box:a}}function Ci(i,t){if("native"in i)return i;const{canvas:e,currentDevicePixelRatio:n}=t,s=Qo(e),o=s.boxSizing==="border-box",a=Bi(s,"padding"),l=Bi(s,"border","width"),{x:u,y:d,box:f}=qb(i,e),m=a.left+(f&&l.left),g=a.top+(f&&l.top);let{width:b,height:y}=t;return o&&(b-=a.width+l.width,y-=a.height+l.height),{x:Math.round((u-m)/b*e.width/n),y:Math.round((d-g)/y*e.height/n)}}function Kb(i,t,e){let n,s;if(t===void 0||e===void 0){const o=nl(i);if(!o)t=i.clientWidth,e=i.clientHeight;else{const a=o.getBoundingClientRect(),l=Qo(o),u=Bi(l,"border","width"),d=Bi(l,"padding");t=a.width-d.width-u.width,e=a.height-d.height-u.height,n=Io(l.maxWidth,o,"clientWidth"),s=Io(l.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:n||Do,maxHeight:s||Do}}const to=i=>Math.round(i*10)/10;function Xb(i,t,e,n){const s=Qo(i),o=Bi(s,"margin"),a=Io(s.maxWidth,i,"clientWidth")||Do,l=Io(s.maxHeight,i,"clientHeight")||Do,u=Kb(i,t,e);let{width:d,height:f}=u;if(s.boxSizing==="content-box"){const g=Bi(s,"border","width"),b=Bi(s,"padding");d-=b.width+g.width,f-=b.height+g.height}return d=Math.max(0,d-o.width),f=Math.max(0,n?d/n:f-o.height),d=to(Math.min(d,a,u.maxWidth)),f=to(Math.min(f,l,u.maxHeight)),d&&!f&&(f=to(d/2)),(t!==void 0||e!==void 0)&&n&&u.height&&f>u.height&&(f=u.height,d=to(Math.floor(f*n))),{width:d,height:f}}function Zc(i,t,e){const n=t||1,s=Math.floor(i.height*n),o=Math.floor(i.width*n);i.height=Math.floor(i.height),i.width=Math.floor(i.width);const a=i.canvas;return a.style&&(e||!a.style.height&&!a.style.width)&&(a.style.height=`${i.height}px`,a.style.width=`${i.width}px`),i.currentDevicePixelRatio!==n||a.height!==s||a.width!==o?(i.currentDevicePixelRatio=n,a.height=s,a.width=o,i.ctx.setTransform(n,0,0,n,0,0),!0):!1}const Qb=function(){let i=!1;try{const t={get passive(){return i=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return i}();function Gc(i,t){const e=Zb(i,t),n=e&&e.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Ai(i,t,e,n){return{x:i.x+e*(t.x-i.x),y:i.y+e*(t.y-i.y)}}function Jb(i,t,e,n){return{x:i.x+e*(t.x-i.x),y:n==="middle"?e<.5?i.y:t.y:n==="after"?e<1?i.y:t.y:e>0?t.y:i.y}}function tv(i,t,e,n){const s={x:i.cp2x,y:i.cp2y},o={x:t.cp1x,y:t.cp1y},a=Ai(i,s,e),l=Ai(s,o,e),u=Ai(o,t,e),d=Ai(a,l,e),f=Ai(l,u,e);return Ai(d,f,e)}const ev=function(i,t){return{x(e){return i+i+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,n){return e-n},leftForLtr(e,n){return e-n}}},iv=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,t){return i+t},leftForLtr(i,t){return i}}};function _n(i,t,e){return i?ev(t,e):iv()}function Mh(i,t){let e,n;(t==="ltr"||t==="rtl")&&(e=i.canvas.style,n=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),i.prevTextDirection=n)}function Sh(i,t){t!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",t[0],t[1]))}function Ph(i){return i==="angle"?{between:fs,compare:nb,normalize:ce}:{between:Ge,compare:(t,e)=>t-e,normalize:t=>t}}function Yc({start:i,end:t,count:e,loop:n,style:s}){return{start:i%e,end:t%e,loop:n&&(t-i+1)%e===0,style:s}}function nv(i,t,e){const{property:n,start:s,end:o}=e,{between:a,normalize:l}=Ph(n),u=t.length;let{start:d,end:f,loop:m}=i,g,b;if(m){for(d+=u,f+=u,g=0,b=u;g<b&&a(l(t[d%u][n]),s,o);++g)d--,f--;d%=u,f%=u}return f<d&&(f+=u),{start:d,end:f,loop:m,style:i.style}}function Lh(i,t,e){if(!e)return[i];const{property:n,start:s,end:o}=e,a=t.length,{compare:l,between:u,normalize:d}=Ph(n),{start:f,end:m,loop:g,style:b}=nv(i,t,e),y=[];let v=!1,w=null,k,S,O;const E=()=>u(s,O,k)&&l(s,O)!==0,A=()=>l(o,k)===0||u(o,O,k),D=()=>v||E(),z=()=>!v||A();for(let N=f,$=f;N<=m;++N)S=t[N%a],!S.skip&&(k=d(S[n]),k!==O&&(v=u(k,s,o),w===null&&D()&&(w=l(k,s)===0?N:$),w!==null&&z()&&(y.push(Yc({start:w,end:N,loop:g,count:a,style:b})),w=null),$=N,O=k));return w!==null&&y.push(Yc({start:w,end:m,loop:g,count:a,style:b})),y}function Ch(i,t){const e=[],n=i.segments;for(let s=0;s<n.length;s++){const o=Lh(n[s],i.points,t);o.length&&e.push(...o)}return e}function sv(i,t,e,n){let s=0,o=t-1;if(e&&!n)for(;s<t&&!i[s].skip;)s++;for(;s<t&&i[s].skip;)s++;for(s%=t,e&&(o+=s);o>s&&i[o%t].skip;)o--;return o%=t,{start:s,end:o}}function ov(i,t,e,n){const s=i.length,o=[];let a=t,l=i[t],u;for(u=t+1;u<=e;++u){const d=i[u%s];d.skip||d.stop?l.skip||(n=!1,o.push({start:t%s,end:(u-1)%s,loop:n}),t=a=d.stop?u:null):(a=u,l.skip&&(t=u)),l=d}return a!==null&&o.push({start:t%s,end:a%s,loop:n}),o}function rv(i,t){const e=i.points,n=i.options.spanGaps,s=e.length;if(!s)return[];const o=!!i._loop,{start:a,end:l}=sv(e,s,o,n);if(n===!0)return qc(i,[{start:a,end:l,loop:o}],e,t);const u=l<a?l+s:l,d=!!i._fullLoop&&a===0&&l===s-1;return qc(i,ov(e,a,u,d),e,t)}function qc(i,t,e,n){return!n||!n.setContext||!e?t:av(i,t,e,n)}function av(i,t,e,n){const s=i._chart.getContext(),o=Kc(i.options),{_datasetIndex:a,options:{spanGaps:l}}=i,u=e.length,d=[];let f=o,m=t[0].start,g=m;function b(y,v,w,k){const S=l?-1:1;if(y!==v){for(y+=u;e[y%u].skip;)y-=S;for(;e[v%u].skip;)v+=S;y%u!==v%u&&(d.push({start:y%u,end:v%u,loop:w,style:k}),f=k,m=v%u)}}for(const y of t){m=l?m:y.start;let v=e[m%u],w;for(g=m+1;g<=y.end;g++){const k=e[g%u];w=Kc(n.setContext(pi(s,{type:"segment",p0:v,p1:k,p0DataIndex:(g-1)%u,p1DataIndex:g%u,datasetIndex:a}))),lv(w,f)&&b(m,g-1,y.loop,f),v=k,f=w}m<g-1&&b(m,g-1,y.loop,f)}return d}function Kc(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function lv(i,t){return t&&JSON.stringify(i)!==JSON.stringify(t)}/*!
 * Chart.js v4.2.1
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class cv{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,s){const o=e.listeners[s],a=e.duration;o.forEach(l=>l({chart:t,initial:e.initial,numSteps:a,currentStep:Math.min(n-e.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=uh.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((n,s)=>{if(!n.running||!n.items.length)return;const o=n.items;let a=o.length-1,l=!1,u;for(;a>=0;--a)u=o[a],u._active?(u._total>n.duration&&(n.duration=u._total),u.tick(t),l=!0):(o[a]=o[o.length-1],o.pop());l&&(s.draw(),this._notify(s,n,t,"progress")),o.length||(n.running=!1,this._notify(s,n,t,"complete"),n.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((n,s)=>Math.max(n,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let s=n.length-1;for(;s>=0;--s)n[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var $e=new cv;const Xc="transparent",uv={boolean(i,t,e){return e>.5?t:i},color(i,t,e){const n=Fc(i||Xc),s=n.valid&&Fc(t||Xc);return s&&s.valid?s.mix(n,e).hexString():t},number(i,t,e){return i+(t-i)*e}};class dv{constructor(t,e,n,s){const o=e[n];s=Kn([t.to,s,o,t.from]);const a=Kn([t.from,o,s]);this._active=!0,this._fn=t.fn||uv[t.type||typeof a],this._easing=os[t.easing]||os.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const s=this._target[this._prop],o=n-this._start,a=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Kn([t.to,e,s,t.from]),this._from=Kn([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,s=this._prop,o=this._from,a=this._loop,l=this._to;let u;if(this._active=o!==l&&(a||e<n),!this._active){this._target[s]=l,this._notify(!0);return}if(e<0){this._target[s]=o;return}u=e/n%2,u=a&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[s]=this._fn(o,l,u)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,n)=>{t.push({res:e,rej:n})})}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let s=0;s<n.length;s++)n[s][e]()}}class Ah{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!gt(t))return;const e=Object.keys(Ht.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const o=t[s];if(!gt(o))return;const a={};for(const l of e)a[l]=o[l];(Ot(o.properties)&&o.properties||[s]).forEach(l=>{(l===s||!n.has(l))&&n.set(l,a)})})}_animateOptions(t,e){const n=e.options,s=fv(t,n);if(!s)return[];const o=this._createAnimations(s,n);return n.$shared&&hv(t.options.$animations,n).then(()=>{t.options=n},()=>{}),o}_createAnimations(t,e){const n=this._properties,s=[],o=t.$animations||(t.$animations={}),a=Object.keys(e),l=Date.now();let u;for(u=a.length-1;u>=0;--u){const d=a[u];if(d.charAt(0)==="$")continue;if(d==="options"){s.push(...this._animateOptions(t,e));continue}const f=e[d];let m=o[d];const g=n.get(d);if(m)if(g&&m.active()){m.update(g,f,l);continue}else m.cancel();if(!g||!g.duration){t[d]=f;continue}o[d]=m=new dv(g,t,d,f),s.push(m)}return s}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const n=this._createAnimations(t,e);if(n.length)return $e.add(this._chart,n),!0}}function hv(i,t){const e=[],n=Object.keys(t);for(let s=0;s<n.length;s++){const o=i[n[s]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function fv(i,t){if(!t)return;let e=i.options;if(!e){i.options=t;return}return e.$shared&&(i.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Qc(i,t){const e=i&&i.options||{},n=e.reverse,s=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:n?o:s,end:n?s:o}}function mv(i,t,e){if(e===!1)return!1;const n=Qc(i,e),s=Qc(t,e);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}function pv(i){let t,e,n,s;return gt(i)?(t=i.top,e=i.right,n=i.bottom,s=i.left):t=e=n=s=i,{top:t,right:e,bottom:n,left:s,disabled:i===!1}}function Eh(i,t){const e=[],n=i._getSortedDatasetMetas(t);let s,o;for(s=0,o=n.length;s<o;++s)e.push(n[s].index);return e}function Jc(i,t,e,n={}){const s=i.keys,o=n.mode==="single";let a,l,u,d;if(t!==null){for(a=0,l=s.length;a<l;++a){if(u=+s[a],u===e){if(n.all)continue;break}d=i.values[u],jt(d)&&(o||t===0||Re(t)===Re(d))&&(t+=d)}return t}}function gv(i){const t=Object.keys(i),e=new Array(t.length);let n,s,o;for(n=0,s=t.length;n<s;++n)o=t[n],e[n]={x:o,y:i[o]};return e}function tu(i,t){const e=i&&i.options.stacked;return e||e===void 0&&t.stack!==void 0}function _v(i,t,e){return`${i.id}.${t.id}.${e.stack||e.type}`}function bv(i){const{min:t,max:e,minDefined:n,maxDefined:s}=i.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}function vv(i,t,e){const n=i[t]||(i[t]={});return n[e]||(n[e]={})}function eu(i,t,e,n){for(const s of t.getMatchingVisibleMetas(n).reverse()){const o=i[s.index];if(e&&o>0||!e&&o<0)return s.index}return null}function iu(i,t){const{chart:e,_cachedMeta:n}=i,s=e._stacks||(e._stacks={}),{iScale:o,vScale:a,index:l}=n,u=o.axis,d=a.axis,f=_v(o,a,n),m=t.length;let g;for(let b=0;b<m;++b){const y=t[b],{[u]:v,[d]:w}=y,k=y._stacks||(y._stacks={});g=k[d]=vv(s,f,v),g[l]=w,g._top=eu(g,a,!0,n.type),g._bottom=eu(g,a,!1,n.type);const S=g._visualValues||(g._visualValues={});S[l]=w}}function Fr(i,t){const e=i.scales;return Object.keys(e).filter(n=>e[n].axis===t).shift()}function yv(i,t){return pi(i,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function xv(i,t,e){return pi(i,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function $n(i,t){const e=i.controller.index,n=i.vScale&&i.vScale.axis;if(n){t=t||i._parsed;for(const s of t){const o=s._stacks;if(!o||o[n]===void 0||o[n][e]===void 0)return;delete o[n][e],o[n]._visualValues!==void 0&&o[n]._visualValues[e]!==void 0&&delete o[n]._visualValues[e]}}}const $r=i=>i==="reset"||i==="none",nu=(i,t)=>t?i:Object.assign({},i),wv=(i,t,e)=>i&&!t.hidden&&t._stacked&&{keys:Eh(e,!0),values:null};class Me{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=tu(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&$n(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),s=(m,g,b,y)=>m==="x"?g:m==="r"?y:b,o=e.xAxisID=ut(n.xAxisID,Fr(t,"x")),a=e.yAxisID=ut(n.yAxisID,Fr(t,"y")),l=e.rAxisID=ut(n.rAxisID,Fr(t,"r")),u=e.indexAxis,d=e.iAxisID=s(u,o,a,l),f=e.vAxisID=s(u,a,o,l);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(a),e.rScale=this.getScaleForId(l),e.iScale=this.getScaleForId(d),e.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Bc(this._data,this),t._stacked&&$n(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(gt(e))this._data=gv(e);else if(n!==e){if(n){Bc(n,this);const s=this._cachedMeta;$n(s),s._parsed=[]}e&&Object.isExtensible(e)&&ab(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let s=!1;this._dataCheck();const o=e._stacked;e._stacked=tu(e.vScale,e),e.stack!==n.stack&&(s=!0,$n(e),e.stack=n.stack),this._resyncElements(t),(s||o!==e._stacked)&&iu(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:s}=this,{iScale:o,_stacked:a}=n,l=o.axis;let u=t===0&&e===s.length?!0:n._sorted,d=t>0&&n._parsed[t-1],f,m,g;if(this._parsing===!1)n._parsed=s,n._sorted=!0,g=s;else{Ot(s[t])?g=this.parseArrayData(n,s,t,e):gt(s[t])?g=this.parseObjectData(n,s,t,e):g=this.parsePrimitiveData(n,s,t,e);const b=()=>m[l]===null||d&&m[l]<d[l];for(f=0;f<e;++f)n._parsed[f+t]=m=g[f],u&&(b()&&(u=!1),d=m);n._sorted=u}a&&iu(this,g)}parsePrimitiveData(t,e,n,s){const{iScale:o,vScale:a}=t,l=o.axis,u=a.axis,d=o.getLabels(),f=o===a,m=new Array(s);let g,b,y;for(g=0,b=s;g<b;++g)y=g+n,m[g]={[l]:f||o.parse(d[y],y),[u]:a.parse(e[y],y)};return m}parseArrayData(t,e,n,s){const{xScale:o,yScale:a}=t,l=new Array(s);let u,d,f,m;for(u=0,d=s;u<d;++u)f=u+n,m=e[f],l[u]={x:o.parse(m[0],f),y:a.parse(m[1],f)};return l}parseObjectData(t,e,n,s){const{xScale:o,yScale:a}=t,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,d=new Array(s);let f,m,g,b;for(f=0,m=s;f<m;++f)g=f+n,b=e[g],d[f]={x:o.parse(hi(b,l),g),y:a.parse(hi(b,u),g)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const s=this.chart,o=this._cachedMeta,a=e[t.axis],l={keys:Eh(s,!0),values:e._stacks[t.axis]._visualValues};return Jc(l,a,o.index,{mode:n})}updateRangeFromParsed(t,e,n,s){const o=n[e.axis];let a=o===null?NaN:o;const l=s&&n._stacks[e.axis];s&&l&&(s.values=l,a=Jc(s,o,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,e){const n=this._cachedMeta,s=n._parsed,o=n._sorted&&t===n.iScale,a=s.length,l=this._getOtherScale(t),u=wv(e,n,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:m}=bv(l);let g,b;function y(){b=s[g];const v=b[l.axis];return!jt(b[t.axis])||f>v||m<v}for(g=0;g<a&&!(!y()&&(this.updateRangeFromParsed(d,t,b,u),o));++g);if(o){for(g=a-1;g>=0;--g)if(!y()){this.updateRangeFromParsed(d,t,b,u);break}}return d}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let s,o,a;for(s=0,o=e.length;s<o;++s)a=e[s][t.axis],jt(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,s=e.vScale,o=this.getParsed(t);return{label:n?""+n.getLabelForValue(o[n.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=pv(ut(this.options.clip,mv(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,s=n.data||[],o=e.chartArea,a=[],l=this._drawStart||0,u=this._drawCount||s.length-l,d=this.options.drawActiveElementsOnTop;let f;for(n.dataset&&n.dataset.draw(t,o,l,u),f=l;f<l+u;++f){const m=s[f];m.hidden||(m.active&&d?a.push(m):m.draw(t,o))}for(f=0;f<a.length;++f)a[f].draw(t,o)}getStyle(t,e){const n=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const s=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];o=a.$context||(a.$context=xv(this.getContext(),t,a)),o.parsed=this.getParsed(t),o.raw=s.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=yv(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=n,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",n){const s=e==="active",o=this._cachedDataOpts,a=t+"-"+e,l=o[a],u=this.enableOptionSharing&&be(n);if(l)return nu(l,u);const d=this.chart.config,f=d.datasetElementScopeKeys(this._type,t),m=s?[`${t}Hover`,"hover",t,""]:[t,""],g=d.getOptionScopes(this.getDataset(),f),b=Object.keys(Ht.elements[t]),y=()=>this.getContext(n,s,e),v=d.resolveNamedOptions(g,b,y,m);return v.$shared&&(v.$shared=u,o[a]=Object.freeze(nu(v,u))),v}_resolveAnimations(t,e,n){const s=this.chart,o=this._cachedDataOpts,a=`animation-${e}`,l=o[a];if(l)return l;let u;if(s.options.animation!==!1){const f=this.chart.config,m=f.datasetAnimationScopeKeys(this._type,e),g=f.getOptionScopes(this.getDataset(),m);u=f.createResolver(g,this.getContext(t,n,e))}const d=new Ah(s,u&&u.animations);return u&&u._cacheable&&(o[a]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||$r(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),s=this._sharedOptions,o=this.getSharedOptions(n),a=this.includeOptions(e,o)||o!==s;return this.updateSharedOptions(o,e,n),{sharedOptions:o,includeOptions:a}}updateElement(t,e,n,s){$r(s)?Object.assign(t,n):this._resolveAnimations(e,s).update(t,n)}updateSharedOptions(t,e,n){t&&!$r(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,s){t.active=s;const o=this.getStyle(e,s);this._resolveAnimations(e,n,s).update(t,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[l,u,d]of this._syncList)this[l](u,d);this._syncList=[];const s=n.length,o=e.length,a=Math.min(o,s);a&&this.parse(0,a),o>s?this._insertElements(s,o-s,t):o<s&&this._removeElements(o,s-o)}_insertElements(t,e,n=!0){const s=this._cachedMeta,o=s.data,a=t+e;let l;const u=d=>{for(d.length+=e,l=d.length-1;l>=a;l--)d[l]=d[l-e]};for(u(o),l=t;l<a;++l)o[l]=new this.dataElementType;this._parsing&&u(s._parsed),this.parse(t,e),n&&this.updateElements(o,t,e,"reset")}updateElements(t,e,n,s){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const s=n._parsed.splice(t,e);n._stacked&&$n(n,s)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,s]=t;this[e](n,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Q(Me,"defaults",{}),Q(Me,"datasetElementType",null),Q(Me,"dataElementType",null);function kv(i,t){if(!i._cache.$bar){const e=i.getMatchingVisibleMetas(t);let n=[];for(let s=0,o=e.length;s<o;s++)n=n.concat(e[s].controller.getAllParsedValues(i));i._cache.$bar=ch(n.sort((s,o)=>s-o))}return i._cache.$bar}function Tv(i){const t=i.iScale,e=kv(t,i.type);let n=t._length,s,o,a,l;const u=()=>{a===32767||a===-32768||(be(l)&&(n=Math.min(n,Math.abs(a-l)||n)),l=a)};for(s=0,o=e.length;s<o;++s)a=t.getPixelForValue(e[s]),u();for(l=void 0,s=0,o=t.ticks.length;s<o;++s)a=t.getPixelForTick(s),u();return n}function Mv(i,t,e,n){const s=e.barThickness;let o,a;return xt(s)?(o=t.min*e.categoryPercentage,a=e.barPercentage):(o=s*n,a=1),{chunk:o/n,ratio:a,start:t.pixels[i]-o/2}}function Sv(i,t,e,n){const s=t.pixels,o=s[i];let a=i>0?s[i-1]:null,l=i<s.length-1?s[i+1]:null;const u=e.categoryPercentage;a===null&&(a=o-(l===null?t.end-t.start:l-o)),l===null&&(l=o+o-a);const d=o-(o-Math.min(a,l))/2*u;return{chunk:Math.abs(l-a)/2*u/n,ratio:e.barPercentage,start:d}}function Pv(i,t,e,n){const s=e.parse(i[0],n),o=e.parse(i[1],n),a=Math.min(s,o),l=Math.max(s,o);let u=a,d=l;Math.abs(a)>Math.abs(l)&&(u=l,d=a),t[e.axis]=d,t._custom={barStart:u,barEnd:d,start:s,end:o,min:a,max:l}}function Oh(i,t,e,n){return Ot(i)?Pv(i,t,e,n):t[e.axis]=e.parse(i,n),t}function su(i,t,e,n){const s=i.iScale,o=i.vScale,a=s.getLabels(),l=s===o,u=[];let d,f,m,g;for(d=e,f=e+n;d<f;++d)g=t[d],m={},m[s.axis]=l||s.parse(a[d],d),u.push(Oh(g,m,o,d));return u}function Hr(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function Lv(i,t,e){return i!==0?Re(i):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function Cv(i){let t,e,n,s,o;return i.horizontal?(t=i.base>i.x,e="left",n="right"):(t=i.base<i.y,e="bottom",n="top"),t?(s="end",o="start"):(s="start",o="end"),{start:e,end:n,reverse:t,top:s,bottom:o}}function Av(i,t,e,n){let s=t.borderSkipped;const o={};if(!s){i.borderSkipped=o;return}if(s===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:l,reverse:u,top:d,bottom:f}=Cv(i);s==="middle"&&e&&(i.enableBorderRadius=!0,(e._top||0)===n?s=d:(e._bottom||0)===n?s=f:(o[ou(f,a,l,u)]=!0,s=d)),o[ou(s,a,l,u)]=!0,i.borderSkipped=o}function ou(i,t,e,n){return n?(i=Ev(i,t,e),i=ru(i,e,t)):i=ru(i,t,e),i}function Ev(i,t,e){return i===t?e:i===e?t:i}function ru(i,t,e){return i==="start"?t:i==="end"?e:i}function Ov(i,{inflateAmount:t},e){i.inflateAmount=t==="auto"?e===1?.33:0:t}class _o extends Me{parsePrimitiveData(t,e,n,s){return su(t,e,n,s)}parseArrayData(t,e,n,s){return su(t,e,n,s)}parseObjectData(t,e,n,s){const{iScale:o,vScale:a}=t,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,d=o.axis==="x"?l:u,f=a.axis==="x"?l:u,m=[];let g,b,y,v;for(g=n,b=n+s;g<b;++g)v=e[g],y={},y[o.axis]=o.parse(hi(v,d),g),m.push(Oh(hi(v,f),y,a,g));return m}updateRangeFromParsed(t,e,n,s){super.updateRangeFromParsed(t,e,n,s);const o=n._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:s}=e,o=this.getParsed(t),a=o._custom,l=Hr(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+n.getLabelForValue(o[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,s){const o=s==="reset",{index:a,_cachedMeta:{vScale:l}}=this,u=l.getBasePixel(),d=l.isHorizontal(),f=this._getRuler(),{sharedOptions:m,includeOptions:g}=this._getSharedOptions(e,s);for(let b=e;b<e+n;b++){const y=this.getParsed(b),v=o||xt(y[l.axis])?{base:u,head:u}:this._calculateBarValuePixels(b),w=this._calculateBarIndexPixels(b,f),k=(y._stacks||{})[l.axis],S={horizontal:d,base:v.base,enableBorderRadius:!k||Hr(y._custom)||a===k._top||a===k._bottom,x:d?v.head:w.center,y:d?w.center:v.head,height:d?w.size:Math.abs(v.size),width:d?Math.abs(v.size):w.size};g&&(S.options=m||this.resolveDataElementOptions(b,t[b].active?"active":s));const O=S.options||t[b].options;Av(S,O,k,a),Ov(S,O,f.ratio),this.updateElement(t[b],b,S,s)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,s=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),o=n.options.stacked,a=[],l=u=>{const d=u.controller.getParsed(e),f=d&&d[u.vScale.axis];if(xt(f)||isNaN(f))return!0};for(const u of s)if(!(e!==void 0&&l(u))&&((o===!1||a.indexOf(u.stack)===-1||o===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const s=this._getStacks(t,n),o=e!==void 0?s.indexOf(e):-1;return o===-1?s.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,s=[];let o,a;for(o=0,a=e.data.length;o<a;++o)s.push(n.getPixelForValue(this.getParsed(o)[n.axis],o));const l=t.barThickness;return{min:l||Tv(e),pixels:s,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n,index:s},options:{base:o,minBarLength:a}}=this,l=o||0,u=this.getParsed(t),d=u._custom,f=Hr(d);let m=u[e.axis],g=0,b=n?this.applyStack(e,u,n):m,y,v;b!==m&&(g=b-m,b=m),f&&(m=d.barStart,b=d.barEnd-d.barStart,m!==0&&Re(m)!==Re(d.barEnd)&&(g=0),g+=m);const w=!xt(o)&&!f?o:g;let k=e.getPixelForValue(w);if(this.chart.getDataVisibility(t)?y=e.getPixelForValue(g+b):y=k,v=y-k,Math.abs(v)<a){v=Lv(v,e,l)*a,m===l&&(k-=v/2);const S=e.getPixelForDecimal(0),O=e.getPixelForDecimal(1),E=Math.min(S,O),A=Math.max(S,O);k=Math.max(Math.min(k,A),E),y=k+v,n&&!f&&(u._stacks[e.axis]._visualValues[s]=e.getValueForPixel(y)-e.getValueForPixel(k))}if(k===e.getPixelForValue(l)){const S=Re(v)*e.getLineWidthForValue(l)/2;k+=S,v-=S}return{size:v,base:k,head:y,center:y+v/2}}_calculateBarIndexPixels(t,e){const n=e.scale,s=this.options,o=s.skipNull,a=ut(s.maxBarThickness,1/0);let l,u;if(e.grouped){const d=o?this._getStackCount(t):e.stackCount,f=s.barThickness==="flex"?Sv(t,e,s,d):Mv(t,e,s,d),m=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);l=f.start+f.chunk*m+f.chunk/2,u=Math.min(a,f.chunk*f.ratio)}else l=n.getPixelForValue(this.getParsed(t)[n.axis],t),u=Math.min(a,e.min*e.ratio);return{base:l-u/2,head:l+u/2,center:l,size:u}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,s=n.length;let o=0;for(;o<s;++o)this.getParsed(o)[e.axis]!==null&&n[o].draw(this._ctx)}}Q(_o,"id","bar"),Q(_o,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Q(_o,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class bo extends Me{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,s){const o=super.parsePrimitiveData(t,e,n,s);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+n).radius;return o}parseArrayData(t,e,n,s){const o=super.parseArrayData(t,e,n,s);for(let a=0;a<o.length;a++){const l=e[n+a];o[a]._custom=ut(l[2],this.resolveDataElementOptions(a+n).radius)}return o}parseObjectData(t,e,n,s){const o=super.parseObjectData(t,e,n,s);for(let a=0;a<o.length;a++){const l=e[n+a];o[a]._custom=ut(l&&l.r&&+l.r,this.resolveDataElementOptions(a+n).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:s,yScale:o}=e,a=this.getParsed(t),l=s.getLabelForValue(a.x),u=o.getLabelForValue(a.y),d=a._custom;return{label:n[t]||"",value:"("+l+", "+u+(d?", "+d:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,s){const o=s==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(e,s),f=a.axis,m=l.axis;for(let g=e;g<e+n;g++){const b=t[g],y=!o&&this.getParsed(g),v={},w=v[f]=o?a.getPixelForDecimal(.5):a.getPixelForValue(y[f]),k=v[m]=o?l.getBasePixel():l.getPixelForValue(y[m]);v.skip=isNaN(w)||isNaN(k),d&&(v.options=u||this.resolveDataElementOptions(g,b.active?"active":s),o&&(v.options.radius=0)),this.updateElement(b,g,v,s)}}resolveDataElementOptions(t,e){const n=this.getParsed(t);let s=super.resolveDataElementOptions(t,e);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const o=s.radius;return e!=="active"&&(s.radius=0),s.radius+=ut(n&&n._custom,o),s}}Q(bo,"id","bubble"),Q(bo,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Q(bo,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Dv(i,t,e){let n=1,s=1,o=0,a=0;if(t<Dt){const l=i,u=l+t,d=Math.cos(l),f=Math.sin(l),m=Math.cos(u),g=Math.sin(u),b=(O,E,A)=>fs(O,l,u,!0)?1:Math.max(E,E*e,A,A*e),y=(O,E,A)=>fs(O,l,u,!0)?-1:Math.min(E,E*e,A,A*e),v=b(0,d,m),w=b(Nt,f,g),k=y(It,d,m),S=y(It+Nt,f,g);n=(v-k)/2,s=(w-S)/2,o=-(v+k)/2,a=-(w+S)/2}return{ratioX:n,ratioY:s,offsetX:o,offsetY:a}}class Di extends Me{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=n;else{let o=u=>+n[u];if(gt(n[t])){const{key:u="value"}=this._parsing;o=d=>+hi(n[d],u)}let a,l;for(a=t,l=t+e;a<l;++a)s._parsed[a]=o(a)}}_getRotation(){return Te(this.options.rotation-90)}_getCircumference(){return Te(this.options.circumference)}_getRotationExtents(){let t=Dt,e=-Dt;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const s=this.chart.getDatasetMeta(n).controller,o=s._getRotation(),a=s._getCircumference();t=Math.min(t,o),e=Math.max(e,o+a)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,s=this._cachedMeta,o=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-a)/2,0),u=Math.min(G_(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:f,rotation:m}=this._getRotationExtents(),{ratioX:g,ratioY:b,offsetX:y,offsetY:v}=Dv(m,f,u),w=(n.width-a)/g,k=(n.height-a)/b,S=Math.max(Math.min(w,k)/2,0),O=sh(this.options.radius,S),E=Math.max(O*u,0),A=(O-E)/this._getVisibleDatasetWeightTotal();this.offsetX=y*O,this.offsetY=v*O,s.total=this.calculateTotal(),this.outerRadius=O-A*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-A*d,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const n=this.options,s=this._cachedMeta,o=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*o/Dt)}updateElements(t,e,n,s){const o=s==="reset",a=this.chart,l=a.chartArea,d=a.options.animation,f=(l.left+l.right)/2,m=(l.top+l.bottom)/2,g=o&&d.animateScale,b=g?0:this.innerRadius,y=g?0:this.outerRadius,{sharedOptions:v,includeOptions:w}=this._getSharedOptions(e,s);let k=this._getRotation(),S;for(S=0;S<e;++S)k+=this._circumference(S,o);for(S=e;S<e+n;++S){const O=this._circumference(S,o),E=t[S],A={x:f+this.offsetX,y:m+this.offsetY,startAngle:k,endAngle:k+O,circumference:O,outerRadius:y,innerRadius:b};w&&(A.options=v||this.resolveDataElementOptions(S,E.active?"active":s)),k+=O,this.updateElement(E,S,A,s)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n=0,s;for(s=0;s<e.length;s++){const o=t._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!e[s].hidden&&(n+=Math.abs(o))}return n}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Dt*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,s=n.data.labels||[],o=ks(e._parsed[t],n.options.locale);return{label:s[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const n=this.chart;let s,o,a,l,u;if(!t){for(s=0,o=n.data.datasets.length;s<o;++s)if(n.isDatasetVisible(s)){a=n.getDatasetMeta(s),t=a.data,l=a.controller;break}}if(!t)return 0;for(s=0,o=t.length;s<o;++s)u=l.resolveDataElementOptions(s),u.borderAlign!=="inner"&&(e=Math.max(e,u.borderWidth||0,u.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,s=t.length;n<s;++n){const o=this.resolveDataElementOptions(n);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(ut(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Q(Di,"id","doughnut"),Q(Di,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Q(Di,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"}),Q(Di,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:s}}=t.legend.options;return e.labels.map((o,a)=>{const u=t.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:s,lineWidth:u.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}}});class vo extends Me{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:s=[],_dataset:o}=e,a=this.chart._animationsDisabled;let{start:l,count:u}=hh(e,s,a);this._drawStart=l,this._drawCount=u,fh(e)&&(l=0,u=s.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!o._decimated,n.points=s;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:d},t),this.updateElements(s,l,u,t)}updateElements(t,e,n,s){const o=s==="reset",{iScale:a,vScale:l,_stacked:u,_dataset:d}=this._cachedMeta,{sharedOptions:f,includeOptions:m}=this._getSharedOptions(e,s),g=a.axis,b=l.axis,{spanGaps:y,segment:v}=this.options,w=wn(y)?y:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||o||s==="none",S=e+n,O=t.length;let E=e>0&&this.getParsed(e-1);for(let A=0;A<O;++A){const D=t[A],z=k?D:{};if(A<e||A>=S){z.skip=!0;continue}const N=this.getParsed(A),$=xt(N[b]),j=z[g]=a.getPixelForValue(N[g],A),Z=z[b]=o||$?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,N,u):N[b],A);z.skip=isNaN(j)||isNaN(Z)||$,z.stop=A>0&&Math.abs(N[g]-E[g])>w,v&&(z.parsed=N,z.raw=d.data[A]),m&&(z.options=f||this.resolveDataElementOptions(A,D.active?"active":s)),k||this.updateElement(D,A,z,s),E=N}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,s=t.data||[];if(!s.length)return n;const o=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(n,o,a)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Q(vo,"id","line"),Q(vo,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Q(vo,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class as extends Me{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,s=n.data.labels||[],o=ks(e._parsed[t].r,n.options.locale);return{label:s[t]||"",value:o}}parseObjectData(t,e,n,s){return wh.bind(this)(t,e,n,s)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((n,s)=>{const o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<e.min&&(e.min=o),o>e.max&&(e.max=o))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,s=Math.min(e.right-e.left,e.bottom-e.top),o=Math.max(s/2,0),a=Math.max(n.cutoutPercentage?o/100*n.cutoutPercentage:1,0),l=(o-a)/t.getVisibleDatasetCount();this.outerRadius=o-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(t,e,n,s){const o=s==="reset",a=this.chart,u=a.options.animation,d=this._cachedMeta.rScale,f=d.xCenter,m=d.yCenter,g=d.getIndexAngle(0)-.5*It;let b=g,y;const v=360/this.countVisibleElements();for(y=0;y<e;++y)b+=this._computeAngle(y,s,v);for(y=e;y<e+n;y++){const w=t[y];let k=b,S=b+this._computeAngle(y,s,v),O=a.getDataVisibility(y)?d.getDistanceFromCenterForValue(this.getParsed(y).r):0;b=S,o&&(u.animateScale&&(O=0),u.animateRotate&&(k=S=g));const E={x:f,y:m,innerRadius:0,outerRadius:O,startAngle:k,endAngle:S,options:this.resolveDataElementOptions(y,w.active?"active":s)};this.updateElement(w,y,E,s)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((n,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&e++}),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?Te(this.resolveDataElementOptions(t,e).angle||n):0}}Q(as,"id","polarArea"),Q(as,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Q(as,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:s}}=t.legend.options;return e.labels.map((o,a)=>{const u=t.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:s,lineWidth:u.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class _a extends Di{}Q(_a,"id","pie"),Q(_a,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class yo extends Me{getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,s){return wh.bind(this)(t,e,n,s)}update(t){const e=this._cachedMeta,n=e.dataset,s=e.data||[],o=e.iScale.getLabels();if(n.points=s,t!=="resize"){const a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0);const l={_loop:!0,_fullLoop:o.length===s.length,options:a};this.updateElement(n,void 0,l,t)}this.updateElements(s,0,s.length,t)}updateElements(t,e,n,s){const o=this._cachedMeta.rScale,a=s==="reset";for(let l=e;l<e+n;l++){const u=t[l],d=this.resolveDataElementOptions(l,u.active?"active":s),f=o.getPointPositionForValue(l,this.getParsed(l).r),m=a?o.xCenter:f.x,g=a?o.yCenter:f.y,b={x:m,y:g,angle:f.angle,skip:isNaN(m)||isNaN(g),options:d};this.updateElement(u,l,b,s)}}}Q(yo,"id","radar"),Q(yo,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Q(yo,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class xo extends Me{getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:s,yScale:o}=e,a=this.getParsed(t),l=s.getLabelForValue(a.x),u=o.getLabelForValue(a.y);return{label:n[t]||"",value:"("+l+", "+u+")"}}update(t){const e=this._cachedMeta,{data:n=[]}=e,s=this.chart._animationsDisabled;let{start:o,count:a}=hh(e,n,s);if(this._drawStart=o,this._drawCount=a,fh(e)&&(o=0,a=n.length),this.options.showLine){const{dataset:l,_dataset:u}=e;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!u._decimated,l.points=n;const d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(l,void 0,{animated:!s,options:d},t)}this.updateElements(n,o,a,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,n,s){const o=s==="reset",{iScale:a,vScale:l,_stacked:u,_dataset:d}=this._cachedMeta,f=this.resolveDataElementOptions(e,s),m=this.getSharedOptions(f),g=this.includeOptions(s,m),b=a.axis,y=l.axis,{spanGaps:v,segment:w}=this.options,k=wn(v)?v:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||o||s==="none";let O=e>0&&this.getParsed(e-1);for(let E=e;E<e+n;++E){const A=t[E],D=this.getParsed(E),z=S?A:{},N=xt(D[y]),$=z[b]=a.getPixelForValue(D[b],E),j=z[y]=o||N?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,D,u):D[y],E);z.skip=isNaN($)||isNaN(j)||N,z.stop=E>0&&Math.abs(D[b]-O[b])>k,w&&(z.parsed=D,z.raw=d.data[E]),g&&(z.options=m||this.resolveDataElementOptions(E,A.active?"active":s)),S||this.updateElement(A,E,z,s),O=D}this.updateSharedOptions(m,s,f)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let l=0;for(let u=e.length-1;u>=0;--u)l=Math.max(l,e[u].size(this.resolveDataElementOptions(u))/2);return l>0&&l}const n=t.dataset,s=n.options&&n.options.borderWidth||0;if(!e.length)return s;const o=e[0].size(this.resolveDataElementOptions(0)),a=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(s,o,a)/2}}Q(xo,"id","scatter"),Q(xo,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Q(xo,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var zv=Object.freeze({__proto__:null,BarController:_o,BubbleController:bo,DoughnutController:Di,LineController:vo,PolarAreaController:as,PieController:_a,RadarController:yo,ScatterController:xo});function Pi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class sl{static override(t){Object.assign(sl.prototype,t)}constructor(t){this.options=t||{}}init(){}formats(){return Pi()}parse(){return Pi()}format(){return Pi()}add(){return Pi()}diff(){return Pi()}startOf(){return Pi()}endOf(){return Pi()}}var Iv={_date:sl};function Rv(i,t,e,n){const{controller:s,data:o,_sorted:a}=i,l=s._cachedMeta.iScale;if(l&&t===l.axis&&t!=="r"&&a&&o.length){const u=l._reversePixels?ob:Ye;if(n){if(s._sharedOptions){const d=o[0],f=typeof d.getRange=="function"&&d.getRange(t);if(f){const m=u(o,t,e-f),g=u(o,t,e+f);return{lo:m.lo,hi:g.hi}}}}else return u(o,t,e)}return{lo:0,hi:o.length-1}}function Ts(i,t,e,n,s){const o=i.getSortedVisibleDatasetMetas(),a=e[t];for(let l=0,u=o.length;l<u;++l){const{index:d,data:f}=o[l],{lo:m,hi:g}=Rv(o[l],t,a,s);for(let b=m;b<=g;++b){const y=f[b];y.skip||n(y,d,b)}}}function Vv(i){const t=i.indexOf("x")!==-1,e=i.indexOf("y")!==-1;return function(n,s){const o=t?Math.abs(n.x-s.x):0,a=e?Math.abs(n.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(a,2))}}function Wr(i,t,e,n,s){const o=[];return!s&&!i.isPointInArea(t)||Ts(i,e,t,function(l,u,d){!s&&!ms(l,i.chartArea,0)||l.inRange(t.x,t.y,n)&&o.push({element:l,datasetIndex:u,index:d})},!0),o}function Bv(i,t,e,n){let s=[];function o(a,l,u){const{startAngle:d,endAngle:f}=a.getProps(["startAngle","endAngle"],n),{angle:m}=ah(a,{x:t.x,y:t.y});fs(m,d,f)&&s.push({element:a,datasetIndex:l,index:u})}return Ts(i,e,t,o),s}function jv(i,t,e,n,s,o){let a=[];const l=Vv(e);let u=Number.POSITIVE_INFINITY;function d(f,m,g){const b=f.inRange(t.x,t.y,s);if(n&&!b)return;const y=f.getCenterPoint(s);if(!(!!o||i.isPointInArea(y))&&!b)return;const w=l(t,y);w<u?(a=[{element:f,datasetIndex:m,index:g}],u=w):w===u&&a.push({element:f,datasetIndex:m,index:g})}return Ts(i,e,t,d),a}function Ur(i,t,e,n,s,o){return!o&&!i.isPointInArea(t)?[]:e==="r"&&!n?Bv(i,t,e,s):jv(i,t,e,n,s,o)}function au(i,t,e,n,s){const o=[],a=e==="x"?"inXRange":"inYRange";let l=!1;return Ts(i,e,t,(u,d,f)=>{u[a](t[e],s)&&(o.push({element:u,datasetIndex:d,index:f}),l=l||u.inRange(t.x,t.y,s))}),n&&!l?[]:o}var Nv={evaluateInteractionItems:Ts,modes:{index(i,t,e,n){const s=Ci(t,i),o=e.axis||"x",a=e.includeInvisible||!1,l=e.intersect?Wr(i,s,o,n,a):Ur(i,s,o,!1,n,a),u=[];return l.length?(i.getSortedVisibleDatasetMetas().forEach(d=>{const f=l[0].index,m=d.data[f];m&&!m.skip&&u.push({element:m,datasetIndex:d.index,index:f})}),u):[]},dataset(i,t,e,n){const s=Ci(t,i),o=e.axis||"xy",a=e.includeInvisible||!1;let l=e.intersect?Wr(i,s,o,n,a):Ur(i,s,o,!1,n,a);if(l.length>0){const u=l[0].datasetIndex,d=i.getDatasetMeta(u).data;l=[];for(let f=0;f<d.length;++f)l.push({element:d[f],datasetIndex:u,index:f})}return l},point(i,t,e,n){const s=Ci(t,i),o=e.axis||"xy",a=e.includeInvisible||!1;return Wr(i,s,o,n,a)},nearest(i,t,e,n){const s=Ci(t,i),o=e.axis||"xy",a=e.includeInvisible||!1;return Ur(i,s,o,e.intersect,n,a)},x(i,t,e,n){const s=Ci(t,i);return au(i,s,"x",e.intersect,n)},y(i,t,e,n){const s=Ci(t,i);return au(i,s,"y",e.intersect,n)}}};const Dh=["left","top","right","bottom"];function Hn(i,t){return i.filter(e=>e.pos===t)}function lu(i,t){return i.filter(e=>Dh.indexOf(e.pos)===-1&&e.box.axis===t)}function Wn(i,t){return i.sort((e,n)=>{const s=t?n:e,o=t?e:n;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function Fv(i){const t=[];let e,n,s,o,a,l;for(e=0,n=(i||[]).length;e<n;++e)s=i[e],{position:o,options:{stack:a,stackWeight:l=1}}=s,t.push({index:e,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&o+a,stackWeight:l});return t}function $v(i){const t={};for(const e of i){const{stack:n,pos:s,stackWeight:o}=e;if(!n||!Dh.includes(s))continue;const a=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=o}return t}function Hv(i,t){const e=$v(i),{vBoxMaxWidth:n,hBoxMaxHeight:s}=t;let o,a,l;for(o=0,a=i.length;o<a;++o){l=i[o];const{fullSize:u}=l.box,d=e[l.stack],f=d&&l.stackWeight/d.weight;l.horizontal?(l.width=f?f*n:u&&t.availableWidth,l.height=s):(l.width=n,l.height=f?f*s:u&&t.availableHeight)}return e}function Wv(i){const t=Fv(i),e=Wn(t.filter(d=>d.box.fullSize),!0),n=Wn(Hn(t,"left"),!0),s=Wn(Hn(t,"right")),o=Wn(Hn(t,"top"),!0),a=Wn(Hn(t,"bottom")),l=lu(t,"x"),u=lu(t,"y");return{fullSize:e,leftAndTop:n.concat(o),rightAndBottom:s.concat(u).concat(a).concat(l),chartArea:Hn(t,"chartArea"),vertical:n.concat(s).concat(u),horizontal:o.concat(a).concat(l)}}function cu(i,t,e,n){return Math.max(i[e],t[e])+Math.max(i[n],t[n])}function zh(i,t){i.top=Math.max(i.top,t.top),i.left=Math.max(i.left,t.left),i.bottom=Math.max(i.bottom,t.bottom),i.right=Math.max(i.right,t.right)}function Uv(i,t,e,n){const{pos:s,box:o}=e,a=i.maxPadding;if(!gt(s)){e.size&&(i[s]-=e.size);const m=n[e.stack]||{size:0,count:1};m.size=Math.max(m.size,e.horizontal?o.height:o.width),e.size=m.size/m.count,i[s]+=e.size}o.getPadding&&zh(a,o.getPadding());const l=Math.max(0,t.outerWidth-cu(a,i,"left","right")),u=Math.max(0,t.outerHeight-cu(a,i,"top","bottom")),d=l!==i.w,f=u!==i.h;return i.w=l,i.h=u,e.horizontal?{same:d,other:f}:{same:f,other:d}}function Zv(i){const t=i.maxPadding;function e(n){const s=Math.max(t[n]-i[n],0);return i[n]+=s,s}i.y+=e("top"),i.x+=e("left"),e("right"),e("bottom")}function Gv(i,t){const e=t.maxPadding;function n(s){const o={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{o[a]=Math.max(t[a],e[a])}),o}return n(i?["left","right"]:["top","bottom"])}function Xn(i,t,e,n){const s=[];let o,a,l,u,d,f;for(o=0,a=i.length,d=0;o<a;++o){l=i[o],u=l.box,u.update(l.width||t.w,l.height||t.h,Gv(l.horizontal,t));const{same:m,other:g}=Uv(t,e,l,n);d|=m&&s.length,f=f||g,u.fullSize||s.push(l)}return d&&Xn(s,t,e,n)||f}function eo(i,t,e,n,s){i.top=e,i.left=t,i.right=t+n,i.bottom=e+s,i.width=n,i.height=s}function uu(i,t,e,n){const s=e.padding;let{x:o,y:a}=t;for(const l of i){const u=l.box,d=n[l.stack]||{count:1,placed:0,weight:1},f=l.stackWeight/d.weight||1;if(l.horizontal){const m=t.w*f,g=d.size||u.height;be(d.start)&&(a=d.start),u.fullSize?eo(u,s.left,a,e.outerWidth-s.right-s.left,g):eo(u,t.left+d.placed,a,m,g),d.start=a,d.placed+=m,a=u.bottom}else{const m=t.h*f,g=d.size||u.width;be(d.start)&&(o=d.start),u.fullSize?eo(u,o,s.top,g,e.outerHeight-s.bottom-s.top):eo(u,o,t.top+d.placed,g,m),d.start=o,d.placed+=m,o=u.right}}t.x=o,t.y=a}var ee={addBox(i,t){i.boxes||(i.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},i.boxes.push(t)},removeBox(i,t){const e=i.boxes?i.boxes.indexOf(t):-1;e!==-1&&i.boxes.splice(e,1)},configure(i,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(i,t,e,n){if(!i)return;const s=ie(i.options.layout.padding),o=Math.max(t-s.width,0),a=Math.max(e-s.height,0),l=Wv(i.boxes),u=l.vertical,d=l.horizontal;kt(i.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const f=u.reduce((v,w)=>w.box.options&&w.box.options.display===!1?v:v+1,0)||1,m=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/f,hBoxMaxHeight:a/2}),g=Object.assign({},s);zh(g,ie(n));const b=Object.assign({maxPadding:g,w:o,h:a,x:s.left,y:s.top},s),y=Hv(u.concat(d),m);Xn(l.fullSize,b,m,y),Xn(u,b,m,y),Xn(d,b,m,y)&&Xn(u,b,m,y),Zv(b),uu(l.leftAndTop,b,m,y),b.x+=b.w,b.y+=b.h,uu(l.rightAndBottom,b,m,y),i.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},kt(l.chartArea,v=>{const w=v.box;Object.assign(w,i.chartArea),w.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class Ih{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,s){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):n)}}isAttached(t){return!0}updateConfig(t){}}class Yv extends Ih{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const wo="$chartjs",qv={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},du=i=>i===null||i==="";function Kv(i,t){const e=i.style,n=i.getAttribute("height"),s=i.getAttribute("width");if(i[wo]={initial:{height:n,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",du(s)){const o=Gc(i,"width");o!==void 0&&(i.width=o)}if(du(n))if(i.style.height==="")i.height=i.width/(t||2);else{const o=Gc(i,"height");o!==void 0&&(i.height=o)}return i}const Rh=Qb?{passive:!0}:!1;function Xv(i,t,e){i.addEventListener(t,e,Rh)}function Qv(i,t,e){i.canvas.removeEventListener(t,e,Rh)}function Jv(i,t){const e=qv[i.type]||i.type,{x:n,y:s}=Ci(i,t);return{type:e,chart:t,native:i,x:n!==void 0?n:null,y:s!==void 0?s:null}}function Ro(i,t){for(const e of i)if(e===t||e.contains(t))return!0}function ty(i,t,e){const n=i.canvas,s=new MutationObserver(o=>{let a=!1;for(const l of o)a=a||Ro(l.addedNodes,n),a=a&&!Ro(l.removedNodes,n);a&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function ey(i,t,e){const n=i.canvas,s=new MutationObserver(o=>{let a=!1;for(const l of o)a=a||Ro(l.removedNodes,n),a=a&&!Ro(l.addedNodes,n);a&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}const gs=new Map;let hu=0;function Vh(){const i=window.devicePixelRatio;i!==hu&&(hu=i,gs.forEach((t,e)=>{e.currentDevicePixelRatio!==i&&t()}))}function iy(i,t){gs.size||window.addEventListener("resize",Vh),gs.set(i,t)}function ny(i){gs.delete(i),gs.size||window.removeEventListener("resize",Vh)}function sy(i,t,e){const n=i.canvas,s=n&&nl(n);if(!s)return;const o=dh((l,u)=>{const d=s.clientWidth;e(l,u),d<s.clientWidth&&e()},window),a=new ResizeObserver(l=>{const u=l[0],d=u.contentRect.width,f=u.contentRect.height;d===0&&f===0||o(d,f)});return a.observe(s),iy(i,o),a}function Zr(i,t,e){e&&e.disconnect(),t==="resize"&&ny(i)}function oy(i,t,e){const n=i.canvas,s=dh(o=>{i.ctx!==null&&e(Jv(o,i))},i);return Xv(n,t,s),s}class ry extends Ih{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(Kv(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[wo])return!1;const n=e[wo].initial;["height","width"].forEach(o=>{const a=n[o];xt(a)?e.removeAttribute(o):e.setAttribute(o,a)});const s=n.style||{};return Object.keys(s).forEach(o=>{e.style[o]=s[o]}),e.width=e.width,delete e[wo],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),a={attach:ty,detach:ey,resize:sy}[e]||oy;s[e]=a(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),s=n[e];if(!s)return;({attach:Zr,detach:Zr,resize:Zr}[e]||Qv)(t,e,s),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,s){return Xb(t,e,n,s)}isAttached(t){const e=nl(t);return!!(e&&e.isConnected)}}function ay(i){return!Th()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?Yv:ry}var mo;let Je=(mo=class{constructor(){Q(this,"active",!1)}tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return wn(this.x)&&wn(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const s={};return t.forEach(o=>{s[o]=n[o]&&n[o].active()?n[o]._to:this[o]}),s}},Q(mo,"defaults",{}),Q(mo,"defaultRoutes"),mo);function ly(i,t){const e=i.options.ticks,n=cy(i),s=Math.min(e.maxTicksLimit||n,n),o=e.major.enabled?dy(t):[],a=o.length,l=o[0],u=o[a-1],d=[];if(a>s)return hy(t,d,o,a/s),d;const f=uy(o,t,s);if(a>0){let m,g;const b=a>1?Math.round((u-l)/(a-1)):null;for(io(t,d,f,xt(b)?0:l-b,l),m=0,g=a-1;m<g;m++)io(t,d,f,o[m],o[m+1]);return io(t,d,f,u,xt(b)?t.length:u+b),d}return io(t,d,f),d}function cy(i){const t=i.options.offset,e=i._tickSize(),n=i._length/e+(t?0:1),s=i._maxLength/e;return Math.floor(Math.min(n,s))}function uy(i,t,e){const n=fy(i),s=t.length/e;if(!n)return Math.max(s,1);const o=eb(n);for(let a=0,l=o.length-1;a<l;a++){const u=o[a];if(u>s)return u}return Math.max(s,1)}function dy(i){const t=[];let e,n;for(e=0,n=i.length;e<n;e++)i[e].major&&t.push(e);return t}function hy(i,t,e,n){let s=0,o=e[0],a;for(n=Math.ceil(n),a=0;a<i.length;a++)a===o&&(t.push(i[a]),s++,o=e[s*n])}function io(i,t,e,n,s){const o=ut(n,0),a=Math.min(ut(s,i.length),i.length);let l=0,u,d,f;for(e=Math.ceil(e),s&&(u=s-n,e=u/Math.floor(u/e)),f=o;f<0;)l++,f=Math.round(o+l*e);for(d=Math.max(o,0);d<a;d++)d===f&&(t.push(i[d]),l++,f=Math.round(o+l*e))}function fy(i){const t=i.length;let e,n;if(t<2)return!1;for(n=i[0],e=1;e<t;++e)if(i[e]-i[e-1]!==n)return!1;return n}const my=i=>i==="left"?"right":i==="right"?"left":i,fu=(i,t,e)=>t==="top"||t==="left"?i[t]+e:i[t]-e,mu=(i,t)=>Math.min(t||i,i);function pu(i,t){const e=[],n=i.length/t,s=i.length;let o=0;for(;o<s;o+=n)e.push(i[Math.floor(o)]);return e}function py(i,t,e){const n=i.ticks.length,s=Math.min(t,n-1),o=i._startPixel,a=i._endPixel,l=1e-6;let u=i.getPixelForTick(s),d;if(!(e&&(n===1?d=Math.max(u-o,a-u):t===0?d=(i.getPixelForTick(1)-u)/2:d=(u-i.getPixelForTick(s-1))/2,u+=s<t?d:-d,u<o-l||u>a+l)))return u}function gy(i,t){kt(i,e=>{const n=e.gc,s=n.length/2;let o;if(s>t){for(o=0;o<s;++o)delete e.data[n[o]];n.splice(0,s)}})}function Un(i){return i.drawTicks?i.tickLength:0}function gu(i,t){if(!i.display)return 0;const e=qt(i.font,t),n=ie(i.padding);return(Ot(i.text)?i.text.length:1)*e.lineHeight+n.height}function _y(i,t){return pi(i,{scale:t,type:"scale"})}function by(i,t,e){return pi(i,{tick:e,index:t,type:"tick"})}function vy(i,t,e){let n=Qa(i);return(e&&t!=="right"||!e&&t==="right")&&(n=my(n)),n}function yy(i,t,e,n){const{top:s,left:o,bottom:a,right:l,chart:u}=i,{chartArea:d,scales:f}=u;let m=0,g,b,y;const v=a-s,w=l-o;if(i.isHorizontal()){if(b=te(n,o,l),gt(e)){const k=Object.keys(e)[0],S=e[k];y=f[k].getPixelForValue(S)+v-t}else e==="center"?y=(d.bottom+d.top)/2+v-t:y=fu(i,e,t);g=l-o}else{if(gt(e)){const k=Object.keys(e)[0],S=e[k];b=f[k].getPixelForValue(S)-w+t}else e==="center"?b=(d.left+d.right)/2-w+t:b=fu(i,e,t);y=te(n,a,s),m=e==="left"?-Nt:Nt}return{titleX:b,titleY:y,maxWidth:g,rotation:m}}class $i extends Je{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:s}=this;return t=le(t,Number.POSITIVE_INFINITY),e=le(e,Number.NEGATIVE_INFINITY),n=le(n,Number.POSITIVE_INFINITY),s=le(s,Number.NEGATIVE_INFINITY),{min:le(t,n),max:le(e,s),minDefined:jt(t),maxDefined:jt(e)}}getMinMax(t){let{min:e,max:n,minDefined:s,maxDefined:o}=this.getUserBounds(),a;if(s&&o)return{min:e,max:n};const l=this.getMatchingVisibleMetas();for(let u=0,d=l.length;u<d;++u)a=l[u].controller.getMinMax(this,t),s||(e=Math.min(e,a.min)),o||(n=Math.max(n,a.max));return e=o&&e>n?n:e,n=s&&e>n?e:n,{min:le(e,le(n,e)),max:le(n,le(e,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ct(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:s,grace:o,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Cb(this,o,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=l<this.ticks.length;this._convertTicksToLabels(u?pu(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=ly(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,n;this.isHorizontal()?(e=this.left,n=this.right):(e=this.top,n=this.bottom,t=!t),this._startPixel=e,this._endPixel=n,this._reversePixels=t,this._length=n-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ct(this.options.afterUpdate,[this])}beforeSetDimensions(){Ct(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ct(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ct(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ct(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,s,o;for(n=0,s=t.length;n<s;n++)o=t[n],o.label=Ct(e.callback,[o.value,n,t],this)}afterTickToLabelConversion(){Ct(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ct(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=mu(this.ticks.length,t.ticks.maxTicksLimit),s=e.minRotation||0,o=e.maxRotation;let a=s,l,u,d;if(!this._isVisible()||!e.display||s>=o||n<=1||!this.isHorizontal()){this.labelRotation=s;return}const f=this._getLabelSizes(),m=f.widest.width,g=f.highest.height,b=Kt(this.chart.width-m,0,this.maxWidth);l=t.offset?this.maxWidth/n:b/(n-1),m+6>l&&(l=b/(n-(t.offset?.5:1)),u=this.maxHeight-Un(t.grid)-e.padding-gu(t.title,this.chart.options.font),d=Math.sqrt(m*m+g*g),a=Ka(Math.min(Math.asin(Kt((f.highest.height+6)/l,-1,1)),Math.asin(Kt(u/d,-1,1))-Math.asin(Kt(g/d,-1,1)))),a=Math.max(s,Math.min(o,a))),this.labelRotation=a}afterCalculateLabelRotation(){Ct(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ct(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:s,grid:o}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const u=gu(s,e.options.font);if(l?(t.width=this.maxWidth,t.height=Un(o)+u):(t.height=this.maxHeight,t.width=Un(o)+u),n.display&&this.ticks.length){const{first:d,last:f,widest:m,highest:g}=this._getLabelSizes(),b=n.padding*2,y=Te(this.labelRotation),v=Math.cos(y),w=Math.sin(y);if(l){const k=n.mirror?0:w*m.width+v*g.height;t.height=Math.min(this.maxHeight,t.height+k+b)}else{const k=n.mirror?0:v*m.width+w*g.height;t.width=Math.min(this.maxWidth,t.width+k+b)}this._calculatePadding(d,f,w,v)}}this._handleMargins(),l?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,s){const{ticks:{align:o,padding:a},position:l}=this.options,u=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,b=0;u?d?(g=s*t.width,b=n*e.height):(g=n*t.height,b=s*e.width):o==="start"?b=e.width:o==="end"?g=t.width:o!=="inner"&&(g=t.width/2,b=e.width/2),this.paddingLeft=Math.max((g-f+a)*this.width/(this.width-f),0),this.paddingRight=Math.max((b-m+a)*this.width/(this.width-m),0)}else{let f=e.height/2,m=t.height/2;o==="start"?(f=0,m=t.height):o==="end"&&(f=e.height,m=0),this.paddingTop=f+a,this.paddingBottom=m+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ct(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,n;for(e=0,n=t.length;e<n;e++)xt(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=pu(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:s,_longestTextCache:o}=this,a=[],l=[],u=Math.floor(e/mu(e,n));let d=0,f=0,m,g,b,y,v,w,k,S,O,E,A;for(m=0;m<e;m+=u){if(y=t[m].label,v=this._resolveTickFontOptions(m),s.font=w=v.string,k=o[w]=o[w]||{data:{},gc:[]},S=v.lineHeight,O=E=0,!xt(y)&&!Ot(y))O=zo(s,k.data,k.gc,O,y),E=S;else if(Ot(y))for(g=0,b=y.length;g<b;++g)A=y[g],!xt(A)&&!Ot(A)&&(O=zo(s,k.data,k.gc,O,A),E+=S);a.push(O),l.push(E),d=Math.max(O,d),f=Math.max(E,f)}gy(o,e);const D=a.indexOf(d),z=l.indexOf(f),N=$=>({width:a[$]||0,height:l[$]||0});return{first:N(0),last:N(e-1),widest:N(D),highest:N(z),widths:a,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return sb(this._alignToPixels?Si(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=by(this.getContext(),t,n))}return this.$context||(this.$context=_y(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Te(this.labelRotation),n=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),o=this._getLabelSizes(),a=t.autoSkipPadding||0,l=o?o.widest.width+a:0,u=o?o.highest.height+a:0;return this.isHorizontal()?u*n>l*s?l/n:u/s:u*s<l*n?u/n:l/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,s=this.options,{grid:o,position:a,border:l}=s,u=o.offset,d=this.isHorizontal(),m=this.ticks.length+(u?1:0),g=Un(o),b=[],y=l.setContext(this.getContext()),v=y.display?y.width:0,w=v/2,k=function(X){return Si(n,X,v)};let S,O,E,A,D,z,N,$,j,Z,U,K;if(a==="top")S=k(this.bottom),z=this.bottom-g,$=S-w,Z=k(t.top)+w,K=t.bottom;else if(a==="bottom")S=k(this.top),Z=t.top,K=k(t.bottom)-w,z=S+w,$=this.top+g;else if(a==="left")S=k(this.right),D=this.right-g,N=S-w,j=k(t.left)+w,U=t.right;else if(a==="right")S=k(this.left),j=t.left,U=k(t.right)-w,D=S+w,N=this.left+g;else if(e==="x"){if(a==="center")S=k((t.top+t.bottom)/2+.5);else if(gt(a)){const X=Object.keys(a)[0],rt=a[X];S=k(this.chart.scales[X].getPixelForValue(rt))}Z=t.top,K=t.bottom,z=S+w,$=z+g}else if(e==="y"){if(a==="center")S=k((t.left+t.right)/2);else if(gt(a)){const X=Object.keys(a)[0],rt=a[X];S=k(this.chart.scales[X].getPixelForValue(rt))}D=S-w,N=D-g,j=t.left,U=t.right}const it=ut(s.ticks.maxTicksLimit,m),H=Math.max(1,Math.ceil(m/it));for(O=0;O<m;O+=H){const X=this.getContext(O),rt=o.setContext(X),tt=l.setContext(X),zt=rt.lineWidth,st=rt.color,lt=tt.dash||[],Rt=tt.dashOffset,Bt=rt.tickWidth,Pt=rt.tickColor,ft=rt.tickBorderDash||[],_t=rt.tickBorderDashOffset;E=py(this,O,u),E!==void 0&&(A=Si(n,E,zt),d?D=N=j=U=A:z=$=Z=K=A,b.push({tx1:D,ty1:z,tx2:N,ty2:$,x1:j,y1:Z,x2:U,y2:K,width:zt,color:st,borderDash:lt,borderDashOffset:Rt,tickWidth:Bt,tickColor:Pt,tickBorderDash:ft,tickBorderDashOffset:_t}))}return this._ticksLength=m,this._borderValue=S,b}_computeLabelItems(t){const e=this.axis,n=this.options,{position:s,ticks:o}=n,a=this.isHorizontal(),l=this.ticks,{align:u,crossAlign:d,padding:f,mirror:m}=o,g=Un(n.grid),b=g+f,y=m?-f:b,v=-Te(this.labelRotation),w=[];let k,S,O,E,A,D,z,N,$,j,Z,U,K="middle";if(s==="top")D=this.bottom-y,z=this._getXAxisLabelAlignment();else if(s==="bottom")D=this.top+y,z=this._getXAxisLabelAlignment();else if(s==="left"){const H=this._getYAxisLabelAlignment(g);z=H.textAlign,A=H.x}else if(s==="right"){const H=this._getYAxisLabelAlignment(g);z=H.textAlign,A=H.x}else if(e==="x"){if(s==="center")D=(t.top+t.bottom)/2+b;else if(gt(s)){const H=Object.keys(s)[0],X=s[H];D=this.chart.scales[H].getPixelForValue(X)+b}z=this._getXAxisLabelAlignment()}else if(e==="y"){if(s==="center")A=(t.left+t.right)/2-b;else if(gt(s)){const H=Object.keys(s)[0],X=s[H];A=this.chart.scales[H].getPixelForValue(X)}z=this._getYAxisLabelAlignment(g).textAlign}e==="y"&&(u==="start"?K="top":u==="end"&&(K="bottom"));const it=this._getLabelSizes();for(k=0,S=l.length;k<S;++k){O=l[k],E=O.label;const H=o.setContext(this.getContext(k));N=this.getPixelForTick(k)+o.labelOffset,$=this._resolveTickFontOptions(k),j=$.lineHeight,Z=Ot(E)?E.length:1;const X=Z/2,rt=H.color,tt=H.textStrokeColor,zt=H.textStrokeWidth;let st=z;a?(A=N,z==="inner"&&(k===S-1?st=this.options.reverse?"left":"right":k===0?st=this.options.reverse?"right":"left":st="center"),s==="top"?d==="near"||v!==0?U=-Z*j+j/2:d==="center"?U=-it.highest.height/2-X*j+j:U=-it.highest.height+j/2:d==="near"||v!==0?U=j/2:d==="center"?U=it.highest.height/2-X*j:U=it.highest.height-Z*j,m&&(U*=-1),v!==0&&!H.showLabelBackdrop&&(A+=j/2*Math.sin(v))):(D=N,U=(1-Z)*j/2);let lt;if(H.showLabelBackdrop){const Rt=ie(H.backdropPadding),Bt=it.heights[k],Pt=it.widths[k];let ft=U-Rt.top,_t=0-Rt.left;switch(K){case"middle":ft-=Bt/2;break;case"bottom":ft-=Bt;break}switch(z){case"center":_t-=Pt/2;break;case"right":_t-=Pt;break}lt={left:_t,top:ft,width:Pt+Rt.width,height:Bt+Rt.height,color:H.backdropColor}}w.push({label:E,font:$,textOffset:U,options:{rotation:v,color:rt,strokeColor:tt,strokeWidth:zt,textAlign:st,textBaseline:K,translation:[A,D],backdrop:lt}})}return w}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Te(this.labelRotation))return t==="top"?"left":"right";let s="center";return e.align==="start"?s="left":e.align==="end"?s="right":e.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:s,padding:o}}=this.options,a=this._getLabelSizes(),l=t+o,u=a.widest.width;let d,f;return e==="left"?s?(f=this.right+o,n==="near"?d="left":n==="center"?(d="center",f+=u/2):(d="right",f+=u)):(f=this.right-l,n==="near"?d="right":n==="center"?(d="center",f-=u/2):(d="left",f=this.left)):e==="right"?s?(f=this.left+o,n==="near"?d="right":n==="center"?(d="center",f-=u/2):(d="left",f-=u)):(f=this.left+l,n==="near"?d="left":n==="center"?(d="center",f+=u/2):(d="right",f=this.right)):d="right",{textAlign:d,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:s,width:o,height:a}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,s,o,a),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const s=this.ticks.findIndex(o=>o.value===t);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const e=this.options.grid,n=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,a;const l=(u,d,f)=>{!f.width||!f.color||(n.save(),n.lineWidth=f.width,n.strokeStyle=f.color,n.setLineDash(f.borderDash||[]),n.lineDashOffset=f.borderDashOffset,n.beginPath(),n.moveTo(u.x,u.y),n.lineTo(d.x,d.y),n.stroke(),n.restore())};if(e.display)for(o=0,a=s.length;o<a;++o){const u=s[o];e.drawOnChartArea&&l({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),e.drawTicks&&l({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:s}}=this,o=n.setContext(this.getContext()),a=n.display?o.width:0;if(!a)return;const l=s.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let d,f,m,g;this.isHorizontal()?(d=Si(t,this.left,a)-a/2,f=Si(t,this.right,l)+l/2,m=g=u):(m=Si(t,this.top,a)-a/2,g=Si(t,this.bottom,l)+l/2,d=f=u),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(d,m),e.lineTo(f,g),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,s=this._computeLabelArea();s&&Ko(n,s);const o=this.getLabelItems(t);for(const a of o){const l=a.options,u=a.font,d=a.label,f=a.textOffset;Ni(n,d,0,f,u,l)}s&&Xo(n)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:s}}=this;if(!n.display)return;const o=qt(n.font),a=ie(n.padding),l=n.align;let u=o.lineHeight/2;e==="bottom"||e==="center"||gt(e)?(u+=a.bottom,Ot(n.text)&&(u+=o.lineHeight*(n.text.length-1))):u+=a.top;const{titleX:d,titleY:f,maxWidth:m,rotation:g}=yy(this,u,e,l);Ni(t,n.text,0,0,o,{color:n.color,maxWidth:m,rotation:g,textAlign:vy(l,e,s),textBaseline:"middle",translation:[d,f]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=ut(t.grid&&t.grid.z,-1),s=ut(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==$i.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:n,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",s=[];let o,a;for(o=0,a=e.length;o<a;++o){const l=e[o];l[n]===this.id&&(!t||l.type===t)&&s.push(l)}return s}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return qt(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class no{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;ky(e)&&(n=this.register(e));const s=this.items,o=t.id,a=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in s||(s[o]=t,xy(t,a,n),this.override&&Ht.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,s=this.scope;n in e&&delete e[n],s&&n in Ht[s]&&(delete Ht[s][n],this.override&&delete ji[n])}}function xy(i,t,e){const n=hs(Object.create(null),[e?Ht.get(e):{},Ht.get(t),i.defaults]);Ht.set(t,n),i.defaultRoutes&&wy(t,i.defaultRoutes),i.descriptors&&Ht.describe(t,i.descriptors)}function wy(i,t){Object.keys(t).forEach(e=>{const n=e.split("."),s=n.pop(),o=[i].concat(n).join("."),a=t[e].split("."),l=a.pop(),u=a.join(".");Ht.route(o,s,u,l)})}function ky(i){return"id"in i&&"defaults"in i}class Ty{constructor(){this.controllers=new no(Me,"datasets",!0),this.elements=new no(Je,"elements"),this.plugins=new no(Object,"plugins"),this.scales=new no($i,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach(s=>{const o=n||this._getRegistryForType(s);n||o.isForType(s)||o===this.plugins&&s.id?this._exec(t,o,s):kt(s,a=>{const l=n||this._getRegistryForType(a);this._exec(t,l,a)})})}_exec(t,e,n){const s=qa(t);Ct(n["before"+s],[],n),e[t](n),Ct(n["after"+s],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const s=e.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return s}}var De=new Ty;class My{constructor(){this._init=[]}notify(t,e,n,s){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=s?this._descriptors(t).filter(s):this._descriptors(t),a=this._notify(o,t,e,n);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,e,n,s){s=s||{};for(const o of t){const a=o.plugin,l=a[n],u=[e,s,o.options];if(Ct(l,u,a)===!1&&s.cancelable)return!1}return!0}invalidate(){xt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,s=ut(n.options&&n.options.plugins,{}),o=Sy(n);return s===!1&&!e?[]:Ly(t,o,s,e)}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,s=(o,a)=>o.filter(l=>!a.some(u=>l.plugin.id===u.plugin.id));this._notify(s(e,n),t,"stop"),this._notify(s(n,e),t,"start")}}function Sy(i){const t={},e=[],n=Object.keys(De.plugins.items);for(let o=0;o<n.length;o++)e.push(De.getPlugin(n[o]));const s=i.plugins||[];for(let o=0;o<s.length;o++){const a=s[o];e.indexOf(a)===-1&&(e.push(a),t[a.id]=!0)}return{plugins:e,localIds:t}}function Py(i,t){return!t&&i===!1?null:i===!0?{}:i}function Ly(i,{plugins:t,localIds:e},n,s){const o=[],a=i.getContext();for(const l of t){const u=l.id,d=Py(n[u],s);d!==null&&o.push({plugin:l,options:Cy(i.config,{plugin:l,local:e[u]},d,a)})}return o}function Cy(i,{plugin:t,local:e},n,s){const o=i.pluginScopeKeys(t),a=i.getOptionScopes(n,o);return e&&t.defaults&&a.push(t.defaults),i.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ba(i,t){const e=Ht.datasets[i]||{};return((t.datasets||{})[i]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function Ay(i,t){let e=i;return i==="_index_"?e=t:i==="_value_"&&(e=t==="x"?"y":"x"),e}function Ey(i,t){return i===t?"_index_":"_value_"}function Oy(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function Vo(i,t){if(i==="x"||i==="y"||i==="r"||(i=t.axis||Oy(t.position)||i.length>1&&Vo(i[0].toLowerCase(),t),i))return i;throw new Error(`Cannot determine type of '${name}' axis. Please provide 'axis' or 'position' option.`)}function Dy(i,t){const e=ji[i.type]||{scales:{}},n=t.scales||{},s=ba(i.type,t),o=Object.create(null);return Object.keys(n).forEach(a=>{const l=n[a];if(!gt(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const u=Vo(a,l),d=Ey(u,s),f=e.scales||{};o[a]=ns(Object.create(null),[{axis:u},l,f[u],f[d]])}),i.data.datasets.forEach(a=>{const l=a.type||i.type,u=a.indexAxis||ba(l,t),f=(ji[l]||{}).scales||{};Object.keys(f).forEach(m=>{const g=Ay(m,u),b=a[g+"AxisID"]||g;o[b]=o[b]||Object.create(null),ns(o[b],[{axis:g},n[b],f[m]])})}),Object.keys(o).forEach(a=>{const l=o[a];ns(l,[Ht.scales[l.type],Ht.scale])}),o}function Bh(i){const t=i.options||(i.options={});t.plugins=ut(t.plugins,{}),t.scales=Dy(i,t)}function jh(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function zy(i){return i=i||{},i.data=jh(i.data),Bh(i),i}const _u=new Map,Nh=new Set;function so(i,t){let e=_u.get(i);return e||(e=t(),_u.set(i,e),Nh.add(e)),e}const Zn=(i,t,e)=>{const n=hi(t,e);n!==void 0&&i.add(n)};class Iy{constructor(t){this._config=zy(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=jh(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Bh(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return so(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return so(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return so(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,n=this.type;return so(`${n}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const n=this._scopeCache;let s=n.get(t);return(!s||e)&&(s=new Map,n.set(t,s)),s}getOptionScopes(t,e,n){const{options:s,type:o}=this,a=this._cachedScopes(t,n),l=a.get(e);if(l)return l;const u=new Set;e.forEach(f=>{t&&(u.add(t),f.forEach(m=>Zn(u,t,m))),f.forEach(m=>Zn(u,s,m)),f.forEach(m=>Zn(u,ji[o]||{},m)),f.forEach(m=>Zn(u,Ht,m)),f.forEach(m=>Zn(u,pa,m))});const d=Array.from(u);return d.length===0&&d.push(Object.create(null)),Nh.has(e)&&a.set(e,d),d}chartOptionScopes(){const{options:t,type:e}=this;return[t,ji[e]||{},Ht.datasets[e]||{},{type:e},Ht,pa]}resolveNamedOptions(t,e,n,s=[""]){const o={$shared:!0},{resolver:a,subPrefixes:l}=bu(this._resolverCache,t,s);let u=a;if(Vy(a,e)){o.$shared=!1,n=fi(n)?n():n;const d=this.createResolver(t,n,l);u=kn(a,n,d)}for(const d of e)o[d]=u[d];return o}createResolver(t,e,n=[""],s){const{resolver:o}=bu(this._resolverCache,t,n);return gt(e)?kn(o,e,void 0,s):o}}function bu(i,t,e){let n=i.get(t);n||(n=new Map,i.set(t,n));const s=e.join();let o=n.get(s);return o||(o={resolver:tl(t,e),subPrefixes:e.filter(l=>!l.toLowerCase().includes("hover"))},n.set(s,o)),o}const Ry=i=>gt(i)&&Object.getOwnPropertyNames(i).reduce((t,e)=>t||fi(i[e]),!1);function Vy(i,t){const{isScriptable:e,isIndexable:n}=bh(i);for(const s of t){const o=e(s),a=n(s),l=(a||o)&&i[s];if(o&&(fi(l)||Ry(l))||a&&Ot(l))return!0}return!1}var By="4.2.1";const jy=["top","bottom","left","right","chartArea"];function vu(i,t){return i==="top"||i==="bottom"||jy.indexOf(i)===-1&&t==="x"}function yu(i,t){return function(e,n){return e[i]===n[i]?e[t]-n[t]:e[i]-n[i]}}function xu(i){const t=i.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Ct(e&&e.onComplete,[i],t)}function Ny(i){const t=i.chart,e=t.options.animation;Ct(e&&e.onProgress,[i],t)}function Fh(i){return Th()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const ko={},wu=i=>{const t=Fh(i);return Object.values(ko).filter(e=>e.canvas===t).pop()};function Fy(i,t,e){const n=Object.keys(i);for(const s of n){const o=+s;if(o>=t){const a=i[s];delete i[s],(e>0||o>t)&&(i[o+e]=a)}}}function $y(i,t,e,n){return!e||i.type==="mouseout"?null:n?t:i}function Hy(i){const{xScale:t,yScale:e}=i;if(t&&e)return{left:t.left,right:t.right,top:e.top,bottom:e.bottom}}class Ue{static register(...t){De.add(...t),ku()}static unregister(...t){De.remove(...t),ku()}constructor(t,e){const n=this.config=new Iy(e),s=Fh(t),o=wu(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||ay(s)),this.platform.updateConfig(n);const l=this.platform.acquireContext(s,a.aspectRatio),u=l&&l.canvas,d=u&&u.height,f=u&&u.width;if(this.id=Z_(),this.ctx=l,this.canvas=u,this.width=f,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new My,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=lb(m=>this.update(m),a.resizeDelay||0),this._dataChanges=[],ko[this.id]=this,!l||!u){console.error("Failed to create chart: can't acquire context from the given item");return}$e.listen(this,"complete",xu),$e.listen(this,"progress",Ny),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:s,_aspectRatio:o}=this;return xt(t)?e&&o?o:s?n/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return De}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Zc(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Hc(this.canvas,this.ctx),this}stop(){return $e.stop(this),this}resize(t,e){$e.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,s=this.canvas,o=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,t,e,o),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Zc(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Ct(n.onResize,[this,a],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};kt(e,(n,s)=>{n.id=s})}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,s=Object.keys(n).reduce((a,l)=>(a[l]=!1,a),{});let o=[];e&&(o=o.concat(Object.keys(e).map(a=>{const l=e[a],u=Vo(a,l),d=u==="r",f=u==="x";return{options:l,dposition:d?"chartArea":f?"bottom":"left",dtype:d?"radialLinear":f?"category":"linear"}}))),kt(o,a=>{const l=a.options,u=l.id,d=Vo(u,l),f=ut(l.type,a.dtype);(l.position===void 0||vu(l.position,d)!==vu(a.dposition))&&(l.position=a.dposition),s[u]=!0;let m=null;if(u in n&&n[u].type===f)m=n[u];else{const g=De.getScale(f);m=new g({id:u,type:f,ctx:this.ctx,chart:this}),n[m.id]=m}m.init(l,t)}),kt(s,(a,l)=>{a||delete n[l]}),kt(n,a=>{ee.configure(this,a,a.options),ee.addBox(this,a)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort((s,o)=>s.index-o.index),n>e){for(let s=e;s<n;++s)this._destroyDatasetMeta(s);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(yu("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((n,s)=>{e.filter(o=>o===n._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,s;for(this._removeUnreferencedMetasets(),n=0,s=e.length;n<s;n++){const o=e[n];let a=this.getDatasetMeta(n);const l=o.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=l,a.indexAxis=o.indexAxis||ba(l,this.options),a.order=o.order||0,a.index=n,a.label=""+o.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{const u=De.getController(l),{datasetElementType:d,dataElementType:f}=Ht.datasets[l];Object.assign(u,{dataElementType:De.getElement(f),datasetElementType:d&&De.getElement(d)}),a.controller=new u(this,n),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){kt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,f=this.data.datasets.length;d<f;d++){const{controller:m}=this.getDatasetMeta(d),g=!s&&o.indexOf(m)===-1;m.buildOrUpdateElements(g),a=Math.max(+m.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),s||kt(o,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(yu("z","_idx"));const{_active:l,_lastEvent:u}=this;u?this._eventHandler(u,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){kt(this.scales,t=>{ee.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!zc(e,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:s,count:o}of e){const a=n==="_removeElements"?-o:o;Fy(t,s,a)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=o=>new Set(t.filter(a=>a[0]===o).map((a,l)=>l+","+a.splice(1).join(","))),s=n(0);for(let o=1;o<e;o++)if(!zc(s,n(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ee.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],kt(this.boxes,s=>{n&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,n=this.data.datasets.length;e<n;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,fi(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),s={meta:n,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(n.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&($e.has(this)?this.attached&&!$e.running(this)&&$e.start(this):(this.draw(),xu({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:s}=this._resizeBeforeDraw;this._resize(n,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let s,o;for(s=0,o=e.length;s<o;++s){const a=e[s];(!t||a.visible)&&n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,s=!n.disabled,o=Hy(t)||this.chartArea,a={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(s&&Ko(e,{left:n.left===!1?0:o.left-n.left,right:n.right===!1?this.width:o.right+n.right,top:n.top===!1?0:o.top-n.top,bottom:n.bottom===!1?this.height:o.bottom+n.bottom}),t.controller.draw(),s&&Xo(e),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(t){return ms(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,s){const o=Nv.modes[e];return typeof o=="function"?o(this,t,n,s):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let s=n.filter(o=>o&&o._dataset===e).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(s)),s}getContext(){return this.$context||(this.$context=pi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!e.hidden}setDatasetVisibility(t,e){const n=this.getDatasetMeta(t);n.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const s=n?"show":"hide",o=this.getDatasetMeta(t),a=o.controller._resolveAnimations(void 0,s);be(e)?(o.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),a.update(o,{visible:n}),this.update(l=>l.datasetIndex===t?s:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),$e.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Hc(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete ko[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(o,a)=>{e.addEventListener(this,o,a),t[o]=a},s=(o,a,l)=>{o.offsetX=a,o.offsetY=l,this._eventHandler(o)};kt(this.options.events,o=>n(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(u,d)=>{e.addEventListener(this,u,d),t[u]=d},s=(u,d)=>{t[u]&&(e.removeEventListener(this,u,d),delete t[u])},o=(u,d)=>{this.canvas&&this.resize(u,d)};let a;const l=()=>{s("attach",l),this.attached=!0,this.resize(),n("resize",o),n("detach",a)};a=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),n("attach",l)},e.isAttached(this.canvas)?l():a()}unbindEvents(){kt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},kt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const s=n?"set":"remove";let o,a,l,u;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),l=0,u=t.length;l<u;++l){a=t[l];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map(({datasetIndex:o,index:a})=>{const l=this.getDatasetMeta(o);if(!l)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:l.data[a],index:a}});!Eo(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,n){const s=this.options.hover,o=(u,d)=>u.filter(f=>!d.some(m=>f.datasetIndex===m.datasetIndex&&f.index===m.index)),a=o(e,t),l=n?t:o(t,e);a.length&&this.updateHoverStyle(a,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},s=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,s)===!1)return;const o=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,s),(o||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:s=[],options:o}=this,a=e,l=this._getActiveElements(t,s,n,a),u=Q_(t),d=$y(t,this._lastEvent,n,u);n&&(this._lastEvent=null,Ct(o.onHover,[t,l,this],this),u&&Ct(o.onClick,[t,l,this],this));const f=!Eo(l,s);return(f||e)&&(this._active=l,this._updateHoverStyles(l,s,e)),this._lastEvent=d,f}_getActiveElements(t,e,n,s){if(t.type==="mouseout")return[];if(!n)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,s)}}Q(Ue,"defaults",Ht),Q(Ue,"instances",ko),Q(Ue,"overrides",ji),Q(Ue,"registry",De),Q(Ue,"version",By),Q(Ue,"getChart",wu);function ku(){return kt(Ue.instances,i=>i._plugins.invalidate())}function Wy(i,t,e){const{startAngle:n,pixelMargin:s,x:o,y:a,outerRadius:l,innerRadius:u}=t;let d=s/l;i.beginPath(),i.arc(o,a,l,n-d,e+d),u>s?(d=s/u,i.arc(o,a,u,e+d,n-d,!0)):i.arc(o,a,s,e+Nt,n-Nt),i.closePath(),i.clip()}function Uy(i){return Ja(i,["outerStart","outerEnd","innerStart","innerEnd"])}function Zy(i,t,e,n){const s=Uy(i.options.borderRadius),o=(e-t)/2,a=Math.min(o,n*t/2),l=u=>{const d=(e-Math.min(o,u))*n/2;return Kt(u,0,Math.min(o,d))};return{outerStart:l(s.outerStart),outerEnd:l(s.outerEnd),innerStart:Kt(s.innerStart,0,a),innerEnd:Kt(s.innerEnd,0,a)}}function hn(i,t,e,n){return{x:e+i*Math.cos(t),y:n+i*Math.sin(t)}}function Bo(i,t,e,n,s,o){const{x:a,y:l,startAngle:u,pixelMargin:d,innerRadius:f}=t,m=Math.max(t.outerRadius+n+e-d,0),g=f>0?f+n+e+d:0;let b=0;const y=s-u;if(n){const H=f>0?f-n:0,X=m>0?m-n:0,rt=(H+X)/2,tt=rt!==0?y*rt/(rt+n):y;b=(y-tt)/2}const v=Math.max(.001,y*m-e/It)/m,w=(y-v)/2,k=u+w+b,S=s-w-b,{outerStart:O,outerEnd:E,innerStart:A,innerEnd:D}=Zy(t,g,m,S-k),z=m-O,N=m-E,$=k+O/z,j=S-E/N,Z=g+A,U=g+D,K=k+A/Z,it=S-D/U;if(i.beginPath(),o){const H=($+j)/2;if(i.arc(a,l,m,$,H),i.arc(a,l,m,H,j),E>0){const zt=hn(N,j,a,l);i.arc(zt.x,zt.y,E,j,S+Nt)}const X=hn(U,S,a,l);if(i.lineTo(X.x,X.y),D>0){const zt=hn(U,it,a,l);i.arc(zt.x,zt.y,D,S+Nt,it+Math.PI)}const rt=(S-D/g+(k+A/g))/2;if(i.arc(a,l,g,S-D/g,rt,!0),i.arc(a,l,g,rt,k+A/g,!0),A>0){const zt=hn(Z,K,a,l);i.arc(zt.x,zt.y,A,K+Math.PI,k-Nt)}const tt=hn(z,k,a,l);if(i.lineTo(tt.x,tt.y),O>0){const zt=hn(z,$,a,l);i.arc(zt.x,zt.y,O,k-Nt,$)}}else{i.moveTo(a,l);const H=Math.cos($)*m+a,X=Math.sin($)*m+l;i.lineTo(H,X);const rt=Math.cos(j)*m+a,tt=Math.sin(j)*m+l;i.lineTo(rt,tt)}i.closePath()}function Gy(i,t,e,n,s){const{fullCircles:o,startAngle:a,circumference:l}=t;let u=t.endAngle;if(o){Bo(i,t,e,n,u,s);for(let d=0;d<o;++d)i.fill();isNaN(l)||(u=a+(l%Dt||Dt))}return Bo(i,t,e,n,u,s),i.fill(),u}function Yy(i,t,e,n,s){const{fullCircles:o,startAngle:a,circumference:l,options:u}=t,{borderWidth:d,borderJoinStyle:f}=u,m=u.borderAlign==="inner";if(!d)return;m?(i.lineWidth=d*2,i.lineJoin=f||"round"):(i.lineWidth=d,i.lineJoin=f||"bevel");let g=t.endAngle;if(o){Bo(i,t,e,n,g,s);for(let b=0;b<o;++b)i.stroke();isNaN(l)||(g=a+(l%Dt||Dt))}m&&Wy(i,t,g),o||(Bo(i,t,e,n,g,s),i.stroke())}class To extends Je{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const s=this.getProps(["x","y"],n),{angle:o,distance:a}=ah(s,{x:t,y:e}),{startAngle:l,endAngle:u,innerRadius:d,outerRadius:f,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),g=this.options.spacing/2,y=ut(m,u-l)>=Dt||fs(o,l,u),v=Ge(a,d+g,f+g);return y&&v}getCenterPoint(t){const{x:e,y:n,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:u,spacing:d}=this.options,f=(s+o)/2,m=(a+l+d+u)/2;return{x:e+Math.cos(f)*m,y:n+Math.sin(f)*m}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:n}=this,s=(e.offset||0)/4,o=(e.spacing||0)/2,a=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=n>Dt?Math.floor(n/Dt):0,n===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*s,Math.sin(l)*s);const u=1-Math.sin(Math.min(It,n||0)),d=s*u;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,Gy(t,this,d,o,a),Yy(t,this,d,o,a),t.restore()}}Q(To,"id","arc"),Q(To,"defaults",{borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Q(To,"defaultRoutes",{backgroundColor:"backgroundColor"});function $h(i,t,e=t){i.lineCap=ut(e.borderCapStyle,t.borderCapStyle),i.setLineDash(ut(e.borderDash,t.borderDash)),i.lineDashOffset=ut(e.borderDashOffset,t.borderDashOffset),i.lineJoin=ut(e.borderJoinStyle,t.borderJoinStyle),i.lineWidth=ut(e.borderWidth,t.borderWidth),i.strokeStyle=ut(e.borderColor,t.borderColor)}function qy(i,t,e){i.lineTo(e.x,e.y)}function Ky(i){return i.stepped?yb:i.tension||i.cubicInterpolationMode==="monotone"?xb:qy}function Hh(i,t,e={}){const n=i.length,{start:s=0,end:o=n-1}=e,{start:a,end:l}=t,u=Math.max(s,a),d=Math.min(o,l),f=s<a&&o<a||s>l&&o>l;return{count:n,start:u,loop:t.loop,ilen:d<u&&!f?n+d-u:d-u}}function Xy(i,t,e,n){const{points:s,options:o}=t,{count:a,start:l,loop:u,ilen:d}=Hh(s,e,n),f=Ky(o);let{move:m=!0,reverse:g}=n||{},b,y,v;for(b=0;b<=d;++b)y=s[(l+(g?d-b:b))%a],!y.skip&&(m?(i.moveTo(y.x,y.y),m=!1):f(i,v,y,g,o.stepped),v=y);return u&&(y=s[(l+(g?d:0))%a],f(i,v,y,g,o.stepped)),!!u}function Qy(i,t,e,n){const s=t.points,{count:o,start:a,ilen:l}=Hh(s,e,n),{move:u=!0,reverse:d}=n||{};let f=0,m=0,g,b,y,v,w,k;const S=E=>(a+(d?l-E:E))%o,O=()=>{v!==w&&(i.lineTo(f,w),i.lineTo(f,v),i.lineTo(f,k))};for(u&&(b=s[S(0)],i.moveTo(b.x,b.y)),g=0;g<=l;++g){if(b=s[S(g)],b.skip)continue;const E=b.x,A=b.y,D=E|0;D===y?(A<v?v=A:A>w&&(w=A),f=(m*f+E)/++m):(O(),i.lineTo(E,A),y=D,m=0,v=w=A),k=A}O()}function va(i){const t=i.options,e=t.borderDash&&t.borderDash.length;return!i._decimated&&!i._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?Qy:Xy}function Jy(i){return i.stepped?Jb:i.tension||i.cubicInterpolationMode==="monotone"?tv:Ai}function tx(i,t,e,n){let s=t._path;s||(s=t._path=new Path2D,t.path(s,e,n)&&s.closePath()),$h(i,t.options),i.stroke(s)}function ex(i,t,e,n){const{segments:s,options:o}=t,a=va(t);for(const l of s)$h(i,o,l.style),i.beginPath(),a(i,t,l,{start:e,end:e+n-1})&&i.closePath(),i.stroke()}const ix=typeof Path2D=="function";function nx(i,t,e,n){ix&&!t.options.segment?tx(i,t,e,n):ex(i,t,e,n)}class li extends Je{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const s=n.spanGaps?this._loop:this._fullLoop;Ub(this._points,n,t,s,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=rv(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,s=t[e],o=this.points,a=Ch(this,{property:e,start:s,end:s});if(!a.length)return;const l=[],u=Jy(n);let d,f;for(d=0,f=a.length;d<f;++d){const{start:m,end:g}=a[d],b=o[m],y=o[g];if(b===y){l.push(b);continue}const v=Math.abs((s-b[e])/(y[e]-b[e])),w=u(b,y,v,n.stepped);w[e]=t[e],l.push(w)}return l.length===1?l[0]:l}pathSegment(t,e,n){return va(this)(t,this,e,n)}path(t,e,n){const s=this.segments,o=va(this);let a=this._loop;e=e||0,n=n||this.points.length-e;for(const l of s)a&=o(t,this,l,{start:e,end:e+n-1});return!!a}draw(t,e,n,s){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),nx(t,this,n,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Q(li,"id","line"),Q(li,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Q(li,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Q(li,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function Tu(i,t,e,n){const s=i.options,{[e]:o}=i.getProps([e],n);return Math.abs(t-o)<s.radius+s.hitRadius}class Mo extends Je{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,n){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],n);return Math.pow(t-o,2)+Math.pow(e-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,e){return Tu(this,t,"x",e)}inYRange(t,e){return Tu(this,t,"y",e)}getCenterPoint(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const n=e&&t.borderWidth||0;return(e+n)*2}draw(t,e){const n=this.options;this.skip||n.radius<.1||!ms(this,e,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,ga(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}Q(Mo,"id","point"),Q(Mo,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Q(Mo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Wh(i,t){const{x:e,y:n,base:s,width:o,height:a}=i.getProps(["x","y","base","width","height"],t);let l,u,d,f,m;return i.horizontal?(m=a/2,l=Math.min(e,s),u=Math.max(e,s),d=n-m,f=n+m):(m=o/2,l=e-m,u=e+m,d=Math.min(n,s),f=Math.max(n,s)),{left:l,top:d,right:u,bottom:f}}function ci(i,t,e,n){return i?0:Kt(t,e,n)}function sx(i,t,e){const n=i.options.borderWidth,s=i.borderSkipped,o=_h(n);return{t:ci(s.top,o.top,0,e),r:ci(s.right,o.right,0,t),b:ci(s.bottom,o.bottom,0,e),l:ci(s.left,o.left,0,t)}}function ox(i,t,e){const{enableBorderRadius:n}=i.getProps(["enableBorderRadius"]),s=i.options.borderRadius,o=Vi(s),a=Math.min(t,e),l=i.borderSkipped,u=n||gt(s);return{topLeft:ci(!u||l.top||l.left,o.topLeft,0,a),topRight:ci(!u||l.top||l.right,o.topRight,0,a),bottomLeft:ci(!u||l.bottom||l.left,o.bottomLeft,0,a),bottomRight:ci(!u||l.bottom||l.right,o.bottomRight,0,a)}}function rx(i){const t=Wh(i),e=t.right-t.left,n=t.bottom-t.top,s=sx(i,e/2,n/2),o=ox(i,e/2,n/2);return{outer:{x:t.left,y:t.top,w:e,h:n,radius:o},inner:{x:t.left+s.l,y:t.top+s.t,w:e-s.l-s.r,h:n-s.t-s.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,o.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(s.b,s.r))}}}}function Gr(i,t,e,n){const s=t===null,o=e===null,l=i&&!(s&&o)&&Wh(i,n);return l&&(s||Ge(t,l.left,l.right))&&(o||Ge(e,l.top,l.bottom))}function ax(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function lx(i,t){i.rect(t.x,t.y,t.w,t.h)}function Yr(i,t,e={}){const n=i.x!==e.x?-t:0,s=i.y!==e.y?-t:0,o=(i.x+i.w!==e.x+e.w?t:0)-n,a=(i.y+i.h!==e.y+e.h?t:0)-s;return{x:i.x+n,y:i.y+s,w:i.w+o,h:i.h+a,radius:i.radius}}class So extends Je{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:s}}=this,{inner:o,outer:a}=rx(this),l=ax(a.radius)?ps:lx;t.save(),(a.w!==o.w||a.h!==o.h)&&(t.beginPath(),l(t,Yr(a,e,o)),t.clip(),l(t,Yr(o,-e,a)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),l(t,Yr(o,e)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,e,n){return Gr(this,t,e,n)}inXRange(t,e){return Gr(this,t,null,e)}inYRange(t,e){return Gr(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:s,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+s)/2:e,y:o?n:(n+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Q(So,"id","bar"),Q(So,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Q(So,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var cx=Object.freeze({__proto__:null,ArcElement:To,LineElement:li,PointElement:Mo,BarElement:So});const ya=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Mu=ya.map(i=>i.replace("rgb(","rgba(").replace(")",", 0.5)"));function Uh(i){return ya[i%ya.length]}function Zh(i){return Mu[i%Mu.length]}function ux(i,t){return i.borderColor=Uh(t),i.backgroundColor=Zh(t),++t}function dx(i,t){return i.backgroundColor=i.data.map(()=>Uh(t++)),t}function hx(i,t){return i.backgroundColor=i.data.map(()=>Zh(t++)),t}function fx(i){let t=0;return(e,n)=>{const s=i.getDatasetMeta(n).controller;s instanceof Di?t=dx(e,t):s instanceof as?t=hx(e,t):s&&(t=ux(e,t))}}function Su(i){let t;for(t in i)if(i[t].borderColor||i[t].backgroundColor)return!0;return!1}function mx(i){return i&&(i.borderColor||i.backgroundColor)}var px={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(i,t,e){if(!e.enabled)return;const{data:{datasets:n},options:s}=i.config,{elements:o}=s;if(!e.forceOverride&&(Su(n)||mx(s)||o&&Su(o)))return;const a=fx(i);n.forEach(a)}};function gx(i,t,e,n,s){const o=s.samples||n;if(o>=e)return i.slice(t,t+e);const a=[],l=(e-2)/(o-2);let u=0;const d=t+e-1;let f=t,m,g,b,y,v;for(a[u++]=i[f],m=0;m<o-2;m++){let w=0,k=0,S;const O=Math.floor((m+1)*l)+1+t,E=Math.min(Math.floor((m+2)*l)+1,e)+t,A=E-O;for(S=O;S<E;S++)w+=i[S].x,k+=i[S].y;w/=A,k/=A;const D=Math.floor(m*l)+1+t,z=Math.min(Math.floor((m+1)*l)+1,e)+t,{x:N,y:$}=i[f];for(b=y=-1,S=D;S<z;S++)y=.5*Math.abs((N-w)*(i[S].y-$)-(N-i[S].x)*(k-$)),y>b&&(b=y,g=i[S],v=S);a[u++]=g,f=v}return a[u++]=i[d],a}function _x(i,t,e,n){let s=0,o=0,a,l,u,d,f,m,g,b,y,v;const w=[],k=t+e-1,S=i[t].x,E=i[k].x-S;for(a=t;a<t+e;++a){l=i[a],u=(l.x-S)/E*n,d=l.y;const A=u|0;if(A===f)d<y?(y=d,m=a):d>v&&(v=d,g=a),s=(o*s+l.x)/++o;else{const D=a-1;if(!xt(m)&&!xt(g)){const z=Math.min(m,g),N=Math.max(m,g);z!==b&&z!==D&&w.push({...i[z],x:s}),N!==b&&N!==D&&w.push({...i[N],x:s})}a>0&&D!==b&&w.push(i[D]),w.push(l),f=A,o=0,y=v=d,m=g=b=a}}return w}function Gh(i){if(i._decimated){const t=i._data;delete i._decimated,delete i._data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Pu(i){i.data.datasets.forEach(t=>{Gh(t)})}function bx(i,t){const e=t.length;let n=0,s;const{iScale:o}=i,{min:a,max:l,minDefined:u,maxDefined:d}=o.getUserBounds();return u&&(n=Kt(Ye(t,o.axis,a).lo,0,e-1)),d?s=Kt(Ye(t,o.axis,l).hi+1,n,e)-n:s=e-n,{start:n,count:s}}var vx={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(i,t,e)=>{if(!e.enabled){Pu(i);return}const n=i.width;i.data.datasets.forEach((s,o)=>{const{_data:a,indexAxis:l}=s,u=i.getDatasetMeta(o),d=a||s.data;if(Kn([l,i.options.indexAxis])==="y"||!u.controller.supportsDecimation)return;const f=i.scales[u.xAxisID];if(f.type!=="linear"&&f.type!=="time"||i.options.parsing)return;let{start:m,count:g}=bx(u,d);const b=e.threshold||4*n;if(g<=b){Gh(s);return}xt(a)&&(s._data=d,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(v){this._data=v}}));let y;switch(e.algorithm){case"lttb":y=gx(d,m,g,n,e);break;case"min-max":y=_x(d,m,g,n);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}s._decimated=y})},destroy(i){Pu(i)}};function yx(i,t,e){const n=i.segments,s=i.points,o=t.points,a=[];for(const l of n){let{start:u,end:d}=l;d=ol(u,d,s);const f=xa(e,s[u],s[d],l.loop);if(!t.segments){a.push({source:l,target:f,start:s[u],end:s[d]});continue}const m=Ch(t,f);for(const g of m){const b=xa(e,o[g.start],o[g.end],g.loop),y=Lh(l,s,b);for(const v of y)a.push({source:v,target:g,start:{[e]:Lu(f,b,"start",Math.max)},end:{[e]:Lu(f,b,"end",Math.min)}})}}return a}function xa(i,t,e,n){if(n)return;let s=t[i],o=e[i];return i==="angle"&&(s=ce(s),o=ce(o)),{property:i,start:s,end:o}}function xx(i,t){const{x:e=null,y:n=null}=i||{},s=t.points,o=[];return t.segments.forEach(({start:a,end:l})=>{l=ol(a,l,s);const u=s[a],d=s[l];n!==null?(o.push({x:u.x,y:n}),o.push({x:d.x,y:n})):e!==null&&(o.push({x:e,y:u.y}),o.push({x:e,y:d.y}))}),o}function ol(i,t,e){for(;t>i;t--){const n=e[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function Lu(i,t,e,n){return i&&t?n(i[e],t[e]):i?i[e]:t?t[e]:0}function Yh(i,t){let e=[],n=!1;return Ot(i)?(n=!0,e=i):e=xx(i,t),e.length?new li({points:e,options:{tension:0},_loop:n,_fullLoop:n}):null}function Cu(i){return i&&i.fill!==!1}function wx(i,t,e){let s=i[t].fill;const o=[t];let a;if(!e)return s;for(;s!==!1&&o.indexOf(s)===-1;){if(!jt(s))return s;if(a=i[s],!a)return!1;if(a.visible)return s;o.push(s),s=a.fill}return!1}function kx(i,t,e){const n=Px(i);if(gt(n))return isNaN(n.value)?!1:n;let s=parseFloat(n);return jt(s)&&Math.floor(s)===s?Tx(n[0],t,s,e):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function Tx(i,t,e,n){return(i==="-"||i==="+")&&(e=t+e),e===t||e<0||e>=n?!1:e}function Mx(i,t){let e=null;return i==="start"?e=t.bottom:i==="end"?e=t.top:gt(i)?e=t.getPixelForValue(i.value):t.getBasePixel&&(e=t.getBasePixel()),e}function Sx(i,t,e){let n;return i==="start"?n=e:i==="end"?n=t.options.reverse?t.min:t.max:gt(i)?n=i.value:n=t.getBaseValue(),n}function Px(i){const t=i.options,e=t.fill;let n=ut(e&&e.target,e);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function Lx(i){const{scale:t,index:e,line:n}=i,s=[],o=n.segments,a=n.points,l=Cx(t,e);l.push(Yh({x:null,y:t.bottom},n));for(let u=0;u<o.length;u++){const d=o[u];for(let f=d.start;f<=d.end;f++)Ax(s,a[f],l)}return new li({points:s,options:{}})}function Cx(i,t){const e=[],n=i.getMatchingVisibleMetas("line");for(let s=0;s<n.length;s++){const o=n[s];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function Ax(i,t,e){const n=[];for(let s=0;s<e.length;s++){const o=e[s],{first:a,last:l,point:u}=Ex(o,t,"x");if(!(!u||a&&l)){if(a)n.unshift(u);else if(i.push(u),!l)break}}i.push(...n)}function Ex(i,t,e){const n=i.interpolate(t,e);if(!n)return{};const s=n[e],o=i.segments,a=i.points;let l=!1,u=!1;for(let d=0;d<o.length;d++){const f=o[d],m=a[f.start][e],g=a[f.end][e];if(Ge(s,m,g)){l=s===m,u=s===g;break}}return{first:l,last:u,point:n}}class qh{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){const{x:s,y:o,radius:a}=this;return e=e||{start:0,end:Dt},t.arc(s,o,a,e.end,e.start,!0),!n.bounds}interpolate(t){const{x:e,y:n,radius:s}=this,o=t.angle;return{x:e+Math.cos(o)*s,y:n+Math.sin(o)*s,angle:o}}}function Ox(i){const{chart:t,fill:e,line:n}=i;if(jt(e))return Dx(t,e);if(e==="stack")return Lx(i);if(e==="shape")return!0;const s=zx(i);return s instanceof qh?s:Yh(s,n)}function Dx(i,t){const e=i.getDatasetMeta(t);return e&&i.isDatasetVisible(t)?e.dataset:null}function zx(i){return(i.scale||{}).getPointPositionForValue?Rx(i):Ix(i)}function Ix(i){const{scale:t={},fill:e}=i,n=Mx(e,t);if(jt(n)){const s=t.isHorizontal();return{x:s?n:null,y:s?null:n}}return null}function Rx(i){const{scale:t,fill:e}=i,n=t.options,s=t.getLabels().length,o=n.reverse?t.max:t.min,a=Sx(e,t,o),l=[];if(n.grid.circular){const u=t.getPointPositionForValue(0,o);return new qh({x:u.x,y:u.y,radius:t.getDistanceFromCenterForValue(a)})}for(let u=0;u<s;++u)l.push(t.getPointPositionForValue(u,a));return l}function qr(i,t,e){const n=Ox(t),{line:s,scale:o,axis:a}=t,l=s.options,u=l.fill,d=l.backgroundColor,{above:f=d,below:m=d}=u||{};n&&s.points.length&&(Ko(i,e),Vx(i,{line:s,target:n,above:f,below:m,area:e,scale:o,axis:a}),Xo(i))}function Vx(i,t){const{line:e,target:n,above:s,below:o,area:a,scale:l}=t,u=e._loop?"angle":t.axis;i.save(),u==="x"&&o!==s&&(Au(i,n,a.top),Eu(i,{line:e,target:n,color:s,scale:l,property:u}),i.restore(),i.save(),Au(i,n,a.bottom)),Eu(i,{line:e,target:n,color:o,scale:l,property:u}),i.restore()}function Au(i,t,e){const{segments:n,points:s}=t;let o=!0,a=!1;i.beginPath();for(const l of n){const{start:u,end:d}=l,f=s[u],m=s[ol(u,d,s)];o?(i.moveTo(f.x,f.y),o=!1):(i.lineTo(f.x,e),i.lineTo(f.x,f.y)),a=!!t.pathSegment(i,l,{move:a}),a?i.closePath():i.lineTo(m.x,e)}i.lineTo(t.first().x,e),i.closePath(),i.clip()}function Eu(i,t){const{line:e,target:n,property:s,color:o,scale:a}=t,l=yx(e,n,s);for(const{source:u,target:d,start:f,end:m}of l){const{style:{backgroundColor:g=o}={}}=u,b=n!==!0;i.save(),i.fillStyle=g,Bx(i,a,b&&xa(s,f,m)),i.beginPath();const y=!!e.pathSegment(i,u);let v;if(b){y?i.closePath():Ou(i,n,m,s);const w=!!n.pathSegment(i,d,{move:y,reverse:!0});v=y&&w,v||Ou(i,n,f,s)}i.closePath(),i.fill(v?"evenodd":"nonzero"),i.restore()}}function Bx(i,t,e){const{top:n,bottom:s}=t.chart.chartArea,{property:o,start:a,end:l}=e||{};o==="x"&&(i.beginPath(),i.rect(a,n,l-a,s-n),i.clip())}function Ou(i,t,e,n){const s=t.interpolate(e,n);s&&i.lineTo(s.x,s.y)}var jx={id:"filler",afterDatasetsUpdate(i,t,e){const n=(i.data.datasets||[]).length,s=[];let o,a,l,u;for(a=0;a<n;++a)o=i.getDatasetMeta(a),l=o.dataset,u=null,l&&l.options&&l instanceof li&&(u={visible:i.isDatasetVisible(a),index:a,fill:kx(l,a,n),chart:i,axis:o.controller.options.indexAxis,scale:o.vScale,line:l}),o.$filler=u,s.push(u);for(a=0;a<n;++a)u=s[a],!(!u||u.fill===!1)&&(u.fill=wx(s,a,e.propagate))},beforeDraw(i,t,e){const n=e.drawTime==="beforeDraw",s=i.getSortedVisibleDatasetMetas(),o=i.chartArea;for(let a=s.length-1;a>=0;--a){const l=s[a].$filler;l&&(l.line.updateControlPoints(o,l.axis),n&&l.fill&&qr(i.ctx,l,o))}},beforeDatasetsDraw(i,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const n=i.getSortedVisibleDatasetMetas();for(let s=n.length-1;s>=0;--s){const o=n[s].$filler;Cu(o)&&qr(i.ctx,o,i.chartArea)}},beforeDatasetDraw(i,t,e){const n=t.meta.$filler;!Cu(n)||e.drawTime!=="beforeDatasetDraw"||qr(i.ctx,n,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Du=(i,t)=>{let{boxHeight:e=t,boxWidth:n=t}=i;return i.usePointStyle&&(e=Math.min(e,t),n=i.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:e,itemHeight:Math.max(t,e)}},Nx=(i,t)=>i!==null&&t!==null&&i.datasetIndex===t.datasetIndex&&i.index===t.index;class zu extends Je{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Ct(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(n=>t.filter(n,this.chart.data))),t.sort&&(e=e.sort((n,s)=>t.sort(n,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,s=qt(n.font),o=s.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:u}=Du(n,o);let d,f;e.font=s.string,this.isHorizontal()?(d=this.maxWidth,f=this._fitRows(a,o,l,u)+10):(f=this.maxHeight,d=this._fitCols(a,s,l,u)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(f,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,s){const{ctx:o,maxWidth:a,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],d=this.lineWidths=[0],f=s+l;let m=t;o.textAlign="left",o.textBaseline="middle";let g=-1,b=-f;return this.legendItems.forEach((y,v)=>{const w=n+e/2+o.measureText(y.text).width;(v===0||d[d.length-1]+w+2*l>a)&&(m+=f,d[d.length-(v>0?0:1)]=0,b+=f,g++),u[v]={left:0,top:b,row:g,width:w,height:s},d[d.length-1]+=w+l}),m}_fitCols(t,e,n,s){const{ctx:o,maxHeight:a,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],d=this.columnSizes=[],f=a-t;let m=l,g=0,b=0,y=0,v=0;return this.legendItems.forEach((w,k)=>{const{itemWidth:S,itemHeight:O}=Fx(n,e,o,w,s);k>0&&b+O+2*l>f&&(m+=g+l,d.push({width:g,height:b}),y+=g+l,v++,g=b=0),u[k]={left:y,top:b,col:v,width:S,height:O},g=Math.max(g,S),b+=O+l}),m+=g,d.push({width:g,height:b}),m}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:s},rtl:o}}=this,a=_n(o,this.left,this.width);if(this.isHorizontal()){let l=0,u=te(n,this.left+s,this.right-this.lineWidths[l]);for(const d of e)l!==d.row&&(l=d.row,u=te(n,this.left+s,this.right-this.lineWidths[l])),d.top+=this.top+t+s,d.left=a.leftForLtr(a.x(u),d.width),u+=d.width+s}else{let l=0,u=te(n,this.top+t+s,this.bottom-this.columnSizes[l].height);for(const d of e)d.col!==l&&(l=d.col,u=te(n,this.top+t+s,this.bottom-this.columnSizes[l].height)),d.top=u,d.left+=this.left+s,d.left=a.leftForLtr(a.x(d.left),d.width),u+=d.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Ko(t,this),this._draw(),Xo(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:s}=this,{align:o,labels:a}=t,l=Ht.color,u=_n(t.rtl,this.left,this.width),d=qt(a.font),{padding:f}=a,m=d.size,g=m/2;let b;this.drawTitle(),s.textAlign=u.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;const{boxWidth:y,boxHeight:v,itemHeight:w}=Du(a,m),k=function(D,z,N){if(isNaN(y)||y<=0||isNaN(v)||v<0)return;s.save();const $=ut(N.lineWidth,1);if(s.fillStyle=ut(N.fillStyle,l),s.lineCap=ut(N.lineCap,"butt"),s.lineDashOffset=ut(N.lineDashOffset,0),s.lineJoin=ut(N.lineJoin,"miter"),s.lineWidth=$,s.strokeStyle=ut(N.strokeStyle,l),s.setLineDash(ut(N.lineDash,[])),a.usePointStyle){const j={radius:v*Math.SQRT2/2,pointStyle:N.pointStyle,rotation:N.rotation,borderWidth:$},Z=u.xPlus(D,y/2),U=z+g;gh(s,j,Z,U,a.pointStyleWidth&&y)}else{const j=z+Math.max((m-v)/2,0),Z=u.leftForLtr(D,y),U=Vi(N.borderRadius);s.beginPath(),Object.values(U).some(K=>K!==0)?ps(s,{x:Z,y:j,w:y,h:v,radius:U}):s.rect(Z,j,y,v),s.fill(),$!==0&&s.stroke()}s.restore()},S=function(D,z,N){Ni(s,N.text,D,z+w/2,d,{strikethrough:N.hidden,textAlign:u.textAlign(N.textAlign)})},O=this.isHorizontal(),E=this._computeTitleHeight();O?b={x:te(o,this.left+f,this.right-n[0]),y:this.top+f+E,line:0}:b={x:this.left+f,y:te(o,this.top+E+f,this.bottom-e[0].height),line:0},Mh(this.ctx,t.textDirection);const A=w+f;this.legendItems.forEach((D,z)=>{s.strokeStyle=D.fontColor,s.fillStyle=D.fontColor;const N=s.measureText(D.text).width,$=u.textAlign(D.textAlign||(D.textAlign=a.textAlign)),j=y+g+N;let Z=b.x,U=b.y;u.setWidth(this.width),O?z>0&&Z+j+f>this.right&&(U=b.y+=A,b.line++,Z=b.x=te(o,this.left+f,this.right-n[b.line])):z>0&&U+A>this.bottom&&(Z=b.x=Z+e[b.line].width+f,b.line++,U=b.y=te(o,this.top+E+f,this.bottom-e[b.line].height));const K=u.x(Z);if(k(K,U,D),Z=cb($,Z+y+g,O?Z+j:this.right,t.rtl),S(u.x(Z),U,D),O)b.x+=j+f;else if(typeof D.text!="string"){const it=d.lineHeight;b.y+=Kh(D,it)}else b.y+=A}),Sh(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=qt(e.font),s=ie(e.padding);if(!e.display)return;const o=_n(t.rtl,this.left,this.width),a=this.ctx,l=e.position,u=n.size/2,d=s.top+u;let f,m=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),f=this.top+d,m=te(t.align,m,this.right-g);else{const y=this.columnSizes.reduce((v,w)=>Math.max(v,w.height),0);f=d+te(t.align,this.top,this.bottom-y-t.labels.padding-this._computeTitleHeight())}const b=te(l,m,m+g);a.textAlign=o.textAlign(Qa(l)),a.textBaseline="middle",a.strokeStyle=e.color,a.fillStyle=e.color,a.font=n.string,Ni(a,e.text,b,f,n)}_computeTitleHeight(){const t=this.options.title,e=qt(t.font),n=ie(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,s,o;if(Ge(t,this.left,this.right)&&Ge(e,this.top,this.bottom)){for(o=this.legendHitBoxes,n=0;n<o.length;++n)if(s=o[n],Ge(t,s.left,s.left+s.width)&&Ge(e,s.top,s.top+s.height))return this.legendItems[n]}return null}handleEvent(t){const e=this.options;if(!Wx(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,o=Nx(s,n);s&&!o&&Ct(e.onLeave,[t,s,this],this),this._hoveredItem=n,n&&!o&&Ct(e.onHover,[t,n,this],this)}else n&&Ct(e.onClick,[t,n,this],this)}}function Fx(i,t,e,n,s){const o=$x(n,i,t,e),a=Hx(s,n,t.lineHeight);return{itemWidth:o,itemHeight:a}}function $x(i,t,e,n){let s=i.text;return s&&typeof s!="string"&&(s=s.reduce((o,a)=>o.length>a.length?o:a)),t+e.size/2+n.measureText(s).width}function Hx(i,t,e){let n=i;return typeof t.text!="string"&&(n=Kh(t,e)),n}function Kh(i,t){const e=i.text?i.text.length+.5:0;return t*e}function Wx(i,t){return!!((i==="mousemove"||i==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(i==="click"||i==="mouseup"))}var Ux={id:"legend",_element:zu,start(i,t,e){const n=i.legend=new zu({ctx:i.ctx,options:e,chart:i});ee.configure(i,n,e),ee.addBox(i,n)},stop(i){ee.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,t,e){const n=i.legend;ee.configure(i,n,e),n.options=e},afterUpdate(i){const t=i.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(i,t){t.replay||i.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,t,e){const n=t.datasetIndex,s=e.chart;s.isDatasetVisible(n)?(s.hide(n),t.hidden=!0):(s.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const t=i.data.datasets,{labels:{usePointStyle:e,pointStyle:n,textAlign:s,color:o,useBorderRadius:a,borderRadius:l}}=i.legend.options;return i._getSortedDatasetMetas().map(u=>{const d=u.controller.getStyle(e?0:void 0),f=ie(d.borderWidth);return{text:t[u.index].label,fillStyle:d.backgroundColor,fontColor:o,hidden:!u.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:d.borderColor,pointStyle:n||d.pointStyle,rotation:d.rotation,textAlign:s||d.textAlign,borderRadius:a&&(l||d.borderRadius),datasetIndex:u.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};class rl extends Je{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const s=Ot(n.text)?n.text.length:1;this._padding=ie(n.padding);const o=s*qt(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:n,bottom:s,right:o,options:a}=this,l=a.align;let u=0,d,f,m;return this.isHorizontal()?(f=te(l,n,o),m=e+t,d=o-n):(a.position==="left"?(f=n+t,m=te(l,s,e),u=It*-.5):(f=o-t,m=te(l,e,s),u=It*.5),d=s-e),{titleX:f,titleY:m,maxWidth:d,rotation:u}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=qt(e.font),o=n.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:u,rotation:d}=this._drawArgs(o);Ni(t,e.text,0,0,n,{color:e.color,maxWidth:u,rotation:d,textAlign:Qa(e.align),textBaseline:"middle",translation:[a,l]})}}function Zx(i,t){const e=new rl({ctx:i.ctx,options:t,chart:i});ee.configure(i,e,t),ee.addBox(i,e),i.titleBlock=e}var Gx={id:"title",_element:rl,start(i,t,e){Zx(i,e)},stop(i){const t=i.titleBlock;ee.removeBox(i,t),delete i.titleBlock},beforeUpdate(i,t,e){const n=i.titleBlock;ee.configure(i,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const oo=new WeakMap;var Yx={id:"subtitle",start(i,t,e){const n=new rl({ctx:i.ctx,options:e,chart:i});ee.configure(i,n,e),ee.addBox(i,n),oo.set(i,n)},stop(i){ee.removeBox(i,oo.get(i)),oo.delete(i)},beforeUpdate(i,t,e){const n=oo.get(i);ee.configure(i,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Qn={average(i){if(!i.length)return!1;let t,e,n=0,s=0,o=0;for(t=0,e=i.length;t<e;++t){const a=i[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();n+=l.x,s+=l.y,++o}}return{x:n/o,y:s/o}},nearest(i,t){if(!i.length)return!1;let e=t.x,n=t.y,s=Number.POSITIVE_INFINITY,o,a,l;for(o=0,a=i.length;o<a;++o){const u=i[o].element;if(u&&u.hasValue()){const d=u.getCenterPoint(),f=ma(t,d);f<s&&(s=f,l=u)}}if(l){const u=l.tooltipPosition();e=u.x,n=u.y}return{x:e,y:n}}};function Oe(i,t){return t&&(Ot(t)?Array.prototype.push.apply(i,t):i.push(t)),i}function He(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function qx(i,t){const{element:e,datasetIndex:n,index:s}=t,o=i.getDatasetMeta(n).controller,{label:a,value:l}=o.getLabelAndValue(s);return{chart:i,label:a,parsed:o.getParsed(s),raw:i.data.datasets[n].data[s],formattedValue:l,dataset:o.getDataset(),dataIndex:s,datasetIndex:n,element:e}}function Iu(i,t){const e=i.chart.ctx,{body:n,footer:s,title:o}=i,{boxWidth:a,boxHeight:l}=t,u=qt(t.bodyFont),d=qt(t.titleFont),f=qt(t.footerFont),m=o.length,g=s.length,b=n.length,y=ie(t.padding);let v=y.height,w=0,k=n.reduce((E,A)=>E+A.before.length+A.lines.length+A.after.length,0);if(k+=i.beforeBody.length+i.afterBody.length,m&&(v+=m*d.lineHeight+(m-1)*t.titleSpacing+t.titleMarginBottom),k){const E=t.displayColors?Math.max(l,u.lineHeight):u.lineHeight;v+=b*E+(k-b)*u.lineHeight+(k-1)*t.bodySpacing}g&&(v+=t.footerMarginTop+g*f.lineHeight+(g-1)*t.footerSpacing);let S=0;const O=function(E){w=Math.max(w,e.measureText(E).width+S)};return e.save(),e.font=d.string,kt(i.title,O),e.font=u.string,kt(i.beforeBody.concat(i.afterBody),O),S=t.displayColors?a+2+t.boxPadding:0,kt(n,E=>{kt(E.before,O),kt(E.lines,O),kt(E.after,O)}),S=0,e.font=f.string,kt(i.footer,O),e.restore(),w+=y.width,{width:w,height:v}}function Kx(i,t){const{y:e,height:n}=t;return e<n/2?"top":e>i.height-n/2?"bottom":"center"}function Xx(i,t,e,n){const{x:s,width:o}=n,a=e.caretSize+e.caretPadding;if(i==="left"&&s+o+a>t.width||i==="right"&&s-o-a<0)return!0}function Qx(i,t,e,n){const{x:s,width:o}=e,{width:a,chartArea:{left:l,right:u}}=i;let d="center";return n==="center"?d=s<=(l+u)/2?"left":"right":s<=o/2?d="left":s>=a-o/2&&(d="right"),Xx(d,i,t,e)&&(d="center"),d}function Ru(i,t,e){const n=e.yAlign||t.yAlign||Kx(i,e);return{xAlign:e.xAlign||t.xAlign||Qx(i,t,e,n),yAlign:n}}function Jx(i,t){let{x:e,width:n}=i;return t==="right"?e-=n:t==="center"&&(e-=n/2),e}function t0(i,t,e){let{y:n,height:s}=i;return t==="top"?n+=e:t==="bottom"?n-=s+e:n-=s/2,n}function Vu(i,t,e,n){const{caretSize:s,caretPadding:o,cornerRadius:a}=i,{xAlign:l,yAlign:u}=e,d=s+o,{topLeft:f,topRight:m,bottomLeft:g,bottomRight:b}=Vi(a);let y=Jx(t,l);const v=t0(t,u,d);return u==="center"?l==="left"?y+=d:l==="right"&&(y-=d):l==="left"?y-=Math.max(f,g)+s:l==="right"&&(y+=Math.max(m,b)+s),{x:Kt(y,0,n.width-t.width),y:Kt(v,0,n.height-t.height)}}function ro(i,t,e){const n=ie(e.padding);return t==="center"?i.x+i.width/2:t==="right"?i.x+i.width-n.right:i.x+n.left}function Bu(i){return Oe([],He(i))}function e0(i,t,e){return pi(i,{tooltip:t,tooltipItems:e,type:"tooltip"})}function ju(i,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?i.override(e):i}const Xh={beforeTitle:Fe,title(i){if(i.length>0){const t=i[0],e=t.chart.data.labels,n=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return e[t.dataIndex]}return""},afterTitle:Fe,beforeBody:Fe,beforeLabel:Fe,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let t=i.dataset.label||"";t&&(t+=": ");const e=i.formattedValue;return xt(e)||(t+=e),t},labelColor(i){const e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Fe,afterBody:Fe,beforeFooter:Fe,footer:Fe,afterFooter:Fe};function oe(i,t,e,n){const s=i[t].call(e,n);return typeof s>"u"?Xh[t].call(e,n):s}class wa extends Je{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),s=n.enabled&&e.options.animation&&n.animations,o=new Ah(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=e0(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:n}=e,s=oe(n,"beforeTitle",this,t),o=oe(n,"title",this,t),a=oe(n,"afterTitle",this,t);let l=[];return l=Oe(l,He(s)),l=Oe(l,He(o)),l=Oe(l,He(a)),l}getBeforeBody(t,e){return Bu(oe(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,s=[];return kt(t,o=>{const a={before:[],lines:[],after:[]},l=ju(n,o);Oe(a.before,He(oe(l,"beforeLabel",this,o))),Oe(a.lines,oe(l,"label",this,o)),Oe(a.after,He(oe(l,"afterLabel",this,o))),s.push(a)}),s}getAfterBody(t,e){return Bu(oe(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,s=oe(n,"beforeFooter",this,t),o=oe(n,"footer",this,t),a=oe(n,"afterFooter",this,t);let l=[];return l=Oe(l,He(s)),l=Oe(l,He(o)),l=Oe(l,He(a)),l}_createItems(t){const e=this._active,n=this.chart.data,s=[],o=[],a=[];let l=[],u,d;for(u=0,d=e.length;u<d;++u)l.push(qx(this.chart,e[u]));return t.filter&&(l=l.filter((f,m,g)=>t.filter(f,m,g,n))),t.itemSort&&(l=l.sort((f,m)=>t.itemSort(f,m,n))),kt(l,f=>{const m=ju(t.callbacks,f);s.push(oe(m,"labelColor",this,f)),o.push(oe(m,"labelPointStyle",this,f)),a.push(oe(m,"labelTextColor",this,f))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=l,l}update(t,e){const n=this.options.setContext(this.getContext()),s=this._active;let o,a=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{const l=Qn[n.position].call(this,s,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const u=this._size=Iu(this,n),d=Object.assign({},l,u),f=Ru(this.chart,n,d),m=Vu(n,d,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,o={opacity:1,x:m.x,y:m.y,width:u.width,height:u.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,s){const o=this.getCaretPosition(t,n,s);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,n){const{xAlign:s,yAlign:o}=this,{caretSize:a,cornerRadius:l}=n,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:m}=Vi(l),{x:g,y:b}=t,{width:y,height:v}=e;let w,k,S,O,E,A;return o==="center"?(E=b+v/2,s==="left"?(w=g,k=w-a,O=E+a,A=E-a):(w=g+y,k=w+a,O=E-a,A=E+a),S=w):(s==="left"?k=g+Math.max(u,f)+a:s==="right"?k=g+y-Math.max(d,m)-a:k=this.caretX,o==="top"?(O=b,E=O-a,w=k-a,S=k+a):(O=b+v,E=O+a,w=k+a,S=k-a),A=O),{x1:w,x2:k,x3:S,y1:O,y2:E,y3:A}}drawTitle(t,e,n){const s=this.title,o=s.length;let a,l,u;if(o){const d=_n(n.rtl,this.x,this.width);for(t.x=ro(this,n.titleAlign,n),e.textAlign=d.textAlign(n.titleAlign),e.textBaseline="middle",a=qt(n.titleFont),l=n.titleSpacing,e.fillStyle=n.titleColor,e.font=a.string,u=0;u<o;++u)e.fillText(s[u],d.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+l,u+1===o&&(t.y+=n.titleMarginBottom-l)}}_drawColorBox(t,e,n,s,o){const a=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:u,boxWidth:d,boxPadding:f}=o,m=qt(o.bodyFont),g=ro(this,"left",o),b=s.x(g),y=u<m.lineHeight?(m.lineHeight-u)/2:0,v=e.y+y;if(o.usePointStyle){const w={radius:Math.min(d,u)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},k=s.leftForLtr(b,d)+d/2,S=v+u/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,ga(t,w,k,S),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,ga(t,w,k,S)}else{t.lineWidth=gt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const w=s.leftForLtr(b,d-f),k=s.leftForLtr(s.xPlus(b,1),d-f-2),S=Vi(a.borderRadius);Object.values(S).some(O=>O!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,ps(t,{x:w,y:v,w:d,h:u,radius:S}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),ps(t,{x:k,y:v+1,w:d-2,h:u-2,radius:S}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(w,v,d,u),t.strokeRect(w,v,d,u),t.fillStyle=a.backgroundColor,t.fillRect(k,v+1,d-2,u-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:s}=this,{bodySpacing:o,bodyAlign:a,displayColors:l,boxHeight:u,boxWidth:d,boxPadding:f}=n,m=qt(n.bodyFont);let g=m.lineHeight,b=0;const y=_n(n.rtl,this.x,this.width),v=function(N){e.fillText(N,y.x(t.x+b),t.y+g/2),t.y+=g+o},w=y.textAlign(a);let k,S,O,E,A,D,z;for(e.textAlign=a,e.textBaseline="middle",e.font=m.string,t.x=ro(this,w,n),e.fillStyle=n.bodyColor,kt(this.beforeBody,v),b=l&&w!=="right"?a==="center"?d/2+f:d+2+f:0,E=0,D=s.length;E<D;++E){for(k=s[E],S=this.labelTextColors[E],e.fillStyle=S,kt(k.before,v),O=k.lines,l&&O.length&&(this._drawColorBox(e,t,E,y,n),g=Math.max(m.lineHeight,u)),A=0,z=O.length;A<z;++A)v(O[A]),g=m.lineHeight;kt(k.after,v)}b=0,g=m.lineHeight,kt(this.afterBody,v),t.y-=o}drawFooter(t,e,n){const s=this.footer,o=s.length;let a,l;if(o){const u=_n(n.rtl,this.x,this.width);for(t.x=ro(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=u.textAlign(n.footerAlign),e.textBaseline="middle",a=qt(n.footerFont),e.fillStyle=n.footerColor,e.font=a.string,l=0;l<o;++l)e.fillText(s[l],u.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+n.footerSpacing}}drawBackground(t,e,n,s){const{xAlign:o,yAlign:a}=this,{x:l,y:u}=t,{width:d,height:f}=n,{topLeft:m,topRight:g,bottomLeft:b,bottomRight:y}=Vi(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(l+m,u),a==="top"&&this.drawCaret(t,e,n,s),e.lineTo(l+d-g,u),e.quadraticCurveTo(l+d,u,l+d,u+g),a==="center"&&o==="right"&&this.drawCaret(t,e,n,s),e.lineTo(l+d,u+f-y),e.quadraticCurveTo(l+d,u+f,l+d-y,u+f),a==="bottom"&&this.drawCaret(t,e,n,s),e.lineTo(l+b,u+f),e.quadraticCurveTo(l,u+f,l,u+f-b),a==="center"&&o==="left"&&this.drawCaret(t,e,n,s),e.lineTo(l,u+m),e.quadraticCurveTo(l,u,l+m,u),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,s=n&&n.x,o=n&&n.y;if(s||o){const a=Qn[t.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=Iu(this,t),u=Object.assign({},a,this._size),d=Ru(e,t,u),f=Vu(t,u,d,e);(s._to!==f.x||o._to!==f.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=ie(e.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&l&&(t.save(),t.globalAlpha=n,this.drawBackground(o,t,s,e),Mh(t,e.textDirection),o.y+=a.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),Sh(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,s=t.map(({datasetIndex:l,index:u})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[u],index:u}}),o=!Eo(n,s),a=this._positionChanged(s,e);(o||a)&&(this._active=s,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,n=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],a=this._getActiveElements(t,o,e,n),l=this._positionChanged(a,t),u=e||!Eo(a,o)||l;return u&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),u}_getActiveElements(t,e,n,s){const o=this.options;if(t.type==="mouseout")return[];if(!s)return e;const a=this.chart.getElementsAtEventForMode(t,o.mode,o,n);return o.reverse&&a.reverse(),a}_positionChanged(t,e){const{caretX:n,caretY:s,options:o}=this,a=Qn[o.position].call(this,t,e);return a!==!1&&(n!==a.x||s!==a.y)}}Q(wa,"positioners",Qn);var i0={id:"tooltip",_element:wa,positioners:Qn,afterInit(i,t,e){e&&(i.tooltip=new wa({chart:i,options:e}))},beforeUpdate(i,t,e){i.tooltip&&i.tooltip.initialize(e)},reset(i,t,e){i.tooltip&&i.tooltip.initialize(e)},afterDraw(i){const t=i.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(i.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",e)}},afterEvent(i,t){if(i.tooltip){const e=t.replay;i.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,t)=>t.bodyFont.size,boxWidth:(i,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Xh},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},n0=Object.freeze({__proto__:null,Colors:px,Decimation:vx,Filler:jx,Legend:Ux,SubTitle:Yx,Title:Gx,Tooltip:i0});const s0=(i,t,e,n)=>(typeof t=="string"?(e=i.push(t)-1,n.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function o0(i,t,e,n){const s=i.indexOf(t);if(s===-1)return s0(i,t,e,n);const o=i.lastIndexOf(t);return s!==o?e:s}const r0=(i,t)=>i===null?null:Kt(Math.round(i),0,t);function Nu(i){const t=this.getLabels();return i>=0&&i<t.length?t[i]:i}class ka extends $i{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const n=this.getLabels();for(const{index:s,label:o}of e)n[s]===o&&n.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(xt(t))return null;const n=this.getLabels();return e=isFinite(e)&&n[e]===t?e:o0(n,t,ut(e,t),this._addedLabels),r0(e,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),e||(s=this.getLabels().length-1)),this.min=n,this.max=s}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,s=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=t;a<=e;a++)s.push({value:a});return s}getLabelForValue(t){return Nu.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Q(ka,"id","category"),Q(ka,"defaults",{ticks:{callback:Nu}});function a0(i,t){const e=[],{bounds:s,step:o,min:a,max:l,precision:u,count:d,maxTicks:f,maxDigits:m,includeBounds:g}=i,b=o||1,y=f-1,{min:v,max:w}=t,k=!xt(a),S=!xt(l),O=!xt(d),E=(w-v)/(m+1);let A=Rc((w-v)/y/b)*b,D,z,N,$;if(A<1e-14&&!k&&!S)return[{value:v},{value:w}];$=Math.ceil(w/A)-Math.floor(v/A),$>y&&(A=Rc($*A/y/b)*b),xt(u)||(D=Math.pow(10,u),A=Math.ceil(A*D)/D),s==="ticks"?(z=Math.floor(v/A)*A,N=Math.ceil(w/A)*A):(z=v,N=w),k&&S&&o&&ib((l-a)/o,A/1e3)?($=Math.round(Math.min((l-a)/A,f)),A=(l-a)/$,z=a,N=l):O?(z=k?a:z,N=S?l:N,$=d-1,A=(N-z)/$):($=(N-z)/A,ss($,Math.round($),A/1e3)?$=Math.round($):$=Math.ceil($));const j=Math.max(Vc(A),Vc(z));D=Math.pow(10,xt(u)?j:u),z=Math.round(z*D)/D,N=Math.round(N*D)/D;let Z=0;for(k&&(g&&z!==a?(e.push({value:a}),z<a&&Z++,ss(Math.round((z+Z*A)*D)/D,a,Fu(a,E,i))&&Z++):z<a&&Z++);Z<$;++Z)e.push({value:Math.round((z+Z*A)*D)/D});return S&&g&&N!==l?e.length&&ss(e[e.length-1].value,l,Fu(l,E,i))?e[e.length-1].value=l:e.push({value:l}):(!S||N===l)&&e.push({value:N}),e}function Fu(i,t,{horizontal:e,minRotation:n}){const s=Te(n),o=(e?Math.sin(s):Math.cos(s))||.001,a=.75*t*(""+i).length;return Math.min(t/o,a)}class jo extends $i{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return xt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:o}=this;const a=u=>s=e?s:u,l=u=>o=n?o:u;if(t){const u=Re(s),d=Re(o);u<0&&d<0?l(0):u>0&&d>0&&a(0)}if(s===o){let u=o===0?1:Math.abs(o*.05);l(o+u),t||a(s-u)}this.min=s,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:n}=t,s;return n?(s=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const s={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,a=a0(s,o);return t.bounds==="ticks"&&rh(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const s=(n-e)/Math.max(t.length-1,1)/2;e-=s,n+=s}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return ks(t,this.chart.options.locale,this.options.ticks.format)}}class Ta extends jo{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=jt(t)?t:0,this.max=jt(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=Te(this.options.ticks.minRotation),s=(t?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Q(Ta,"id","linear"),Q(Ta,"defaults",{ticks:{callback:qo.formatters.numeric}});const _s=i=>Math.floor(ai(i)),Li=(i,t)=>Math.pow(10,_s(i)+t);function $u(i){return i/Math.pow(10,_s(i))===1}function Hu(i,t,e){const n=Math.pow(10,e),s=Math.floor(i/n);return Math.ceil(t/n)-s}function l0(i,t){const e=t-i;let n=_s(e);for(;Hu(i,t,n)>10;)n++;for(;Hu(i,t,n)<10;)n--;return Math.min(n,_s(i))}function c0(i,{min:t,max:e}){t=le(i.min,t);const n=[],s=_s(t);let o=l0(t,e),a=o<0?Math.pow(10,Math.abs(o)):1;const l=Math.pow(10,o),u=s>o?Math.pow(10,s):0,d=Math.round((t-u)*a)/a,f=Math.floor((t-u)/l/10)*l*10;let m=Math.floor((d-f)/Math.pow(10,o)),g=le(i.min,Math.round((u+f+m*Math.pow(10,o))*a)/a);for(;g<e;)n.push({value:g,major:$u(g),significand:m}),m>=10?m=m<15?15:20:m++,m>=20&&(o++,m=2,a=o>=0?1:a),g=Math.round((u+f+m*Math.pow(10,o))*a)/a;const b=le(i.max,g);return n.push({value:b,major:$u(b),significand:m}),n}class Ma extends $i{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=jo.prototype.parse.apply(this,[t,e]);if(n===0){this._zero=!0;return}return jt(n)&&n>0?n:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=jt(t)?Math.max(0,t):null,this.max=jt(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!jt(this._userMin)&&(this.min=t===Li(this.min,0)?Li(this.min,-1):Li(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,s=this.max;const o=l=>n=t?n:l,a=l=>s=e?s:l;n===s&&(n<=0?(o(1),a(10)):(o(Li(n,-1)),a(Li(s,1)))),n<=0&&o(Li(s,-1)),s<=0&&a(Li(n,1)),this.min=n,this.max=s}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},n=c0(e,this);return t.bounds==="ticks"&&rh(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":ks(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=ai(t),this._valueRange=ai(this.max)-ai(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(ai(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}Q(Ma,"id","logarithmic"),Q(Ma,"defaults",{ticks:{callback:qo.formatters.logarithmic,major:{enabled:!0}}});function Sa(i){const t=i.ticks;if(t.display&&i.display){const e=ie(t.backdropPadding);return ut(t.font&&t.font.size,Ht.font.size)+e.height}return 0}function u0(i,t,e){return e=Ot(e)?e:[e],{w:vb(i,t.string,e),h:e.length*t.lineHeight}}function Wu(i,t,e,n,s){return i===n||i===s?{start:t-e/2,end:t+e/2}:i<n||i>s?{start:t-e,end:t}:{start:t,end:t+e}}function d0(i){const t={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},e=Object.assign({},t),n=[],s=[],o=i._pointLabels.length,a=i.options.pointLabels,l=a.centerPointLabels?It/o:0;for(let u=0;u<o;u++){const d=a.setContext(i.getPointLabelContext(u));s[u]=d.padding;const f=i.getPointPosition(u,i.drawingArea+s[u],l),m=qt(d.font),g=u0(i.ctx,m,i._pointLabels[u]);n[u]=g;const b=ce(i.getIndexAngle(u)+l),y=Math.round(Ka(b)),v=Wu(y,f.x,g.w,0,180),w=Wu(y,f.y,g.h,90,270);h0(e,t,b,v,w)}i.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),i._pointLabelItems=f0(i,n,s)}function h0(i,t,e,n,s){const o=Math.abs(Math.sin(e)),a=Math.abs(Math.cos(e));let l=0,u=0;n.start<t.l?(l=(t.l-n.start)/o,i.l=Math.min(i.l,t.l-l)):n.end>t.r&&(l=(n.end-t.r)/o,i.r=Math.max(i.r,t.r+l)),s.start<t.t?(u=(t.t-s.start)/a,i.t=Math.min(i.t,t.t-u)):s.end>t.b&&(u=(s.end-t.b)/a,i.b=Math.max(i.b,t.b+u))}function f0(i,t,e){const n=[],s=i._pointLabels.length,o=i.options,a=Sa(o)/2,l=i.drawingArea,u=o.pointLabels.centerPointLabels?It/s:0;for(let d=0;d<s;d++){const f=i.getPointPosition(d,l+a+e[d],u),m=Math.round(Ka(ce(f.angle+Nt))),g=t[d],b=g0(f.y,g.h,m),y=m0(m),v=p0(f.x,g.w,y);n.push({x:f.x,y:b,textAlign:y,left:v,top:b,right:v+g.w,bottom:b+g.h})}return n}function m0(i){return i===0||i===180?"center":i<180?"left":"right"}function p0(i,t,e){return e==="right"?i-=t:e==="center"&&(i-=t/2),i}function g0(i,t,e){return e===90||e===270?i-=t/2:(e>270||e<90)&&(i-=t),i}function _0(i,t){const{ctx:e,options:{pointLabels:n}}=i;for(let s=t-1;s>=0;s--){const o=n.setContext(i.getPointLabelContext(s)),a=qt(o.font),{x:l,y:u,textAlign:d,left:f,top:m,right:g,bottom:b}=i._pointLabelItems[s],{backdropColor:y}=o;if(!xt(y)){const v=Vi(o.borderRadius),w=ie(o.backdropPadding);e.fillStyle=y;const k=f-w.left,S=m-w.top,O=g-f+w.width,E=b-m+w.height;Object.values(v).some(A=>A!==0)?(e.beginPath(),ps(e,{x:k,y:S,w:O,h:E,radius:v}),e.fill()):e.fillRect(k,S,O,E)}Ni(e,i._pointLabels[s],l,u+a.lineHeight/2,a,{color:o.color,textAlign:d,textBaseline:"middle"})}}function Qh(i,t,e,n){const{ctx:s}=i;if(e)s.arc(i.xCenter,i.yCenter,t,0,Dt);else{let o=i.getPointPosition(0,t);s.moveTo(o.x,o.y);for(let a=1;a<n;a++)o=i.getPointPosition(a,t),s.lineTo(o.x,o.y)}}function b0(i,t,e,n,s){const o=i.ctx,a=t.circular,{color:l,lineWidth:u}=t;!a&&!n||!l||!u||e<0||(o.save(),o.strokeStyle=l,o.lineWidth=u,o.setLineDash(s.dash),o.lineDashOffset=s.dashOffset,o.beginPath(),Qh(i,e,a,n),o.closePath(),o.stroke(),o.restore())}function v0(i,t,e){return pi(i,{label:e,index:t,type:"pointLabel"})}class Jn extends jo{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=ie(Sa(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=jt(t)&&!isNaN(t)?t:0,this.max=jt(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Sa(this.options))}generateTickLabels(t){jo.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,n)=>{const s=Ct(this.options.pointLabels.callback,[e,n],this);return s||s===0?s:""}).filter((e,n)=>this.chart.getDataVisibility(n))}fit(){const t=this.options;t.display&&t.pointLabels.display?d0(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,s){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,s))}getIndexAngle(t){const e=Dt/(this._pointLabels.length||1),n=this.options.startAngle||0;return ce(t*e+Te(n))}getDistanceFromCenterForValue(t){if(xt(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(xt(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return v0(this.getContext(),t,n)}}getPointPosition(t,e,n=0){const s=this.getIndexAngle(t)-Nt+n;return{x:Math.cos(s)*e+this.xCenter,y:Math.sin(s)*e+this.yCenter,angle:s}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:s,bottom:o}=this._pointLabelItems[t];return{left:e,top:n,right:s,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),Qh(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:s,border:o}=e,a=this._pointLabels.length;let l,u,d;if(e.pointLabels.display&&_0(this,a),s.display&&this.ticks.forEach((f,m)=>{if(m!==0){u=this.getDistanceFromCenterForValue(f.value);const g=this.getContext(m),b=s.setContext(g),y=o.setContext(g);b0(this,b,u,a,y)}}),n.display){for(t.save(),l=a-1;l>=0;l--){const f=n.setContext(this.getPointLabelContext(l)),{color:m,lineWidth:g}=f;!g||!m||(t.lineWidth=g,t.strokeStyle=m,t.setLineDash(f.borderDash),t.lineDashOffset=f.borderDashOffset,u=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),d=this.getPointPosition(l,u),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const s=this.getIndexAngle(0);let o,a;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((l,u)=>{if(u===0&&!e.reverse)return;const d=n.setContext(this.getContext(u)),f=qt(d.font);if(o=this.getDistanceFromCenterForValue(this.ticks[u].value),d.showLabelBackdrop){t.font=f.string,a=t.measureText(l.label).width,t.fillStyle=d.backdropColor;const m=ie(d.backdropPadding);t.fillRect(-a/2-m.left,-o-f.size/2-m.top,a+m.width,f.size+m.height)}Ni(t,l.label,0,-o,f,{color:d.color})}),t.restore()}drawTitle(){}}Q(Jn,"id","radialLinear"),Q(Jn,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:qo.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),Q(Jn,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Q(Jn,"descriptors",{angleLines:{_fallback:"grid"}});const Jo={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ae=Object.keys(Jo);function y0(i,t){return i-t}function Uu(i,t){if(xt(t))return null;const e=i._adapter,{parser:n,round:s,isoWeekday:o}=i._parseOpts;let a=t;return typeof n=="function"&&(a=n(a)),jt(a)||(a=typeof n=="string"?e.parse(a,n):e.parse(a)),a===null?null:(s&&(a=s==="week"&&(wn(o)||o===!0)?e.startOf(a,"isoWeek",o):e.startOf(a,s)),+a)}function Zu(i,t,e,n){const s=ae.length;for(let o=ae.indexOf(i);o<s-1;++o){const a=Jo[ae[o]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((e-t)/(l*a.size))<=n)return ae[o]}return ae[s-1]}function x0(i,t,e,n,s){for(let o=ae.length-1;o>=ae.indexOf(e);o--){const a=ae[o];if(Jo[a].common&&i._adapter.diff(s,n,a)>=t-1)return a}return ae[e?ae.indexOf(e):0]}function w0(i){for(let t=ae.indexOf(i)+1,e=ae.length;t<e;++t)if(Jo[ae[t]].common)return ae[t]}function Gu(i,t,e){if(!e)i[t]=!0;else if(e.length){const{lo:n,hi:s}=Xa(e,t),o=e[n]>=t?e[n]:e[s];i[o]=!0}}function k0(i,t,e,n){const s=i._adapter,o=+s.startOf(t[0].value,n),a=t[t.length-1].value;let l,u;for(l=o;l<=a;l=+s.add(l,1,n))u=e[l],u>=0&&(t[u].major=!0);return t}function Yu(i,t,e){const n=[],s={},o=t.length;let a,l;for(a=0;a<o;++a)l=t[a],s[l]=a,n.push({value:l,major:!1});return o===0||!e?n:k0(i,n,s,e)}class bs extends $i{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const n=t.time||(t.time={}),s=this._adapter=new Iv._date(t.adapters.date);s.init(e),ns(n.displayFormats,s.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:Uu(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:s,max:o,minDefined:a,maxDefined:l}=this.getUserBounds();function u(d){!a&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!l&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!a||!l)&&(u(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&u(this.getMinMax(!1))),s=jt(s)&&!isNaN(s)?s:+e.startOf(Date.now(),n),o=jt(o)&&!isNaN(o)?o:+e.endOf(Date.now(),n)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,s=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,a=this.max,l=rb(s,o,a);return this._unit=e.unit||(n.autoSkip?Zu(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):x0(this,l.length,e.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:w0(this._unit),this.initOffsets(s),t.reverse&&l.reverse(),Yu(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,n=0,s,o;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?e=1-s:e=(this.getDecimalForValue(t[1])-s)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?n=o:n=(o-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;e=Kt(e,0,a),n=Kt(n,0,a),this._offsets={start:e,end:n,factor:1/(e+1+n)}}_generate(){const t=this._adapter,e=this.min,n=this.max,s=this.options,o=s.time,a=o.unit||Zu(o.minUnit,e,n,this._getLabelCapacity(e)),l=ut(s.ticks.stepSize,1),u=a==="week"?o.isoWeekday:!1,d=wn(u)||u===!0,f={};let m=e,g,b;if(d&&(m=+t.startOf(m,"isoWeek",u)),m=+t.startOf(m,d?"day":a),t.diff(n,e,a)>1e5*l)throw new Error(e+" and "+n+" are too far apart with stepSize of "+l+" "+a);const y=s.ticks.source==="data"&&this.getDataTimestamps();for(g=m,b=0;g<n;g=+t.add(g,l,a),b++)Gu(f,g,y);return(g===n||s.bounds==="ticks"||b===1)&&Gu(f,g,y),Object.keys(f).sort((v,w)=>v-w).map(v=>+v)}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}format(t,e){const s=this.options.time.displayFormats,o=this._unit,a=e||s[o];return this._adapter.format(t,a)}_tickFormatFunction(t,e,n,s){const o=this.options,a=o.ticks.callback;if(a)return Ct(a,[t,e,n],this);const l=o.time.displayFormats,u=this._unit,d=this._majorUnit,f=u&&l[u],m=d&&l[d],g=n[e],b=d&&m&&g&&g.major;return this._adapter.format(t,s||(b?m:f))}generateTickLabels(t){let e,n,s;for(e=0,n=t.length;e<n;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,s=Te(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(s),a=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:n*o+l*a,h:n*a+l*o}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,s=n[e.unit]||n.millisecond,o=this._tickFormatFunction(t,0,Yu(this,[t],this._majorUnit),s),a=this._getLabelSize(o),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],e,n;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(e=0,n=s.length;e<n;++e)t=t.concat(s[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const s=this.getLabels();for(e=0,n=s.length;e<n;++e)t.push(Uu(this,s[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return ch(t.sort(y0))}}Q(bs,"id","time"),Q(bs,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function ao(i,t,e){let n=0,s=i.length-1,o,a,l,u;e?(t>=i[n].pos&&t<=i[s].pos&&({lo:n,hi:s}=Ye(i,"pos",t)),{pos:o,time:l}=i[n],{pos:a,time:u}=i[s]):(t>=i[n].time&&t<=i[s].time&&({lo:n,hi:s}=Ye(i,"time",t)),{time:o,pos:l}=i[n],{time:a,pos:u}=i[s]);const d=a-o;return d?l+(u-l)*(t-o)/d:l}class Pa extends bs{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=ao(e,this.min),this._tableRange=ao(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,s=[],o=[];let a,l,u,d,f;for(a=0,l=t.length;a<l;++a)d=t[a],d>=e&&d<=n&&s.push(d);if(s.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(a=0,l=s.length;a<l;++a)f=s[a+1],u=s[a-1],d=s[a],Math.round((f+u)/2)!==d&&o.push({time:d,pos:a/(l-1)});return o}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return e.length&&n.length?t=this.normalize(e.concat(n)):t=e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(ao(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return ao(this._table,n*this._tableRange+this._minPos,!0)}}Q(Pa,"id","timeseries"),Q(Pa,"defaults",bs.defaults);var T0=Object.freeze({__proto__:null,CategoryScale:ka,LinearScale:Ta,LogarithmicScale:Ma,RadialLinearScale:Jn,TimeScale:bs,TimeSeriesScale:Pa});const M0=[zv,cx,n0,T0];Ue.register(...M0);const S0={style:{position:"relative"}},P0={__name:"chartjs",props:{type:{type:[String],default:"bar"},data:{type:[Object],default:()=>({})},options:{type:[Object],default:()=>({})}},emits:["load"],setup(i,{emit:t}){const e=i,n=Qt(null);let s;return Go(()=>{s=new Ue(n.value,{type:e.type,data:e.data,options:e.options}),t("chart",s)}),ls([e],([o])=>{!n.value||!s||(s.options={...o.options},s.data={...o.data},s.options.animation=!1,s.options.transitions.active.animation.duration=0,s.update(),t("chart",s))}),(o,a)=>(F(),q("div",S0,[P("canvas",{ref_key:"canvas",ref:n,style:{width:"100%",height:"100%"}},null,512)]))}},L0={style:{position:"relative"}},C0={__name:"iframe",setup(i,{expose:t}){const e=Qt(null),n=Qt(null),s=Qt(null);return Go(()=>{setTimeout(()=>{const o=document.createDocumentFragment();o.appendChild(e.value),o.appendChild(Object.assign(document.createElement("style"),{innerHTML:n.value.innerText})),s.value.contentWindow.document.body.appendChild(o)},100)}),t({getContent(){return e},getIframe(){return s}}),(o,a)=>(F(),q("div",L0,[P("div",{ref_key:"content",ref:e},[Oi(o.$slots,"default")],512),P("div",{ref_key:"style",ref:n,style:{height:"1px",overflow:"hidden"}},[Oi(o.$slots,"style")],512),P("iframe",{ref_key:"iframe",ref:s,src:"",style:{width:"100%",height:"100%",border:"none"}},null,512)]))}},A0={meta:{active:!1,icon:"mdi-circle",name:"Base",description:"Base file structure",source:"https://github.com/labscriptdev/labscriptdev.github.io/tree/main/pages/lab/index/base"},data(){return{pages:(()=>Object.entries(Object.assign({"./index/index.vue":w_,"./index/page-1/index.vue":k_})).filter(([t,e])=>!!e.meta).map(([t,e])=>({slug:t.split("/").at(-2).replace(/^index$/g,""),icon:"mdi-circle",name:"Default",active:!1,order:0,...e.meta||{}})).sort((t,e)=>t.order<e.order?-1:t.order>e.order?1:0))()}}};function E0(i,t,e,n,s,o){const a=Fi,l=I("v-list-item"),u=I("v-list"),d=At;return F(),et(d,null,{drawer:M(()=>[T(u,null,{default:M(()=>[(F(!0),q(dt,null,pt(s.pages,f=>(F(),et(l,{key:f.slug,title:f.name,"prepend-icon":f.icon,to:`/lab/base/${f.slug}`},null,8,["title","prepend-icon","to"]))),128))]),_:1})]),default:M(()=>[T(a)]),_:1})}const Jh=St(A0,[["render",E0]]),LC=Object.freeze(Object.defineProperty({__proto__:null,default:Jh},Symbol.toStringTag,{value:"Module"})),O0={meta:{active:!0,icon:"mdi-code-json",name:"Algorithms",description:"Types of algorithms",source:"https://github.com/labscriptdev/labscriptdev.github.io/tree/main/pages/lab/index/algorithm"},data(){return{pages:(()=>Object.entries(Object.assign({"./index/dijkstra/index.vue":lg,"./index/index.vue":cg})).filter(([t,e])=>!!e.meta).map(([t,e])=>({slug:t.split("/").at(-2).replace(/^index$/g,""),icon:null,name:"Default",active:!1,order:0,...e.meta||{}})).sort((t,e)=>t.order<e.order?-1:t.order>e.order?1:0))()}}};function D0(i,t,e,n,s,o){const a=Fi,l=I("v-list-item"),u=I("v-list"),d=At;return F(),et(d,null,{drawer:M(()=>[T(u,null,{default:M(()=>[(F(!0),q(dt,null,pt(s.pages,f=>(F(),et(l,{key:f.slug,title:f.name,"prepend-icon":f.icon,to:`/lab/algorithm/${f.slug}`,exact:!0},null,8,["title","prepend-icon","to"]))),128))]),_:1})]),default:M(()=>[T(a,{pages:s.pages},null,8,["pages"])]),_:1})}const tf=St(O0,[["render",D0]]),CC=Object.freeze(Object.defineProperty({__proto__:null,default:tf},Symbol.toStringTag,{value:"Module"}));function qu(i,t,e){if(e||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))}function Xe(i){return i>47&&i<58}function tr(i,t,e){return t=t||65,e=e||90,i&=-33,i>=t&&i<=e}function ef(i){return Xe(i)||er(i)}function er(i){return i===95||tr(i)}function z0(i){return i===32||i===9||i===160}function al(i){return z0(i)||i===10||i===13}function ll(i){return i===39||i===34}class ir{constructor(t,e,n){n==null&&typeof t=="string"&&(n=t.length),this.string=t,this.pos=this.start=e||0,this.end=n||0}eof(){return this.pos>=this.end}limit(t,e){return new ir(this.string,t,e)}peek(){return this.string.charCodeAt(this.pos)}next(){if(this.pos<this.string.length)return this.string.charCodeAt(this.pos++)}eat(t){const e=this.peek(),n=typeof t=="function"?t(e):e===t;return n&&this.next(),n}eatWhile(t){const e=this.pos;for(;!this.eof()&&this.eat(t););return this.pos!==e}backUp(t){this.pos-=t||1}current(){return this.substring(this.start,this.pos)}substring(t,e){return this.string.slice(t,e)}error(t,e=this.pos){return new cl(`${t} at ${e+1}`,e,this.string)}}class cl extends Error{constructor(t,e,n){super(t),this.pos=e,this.string=n}}function I0(i){return{tokens:i,start:0,pos:0,size:i.length}}function Hi(i){return i.tokens[i.pos]}function ul(i){return i.tokens[i.pos++]}function bn(i,t=i.start,e=i.pos){return i.tokens.slice(t,e)}function Qe(i){return i.pos<i.size}function Jt(i,t){const e=Hi(i);return e&&t(e)?(i.pos++,!0):!1}function dl(i,t,e=Hi(i)){e&&e.start!=null&&(t+=` at ${e.start}`);const n=new Error(t);return n.pos=e&&e.start,n}function R0(i,t={}){const e=I0(i),n=nf(e,t);if(Qe(e))throw dl(e,"Unexpected character");return n}function nf(i,t){const e={type:"TokenGroup",elements:[]};let n=e,s;const o=[];for(;Qe(i)&&(s=B0(i,t)||V0(i,t));)if(n.elements.push(s),Jt(i,Q0))o.push(n),n=s;else{if(Jt(i,J0))continue;if(Jt(i,Ju))do o.length&&(n=o.pop());while(Jt(i,Ju))}return e}function V0(i,t){if(Jt(i,K0)){const e=nf(i,t),n=ul(i);return ve(n,"group",!1)&&(e.repeat=F0(i)),e}}function B0(i,t){let e;const n={type:"TokenElement",name:void 0,attributes:void 0,value:void 0,repeat:void 0,selfClose:!1,elements:[]};for($0(i,t)&&(n.name=bn(i));Qe(i);)if(i.start=i.pos,!n.repeat&&!Kr(n)&&Jt(i,Fo))n.repeat=i.tokens[i.pos-1];else if(!n.value&&sf(i))n.value=of(i);else if(e=Ku(i,"id",t)||Ku(i,"class",t)||j0(i))n.attributes?n.attributes=n.attributes.concat(e):n.attributes=Array.isArray(e)?e.slice():[e];else{!Kr(n)&&Jt(i,tw)&&(n.selfClose=!0,!n.repeat&&Jt(i,Fo)&&(n.repeat=i.tokens[i.pos-1]));break}return Kr(n)?void 0:n}function j0(i){if(Jt(i,G0)){const t=[];let e;for(;Qe(i);)if(e=N0(i))t.push(e);else{if(Jt(i,Y0))break;if(!Jt(i,rf))throw dl(i,`Unexpected "${Hi(i).type}" token`)}return t}}function Ku(i,t,e){if(gi(Hi(i),t)){i.pos++;const n={name:[X0(t)]};return e.jsx&&sf(i)?(n.value=of(i),n.expression=!0):n.value=La(i)?bn(i):void 0,n}}function N0(i){if(Xu(i))return{value:bn(i)};if(La(i,!0))return{name:bn(i),value:Jt(i,H0)&&(Xu(i)||La(i,!0))?bn(i):void 0}}function F0(i){return Fo(Hi(i))?i.tokens[i.pos++]:void 0}function Xu(i){const t=i.pos,e=Hi(i);if(No(e)){for(i.pos++;Qe(i);)if(No(ul(i),e.single))return i.start=t,!0;throw dl(i,"Unclosed quote",e)}return!1}function La(i,t){const e=i.pos,n={attribute:0,expression:0,group:0};for(;Qe(i);){const s=Hi(i);if(n.expression)ve(s,"expression")&&(n[s.context]+=s.open?1:-1);else{if(No(s)||gi(s)||rf(s)||Fo(s))break;if(ve(s)){if(!t)break;if(s.open)n[s.context]++;else if(n[s.context])n[s.context]--;else break}}i.pos++}return e!==i.pos?(i.start=e,!0):!1}function $0(i,t){const e=i.pos;if(t.jsx&&Jt(i,Qu))for(;Qe(i);){const{pos:n}=i;if(!Jt(i,Z0)||!Jt(i,Qu)){i.pos=n;break}}for(;Qe(i)&&Jt(i,U0););return i.pos!==e?(i.start=e,!0):!1}function sf(i){const t=i.pos;if(Jt(i,q0)){let e=0;for(;Qe(i);){const n=ul(i);if(ve(n,"expression"))if(n.open)e++;else if(e)e--;else break}return i.start=t,!0}return!1}function of(i){let t=i.start,e=i.pos;return ve(i.tokens[t],"expression",!0)&&t++,ve(i.tokens[e-1],"expression",!1)&&e--,bn(i,t,e)}function ve(i,t,e){return!!(i&&i.type==="Bracket"&&(!t||i.context===t)&&(e==null||i.open===e))}function gi(i,t){return!!(i&&i.type==="Operator"&&(!t||i.operator===t))}function No(i,t){return!!(i&&i.type==="Quote"&&(t==null||i.single===t))}function rf(i){return!!(i&&i.type==="WhiteSpace")}function H0(i){return gi(i,"equal")}function Fo(i){return!!(i&&i.type==="Repeater")}function W0(i){return i.type==="Literal"}function Qu(i){if(W0(i)){const t=i.value.charCodeAt(0);return t>=65&&t<=90}return!1}function U0(i){return i.type==="Literal"||i.type==="RepeaterNumber"||i.type==="RepeaterPlaceholder"}function Z0(i){return gi(i,"class")}function G0(i){return ve(i,"attribute",!0)}function Y0(i){return ve(i,"attribute",!1)}function q0(i){return ve(i,"expression",!0)}function K0(i){return ve(i,"group",!0)}function X0(i){return{type:"Literal",value:i}}function Kr(i){return!i.name&&!i.value&&!i.attributes}function Q0(i){return gi(i,"child")}function J0(i){return gi(i,"sibling")}function Ju(i){return gi(i,"climb")}function tw(i){return gi(i,"close")}function ew(i){return i.eat(92)?(i.start=i.pos,i.eof()||i.pos++,!0):!1}function iw(i){const t=new ir(i),e=[],n={group:0,attribute:0,expression:0,quote:0};let s=0,o;for(;!t.eof();)if(s=t.peek(),o=nw(t,n),o)e.push(o),o.type==="Quote"?n.quote=s===n.quote?0:s:o.type==="Bracket"&&(n[o.context]+=o.open?1:-1);else throw t.error("Unexpected character");return e}function nw(i,t){return hw(i,t)||uw(i)||dw(i)||cw(i)||ow(i)||sw(i,t)||lw(i)||rw(i)||aw(i)}function sw(i,t){const e=i.pos;let n="";for(;!i.eof();){if(ew(i)){n+=i.current();continue}const s=i.peek();if(s===t.quote||s===36||fw(s,t)||t.expression&&s===125||!t.quote&&!t.expression&&(!t.attribute&&!_w(s)||mw(s,t)||pw(s,t)||ll(s)||af(s)))break;n+=i.string[i.pos++]}if(e!==i.pos)return i.start=e,{type:"Literal",value:n,start:e,end:i.pos}}function ow(i){const t=i.pos;if(i.eatWhile(al))return{type:"WhiteSpace",start:t,end:i.pos,value:i.substring(t,i.pos)}}function rw(i){const t=i.peek();if(ll(t))return{type:"Quote",single:t===39,start:i.pos++,end:i.pos}}function aw(i){const t=i.peek(),e=af(t);if(e)return{type:"Bracket",open:gw(t),context:e,start:i.pos++,end:i.pos}}function lw(i){const t=lf(i.peek());if(t)return{type:"Operator",operator:t,start:i.pos++,end:i.pos}}function cw(i){const t=i.pos;if(i.eat(42)){i.start=i.pos;let e=1,n=!1;return i.eatWhile(Xe)?e=Number(i.current()):n=!0,{type:"Repeater",count:e,value:0,implicit:n,start:t,end:i.pos}}}function uw(i){const t=i.pos;if(i.eat(36)&&i.eat(35))return{type:"RepeaterPlaceholder",value:void 0,start:t,end:i.pos};i.pos=t}function dw(i){const t=i.pos;if(i.eatWhile(36)){const e=i.pos-t;let n=!1,s=1,o=0;if(i.eat(64)){for(;i.eat(94);)o++;n=i.eat(45),i.start=i.pos,i.eatWhile(Xe)&&(s=Number(i.current()))}return i.start=t,{type:"RepeaterNumber",size:e,reverse:n,base:s,parent:o,start:t,end:i.pos}}}function hw(i,t){const e=i.pos;if((t.expression||t.attribute)&&i.eat(36)&&i.eat(123)){i.start=i.pos;let n,s="";if(i.eatWhile(Xe)?(n=Number(i.current()),s=i.eat(58)?td(i):""):tr(i.peek())&&(s=td(i)),i.eat(125))return{type:"Field",index:n,name:s,start:e,end:i.pos};throw i.error("Expecting }")}i.pos=e}function td(i){const t=[];for(i.start=i.pos;!i.eof();)if(i.eat(123))t.push(i.pos);else if(i.eat(125)){if(!t.length){i.pos--;break}t.pop()}else i.pos++;if(t.length)throw i.pos=t.pop(),i.error("Expecting }");return i.current()}function fw(i,t){const e=lf(i);return!e||t.quote||t.expression?!1:!t.attribute||e==="equal"}function mw(i,t){return al(i)&&!t.expression}function pw(i,t){return i===42&&!t.attribute&&!t.expression}function af(i){if(i===40||i===41)return"group";if(i===91||i===93)return"attribute";if(i===123||i===125)return"expression"}function lf(i){return i===62&&"child"||i===43&&"sibling"||i===94&&"climb"||i===46&&"class"||i===35&&"id"||i===47&&"close"||i===61&&"equal"||void 0}function gw(i){return i===123||i===91||i===40}function _w(i){return ef(i)||i===45||i===58||i===33}const bw={child:">",class:".",climb:"^",id:"#",equal:"=",close:"/",sibling:"+"},ed={Literal(i){return i.value},Quote(i){return i.single?"'":'"'},Bracket(i){return i.context==="attribute"?i.open?"[":"]":i.context==="expression"?i.open?"{":"}":i.open?"(":"}"},Operator(i){return bw[i.operator]},Field(i,t){return i.index!=null?i.name?`\${${i.index}:${i.name}}`:`\${${i.index}`:i.name?t.getVariable(i.name):""},RepeaterPlaceholder(i,t){let e;for(let n=t.repeaters.length-1;n>=0;n--)if(t.repeaters[n].implicit){e=t.repeaters[n];break}return t.inserted=!0,t.getText(e&&e.value)},RepeaterNumber(i,t){let e=1;const n=t.repeaters.length-1,s=t.repeaters[n];if(s&&(e=i.reverse?i.base+s.count-s.value-1:i.base+s.value,i.parent)){const a=Math.max(0,n-i.parent);if(a!==n){const l=t.repeaters[a];e+=s.count*l.value}}let o=String(e);for(;o.length<i.size;)o="0"+o;return o},WhiteSpace(i){return i.value}};function cf(i,t){if(!ed[i.type])throw new Error(`Unknown token ${i.type}`);return ed[i.type](i,t)}const vw=/^((https?:|ftp:|file:)?\/\/|(www|ftp)\.)[^ ]*$/,yw=/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,5}$/;function xw(i,t={}){let e=!1,n;t.text&&(Array.isArray(t.text)?n=t.text.filter(o=>o.trim()):n=t.text);const s={type:"Abbreviation",children:Ca(i,{inserted:!1,repeaters:[],text:t.text,cleanText:n,repeatGuard:t.maxRepeat||Number.POSITIVE_INFINITY,getText(o){var a;e=!0;let l;if(Array.isArray(t.text)){if(o!==void 0&&o>=0&&o<n.length)return n[o];l=o!==void 0?t.text[o]:t.text.join(`
`)}else l=(a=t.text)!==null&&a!==void 0?a:"";return l},getVariable(o){const a=t.variables&&t.variables[o];return a??o}})};if(t.text!=null&&!e){const o=hl(Mn(s.children));if(o){const a=Array.isArray(t.text)?t.text.join(`
`):t.text;mf(o,a),o.name==="a"&&t.href&&kw(o,a)}}return s}function uf(i,t){let e=[];if(i.repeat){const n=i.repeat,s=Object.assign({},n);s.count=s.implicit&&Array.isArray(t.text)?t.cleanText.length:s.count||1;let o;t.repeaters.push(s);for(let a=0;a<s.count;a++){if(s.value=a,i.repeat=s,o=nd(i)?Ca(i,t):id(i,t),s.implicit&&!t.inserted){const l=Mn(o),u=l&&hl(l);u&&mf(u,t.getText(s.value))}if(e=e.concat(o),--t.repeatGuard<=0)break}t.repeaters.pop(),i.repeat=n,s.implicit&&(t.inserted=!0)}else e=e.concat(nd(i)?Ca(i,t):id(i,t));return e}function id(i,t){let e=[];const n={type:"AbbreviationNode",name:i.name&&df(i.name,t),value:i.value&&hf(i.value,t),attributes:void 0,children:e,repeat:i.repeat&&Object.assign({},i.repeat),selfClosing:i.selfClose};let s=[n];for(const o of i.elements)e=e.concat(uf(o,t));if(i.attributes){n.attributes=[];for(const o of i.attributes)n.attributes.push(ww(o,t))}return!n.name&&!n.attributes&&n.value&&!n.value.some(ff)?s=s.concat(e):n.children=e,s}function Ca(i,t){let e=[];for(const n of i.elements)e=e.concat(uf(n,t));return i.repeat&&(e=Tw(e,i.repeat)),e}function ww(i,t){let e=!1,n=!1,s=i.expression?"expression":"raw",o;const a=i.name&&df(i.name,t);if(a&&a[0]==="!"&&(e=!0),a&&a[a.length-1]==="."&&(n=!0),i.value){const l=i.value.slice();if(No(l[0])){const u=l.shift();l.length&&Mn(l).type===u.type&&l.pop(),s=u.single?"singleQuote":"doubleQuote"}else ve(l[0],"expression",!0)&&(s="expression",l.shift(),ve(Mn(l),"expression",!1)&&l.pop());o=hf(l,t)}return{name:n||e?a.slice(e?1:0,n?-1:void 0):a,value:o,boolean:n,implied:e,valueType:s}}function df(i,t){let e="";for(let n=0;n<i.length;n++)e+=cf(i[n],t);return e}function hf(i,t){const e=[];let n="";for(let s=0,o;s<i.length;s++)o=i[s],ff(o)?(n&&(e.push(n),n=""),e.push(o)):n+=cf(o,t);return n&&e.push(n),e}function nd(i){return i.type==="TokenGroup"}function ff(i){return typeof i=="object"&&i.type==="Field"&&i.index!=null}function Mn(i){return i[i.length-1]}function hl(i){return i.children.length?hl(Mn(i.children)):i}function mf(i,t){i.value?typeof Mn(i.value)=="string"?i.value[i.value.length-1]+=t:i.value.push(t):i.value=[t]}function kw(i,t){var e;let n="";vw.test(t)?(n=t,!/\w+:/.test(n)&&!n.startsWith("//")&&(n=`http://${n}`)):yw.test(t)&&(n=`mailto:${t}`);const s=(e=i.attributes)===null||e===void 0?void 0:e.find(o=>o.name==="href");s?s.value||(s.value=[n]):(i.attributes||(i.attributes=[]),i.attributes.push({name:"href",value:[n],valueType:"doubleQuote"}))}function Tw(i,t){for(const e of i)e.repeat||(e.repeat=Object.assign({},t));return i}function pf(i,t){try{const e=typeof i=="string"?iw(i):i;return xw(R0(e,t),t)}catch(e){throw e instanceof cl&&typeof i=="string"&&(e.message+=`
${i}
${"-".repeat(e.pos)}^`),e}}function Mw(i,t){let e=0,n;const s=new ir(i),o=[];for(;!s.eof();){if(n=Sw(s,e===0&&!t),!n)throw s.error("Unexpected character");if(n.type==="Bracket"&&(!e&&n.open&&Fw(s,o),e+=n.open?1:-1,e<0))throw s.error("Unexpected bracket",n.start);o.push(n),Nw(n)&&(n=gf(s))&&o.push(n)}return o}function Sw(i,t){return Pw(i)||Cw(i)||Ew(i)||Aw(i)||Dw(i)||gf(i)||Ow(i)||Lw(i,t)}function Pw(i){const t=i.pos;if(i.eat(36)&&i.eat(123)){i.start=i.pos;let e,n="";if(i.eatWhile(Xe)?(e=Number(i.current()),n=i.eat(58)?sd(i):""):tr(i.peek())&&(n=sd(i)),i.eat(125))return{type:"Field",index:e,name:n,start:t,end:i.pos};throw i.error("Expecting }")}i.pos=t}function sd(i){const t=[];for(i.start=i.pos;!i.eof();)if(i.eat(123))t.push(i.pos);else if(i.eat(125)){if(!t.length){i.pos--;break}t.pop()}else i.pos++;if(t.length)throw i.pos=t.pop(),i.error("Expecting }");return i.current()}function Lw(i,t){const e=i.pos;if(i.eat(Iw)?i.eatWhile(e?od:Qr):i.eat(er)?i.eatWhile(t?Qr:od):(i.eat(46),i.eatWhile(Qr)),e!==i.pos)return i.start=e,fl(i,i.start=e)}function fl(i,t=i.start,e=i.pos){return{type:"Literal",value:i.substring(t,e),start:t,end:e}}function Cw(i){const t=i.pos;if(zw(i)){i.start=t;const e=i.current();return i.start=i.pos,i.eat(37)||i.eatWhile(er),{type:"NumberValue",value:Number(e),rawValue:e,unit:i.current(),start:t,end:i.pos}}}function Aw(i){const t=i.peek(),e=i.pos;let n=!1;if(ll(t)){for(i.pos++;!i.eof();)if(i.eat(t)){n=!0;break}else i.pos++;return i.start=e,{type:"StringValue",value:i.substring(e+1,i.pos-(n?1:0)),quote:t===39?"single":"double",start:e,end:i.pos}}}function Ew(i){const t=i.pos;if(i.eat(35)){const e=i.pos;let n="",s="";if(i.eatWhile(Vw)?(n=i.substring(e,i.pos),s=Xr(i)):i.eat(116)?(n="0",s=Xr(i)||"0"):s=Xr(i),n||s||i.eof()){const{r:o,g:a,b:l,a:u}=jw(n,s);return{type:"ColorValue",r:o,g:a,b:l,a:u,raw:i.substring(t+1,i.pos),start:t,end:i.pos}}else return fl(i,t)}i.pos=t}function Xr(i){const t=i.pos;return i.eat(46)?(i.start=t,i.eatWhile(Xe)?i.current():"1"):""}function Ow(i){const t=i.pos;if(i.eatWhile(al))return{type:"WhiteSpace",start:t,end:i.pos}}function Dw(i){const t=i.peek();if(Bw(t))return{type:"Bracket",open:t===40,start:i.pos++,end:i.pos}}function gf(i){const t=Rw(i.peek());if(t)return{type:"Operator",operator:t,start:i.pos++,end:i.pos}}function zw(i){const t=i.pos;i.eat(45);const e=i.pos,n=i.eatWhile(Xe),s=i.pos;if(i.eat(46)){const o=i.eatWhile(Xe);!n&&!o&&(i.pos=s)}return i.pos===e&&(i.pos=t),i.pos!==t}function Iw(i){return i===64||i===36}function Rw(i){return i===43&&"+"||i===33&&"!"||i===44&&","||i===58&&":"||i===45&&"-"||void 0}function Vw(i){return Xe(i)||tr(i,65,70)}function od(i){return ef(i)||i===45}function Bw(i){return i===40||i===41}function Qr(i){return er(i)||i===37||i===47}function jw(i,t){let e="0",n="0",s="0",o=Number(t!=null&&t!==""?t:1);if(i==="t")o=0;else switch(i.length){case 0:break;case 1:e=n=s=i+i;break;case 2:e=n=s=i;break;case 3:e=i[0]+i[0],n=i[1]+i[1],s=i[2]+i[2];break;default:i+=i,e=i.slice(0,2),n=i.slice(2,4),s=i.slice(4,6)}return{r:parseInt(e,16),g:parseInt(n,16),b:parseInt(s,16),a:o}}function Nw(i){return i.type==="ColorValue"||i.type==="NumberValue"&&!i.unit}function Fw(i,t){let e=0,n=0;for(;t.length;){const s=$w(t);if(s.type==="Literal"||s.type==="NumberValue")e=s.start,n||(n=s.end),t.pop();else break}e!==n&&t.push(fl(i,e,n))}function $w(i){return i[i.length-1]}function Hw(i){return{tokens:i,start:0,pos:0,size:i.length}}function nr(i){return i.tokens[i.pos]}function sr(i){return i.pos<i.size}function qe(i,t){return t(nr(i))?(i.pos++,!0):!1}function _f(i,t,e=nr(i)){e&&e.start!=null&&(t+=` at ${e.start}`);const n=new Error(t);return n.pos=e&&e.start,n}function Ww(i,t={}){const e=Hw(i),n=[];let s;for(;sr(e);)if(s=Uw(e,t))n.push(s);else if(!qe(e,qw))throw _f(e,"Unexpected token");return n}function Uw(i,t){let e,n=!1,s;const o=[],a=nr(i),l=!!t.value;for(!l&&ml(a)&&!Jw(i)&&(i.pos++,e=a.value,qe(i,xf)),l&&qe(i,pl);sr(i);)if(qe(i,Xw))n=!0;else if(s=bf(i,l))o.push(s);else if(!qe(i,Kw))break;if(e||o.length||n)return{name:e,value:o,important:n}}function bf(i,t){const e=[];let n,s;for(;sr(i);)if(n=nr(i),Qw(n))i.pos++,ml(n)&&(s=Zw(i))?e.push({type:"FunctionCall",name:n.value,arguments:s}):e.push(n);else if(xf(n)||t&&pl(n))i.pos++;else break;return e.length?{type:"CSSValue",value:e}:void 0}function Zw(i){const t=i.pos;if(qe(i,Gw)){const e=[];let n;for(;sr(i)&&!qe(i,Yw);)if(n=bf(i,!0))e.push(n);else if(!qe(i,pl)&&!qe(i,yf))throw _f(i,"Unexpected token");return i.start=t,e}}function ml(i){return i&&i.type==="Literal"}function vf(i,t){return i&&i.type==="Bracket"&&(t==null||i.open===t)}function Gw(i){return vf(i,!0)}function Yw(i){return vf(i,!1)}function pl(i){return i&&i.type==="WhiteSpace"}function vs(i,t){return i&&i.type==="Operator"&&(!t||i.operator===t)}function qw(i){return vs(i,"+")}function yf(i){return vs(i,",")}function Kw(i){return yf(i)}function Xw(i){return vs(i,"!")}function Qw(i){return i.type==="StringValue"||i.type==="ColorValue"||i.type==="NumberValue"||i.type==="Literal"||i.type==="Field"}function xf(i){return vs(i,":")||vs(i,"-")}function Jw(i){const t=i.tokens[i.pos],e=i.tokens[i.pos+1];return t&&e&&ml(t)&&e.type==="Bracket"}function wf(i,t){try{const e=typeof i=="string"?Mw(i,t&&t.value):i;return Ww(e,t)}catch(e){throw e instanceof cl&&typeof i=="string"&&(e.message+=`
${i}
${"-".repeat(e.pos)}^`),e}}function t1(i,t){if(!i.attributes)return;const e=[],n={};for(const s of i.attributes)if(s.name){const o=s.name;if(o in n){const a=n[o];o==="class"?a.value=e1(a.value,s.value," "):i1(a,s,t)}else e.push(n[o]=Object.assign({},s))}else e.push(s);i.attributes=e}function e1(i,t,e){if(i&&t){i.length&&e&&rd(i,e);for(const s of t)rd(i,s);return i}const n=i||t;return n&&n.slice()}function i1(i,t,e){return i.name=t.name,e.options["output.reverseAttributes"]||(i.value=t.value),i.implied||(i.implied=t.implied),i.boolean||(i.boolean=t.boolean),i.valueType!=="expression"&&(i.valueType=t.valueType),i}function rd(i,t){const e=i.length-1;typeof i[e]=="string"&&typeof t=="string"?i[e]+=t:i.push(t)}function n1(i,t,e){const n=[i],s=o=>{t(o,n,e),n.push(o),o.children.forEach(s),n.pop()};i.children.forEach(s)}function s1(i){let t;for(;i.children.length;)t=i,i=i.children[i.children.length-1];return{parent:t,node:i}}function kf(i){return i.type==="AbbreviationNode"}function o1(i,t){const e=[],n=t.options["output.reverseAttributes"],s=o=>{const a=o.name&&t.snippets[o.name];if(!a||e.includes(a))return null;const l=pf(a,t);e.push(a),$o(l,s),e.pop();for(const u of l.children){if(o.attributes){const d=u.attributes||[],f=o.attributes||[];u.attributes=n?f.concat(d):d.concat(f)}r1(o,u)}return l};return $o(i,s),i}function $o(i,t,e){let n=[];for(const s of i.children){const o=t(s);if(o){n=n.concat(o.children);const a=s1(o);kf(a.node)&&(a.node.children=a.node.children.concat($o(s,t)))}else n.push(s),s.children=$o(s,t)}return i.children=n}function r1(i,t){i.selfClosing&&(t.selfClosing=!0),i.value!=null&&(t.value=i.value),i.repeat&&(t.repeat=i.repeat)}function Tf(i,t=0){return{options:i,value:"",level:t,offset:0,line:0,column:0}}function Gt(i,t){const e=i.options["output.text"];Pf(i,e(t,i.offset,i.line,i.column))}function Mt(i,t){const e=u1(t);for(let n=0,s=e.length-1;n<=s;n++)Gt(i,e[n]),n!==s&&ze(i,!0)}function ze(i,t){const e=i.options["output.baseIndent"],n=i.options["output.newline"];Gt(i,n+e),i.line++,i.column=e.length,t&&a1(i,t===!0?i.level:t)}function a1(i,t=i.level){const e=i.options["output.indent"];Gt(i,e.repeat(Math.max(t,0)))}function gl(i,t,e){const n=i.options["output.field"];Pf(i,n(t,e,i.offset,i.line,i.column))}function l1(i,t){return Lf(i,t.options["output.tagCase"])}function Mf(i,t){return Lf(i,t.options["output.attributeCase"])}function Ho(i,t,e){return i.valueType==="expression"?e?"{":"}":t.options["output.attributeQuotes"]==="single"?"'":'"'}function Sf(i,t){return i.boolean||t.options["output.booleanAttributes"].includes((i.name||"").toLowerCase())}function c1(i){switch(i.options["output.selfClosingStyle"]){case"xhtml":return" /";case"xml":return"/";default:return""}}function vn(i,t){return typeof i=="string"?t.options.inlineElements.includes(i.toLowerCase()):i.name?vn(i.name,t):!!(i.value&&!i.attributes)}function u1(i){return i.split(/\r\n|\r|\n/g)}function Pf(i,t){i.value+=t,i.offset+=t.length,i.column+=t.length}function Lf(i,t){return t?t==="upper"?i.toUpperCase():i.toLowerCase():i}const d1={p:"span",ul:"li",ol:"li",table:"tr",tr:"td",tbody:"tr",thead:"tr",tfoot:"tr",colgroup:"col",select:"option",optgroup:"option",audio:"source",video:"source",object:"param",map:"area"};function h1(i,t,e){!i.name&&i.attributes&&Cf(i,t,e)}function Cf(i,t,e){const n=m1(t),s=e.context?e.context.name:"",o=f1(n?n.name:s);i.name=d1[o]||(vn(o,e)?"span":"div")}function f1(i){return(i||"").toLowerCase()}function m1(i){for(let t=i.length-1;t>=0;t--){const e=i[t];if(kf(e))return e}}var p1={common:["lorem","ipsum","dolor","sit","amet","consectetur","adipisicing","elit"],words:["exercitationem","perferendis","perspiciatis","laborum","eveniet","sunt","iure","nam","nobis","eum","cum","officiis","excepturi","odio","consectetur","quasi","aut","quisquam","vel","eligendi","itaque","non","odit","tempore","quaerat","dignissimos","facilis","neque","nihil","expedita","vitae","vero","ipsum","nisi","animi","cumque","pariatur","velit","modi","natus","iusto","eaque","sequi","illo","sed","ex","et","voluptatibus","tempora","veritatis","ratione","assumenda","incidunt","nostrum","placeat","aliquid","fuga","provident","praesentium","rem","necessitatibus","suscipit","adipisci","quidem","possimus","voluptas","debitis","sint","accusantium","unde","sapiente","voluptate","qui","aspernatur","laudantium","soluta","amet","quo","aliquam","saepe","culpa","libero","ipsa","dicta","reiciendis","nesciunt","doloribus","autem","impedit","minima","maiores","repudiandae","ipsam","obcaecati","ullam","enim","totam","delectus","ducimus","quis","voluptates","dolores","molestiae","harum","dolorem","quia","voluptatem","molestias","magni","distinctio","omnis","illum","dolorum","voluptatum","ea","quas","quam","corporis","quae","blanditiis","atque","deserunt","laboriosam","earum","consequuntur","hic","cupiditate","quibusdam","accusamus","ut","rerum","error","minus","eius","ab","ad","nemo","fugit","officia","at","in","id","quos","reprehenderit","numquam","iste","fugiat","sit","inventore","beatae","repellendus","magnam","recusandae","quod","explicabo","doloremque","aperiam","consequatur","asperiores","commodi","optio","dolor","labore","temporibus","repellat","veniam","architecto","est","esse","mollitia","nulla","a","similique","eos","alias","dolore","tenetur","deleniti","porro","facere","maxime","corrupti"]},g1={common:["-","","",""," ",""," ","","",""],words:[""," ","","",""," ","","","","","","","",""," ","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","lorem","ipsum","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},_1={common:["mujer","uno","dolor","ms","de","poder","mismo","si"],words:["ejercicio","preferencia","perspicacia","laboral","pao","suntuoso","molde","namibia","planeador","mirar","dems","oficinista","excepcin","odio","consecuencia","casi","auto","chicharra","velo","elixir","ataque","no","odio","temporal","curum","dignsimo","facilismo","letra","nihilista","expedicin","alma","alveolar","aparte","len","animal","como","paria","belleza","modo","natividad","justo","ataque","squito","pillo","sed","ex","y","voluminoso","temporalidad","verdades","racional","asuncin","incidente","marejada","placenta","amanecer","fuga","previsor","presentacin","lejos","necesariamente","sospechoso","adiposidad","quindo","pcima","voluble","dbito","sinti","accesorio","falda","sapiencia","volutas","queso","permacultura","laudo","soluciones","entero","pan","litro","tonelada","culpa","libertario","mosca","dictado","reincidente","nascimiento","dolor","escolar","impedimento","mnima","mayores","repugnante","dulce","obcecado","montaa","enigma","total","deletreo","dcima","cbala","fotografa","dolores","molesto","olvido","paciencia","resiliencia","voluntad","molestias","magnfico","distincin","ovni","marejada","cerro","torre","y","abogada","manantial","corporal","agua","crepsculo","ataque","desierto","laboriosamente","angustia","afortunado","alma","encefalograma","materialidad","cosas","o","renuncia","error","menos","conejo","abada","analfabeto","remo","fugacidad","oficio","en","almcigo","vos","pan","represin","nmeros","triste","refugiado","trote","inventor","corchea","repelente","magma","recusado","patrn","explcito","paloma","sndrome","inmune","autoinmune","comodidad","ley","vietnamita","demonio","tasmania","repeler","apndice","arquitecto","columna","yugo","computador","mula","a","propsito","fantasa","alias","rayo","tenedor","deleznable","ventana","cara","anemia","corrupto"]};const ad={ru:g1,sp:_1,latin:p1},b1=/^lorem([a-z]*)(\d*)(-\d*)?$/i;function v1(i,t,e){let n;if(i.name&&(n=i.name.match(b1))){const s=ad[n[1]]||ad.latin,o=n[2]?Math.max(1,Number(n[2])):30,a=n[3]?Math.max(o,Number(n[3].slice(1))):o,l=ui(o,a),u=i.repeat||T1(t);i.name=i.attributes=void 0,i.value=[k1(s,l,!u||u.value===0)],i.repeat&&t.length>1&&Cf(i,t,e)}}function ui(i,t){return Math.floor(Math.random()*(t-i)+i)}function y1(i,t){const e=i.length,n=Math.min(e,t),s=[];for(;s.length<n;){const o=i[ui(0,e)];s.includes(o)||s.push(o)}return s}function x1(i){return i[ui(0,i.length-1)]}function ld(i,t){return i.length&&(i=[w1(i[0])].concat(i.slice(1))),i.join(" ")+(t||x1("?!..."))}function w1(i){return i[0].toUpperCase()+i.slice(1)}function cd(i){if(i.length<2)return i;i=i.slice();const t=i.length,e=/,$/;let n=0;t>3&&t<=6?n=ui(0,1):t>6&&t<=12?n=ui(0,2):n=ui(1,4);for(let s=0,o;s<n;s++)o=ui(0,t-2),e.test(i[o])||(i[o]+=",");return i}function k1(i,t,e){const n=[];let s=0,o;for(e&&i.common&&(o=i.common.slice(0,t),s+=o.length,n.push(ld(cd(o),".")));s<t;)o=y1(i.words,Math.min(ui(2,30),t-s)),s+=o.length,n.push(ld(cd(o)));return n.join(" ")}function T1(i){for(let t=i.length-1;t>=0;t--){const e=i[t];if(e.type==="AbbreviationNode"&&e.repeat)return e.repeat}}function M1(i){i.attributes&&i.attributes.forEach(S1)}function S1(i){i.name==="class"?i.name="className":i.name==="for"&&(i.name="htmlFor")}function P1(i){C1(i.name)&&i.attributes&&(i.children.length||i.value)&&(i.attributes=i.attributes.filter(L1))}function L1(i){return i.name!=="select"}function C1(i){return i==="xsl:variable"||i==="xsl:with-param"}const Af=/^(-+)([a-z0-9]+[a-z0-9-]*)/i,Ef=/^(_+)([a-z0-9]+[a-z0-9-_]*)/i,A1=i=>/^[a-z]\-/i.test(i),E1=i=>/^[a-z]/i.test(i);function O1(i,t,e){D1(i),z1(i,t,e)}function D1(i){const t=_l(i),e=[];for(const n of t.classNames){const s=n.indexOf("_");s>0&&!n.startsWith("-")?(e.push(n.slice(0,s)),e.push(n.slice(s))):e.push(n)}e.length&&(t.classNames=e.filter(If),t.block=Df(t.classNames),zf(i,t.classNames.join(" ")))}function z1(i,t,e){const n=_l(i),s=[],{options:o}=e,a=t.slice(1).concat(i);for(let u of n.classNames){let d="",f;const m=u;(f=u.match(Af))&&(d=ud(a,f[1].length,e.context)+o["bem.element"]+f[2],s.push(d),u=u.slice(f[0].length)),(f=u.match(Ef))&&(d||(d=ud(a,f[1].length),s.push(d)),s.push(`${d}${o["bem.modifier"]}${f[2]}`),u=u.slice(f[0].length)),u===m&&s.push(m)}const l=s.filter(If);l.length&&zf(i,l.join(" "))}function _l(i){if(!i._bem){let t="";if(i.attributes){for(const e of i.attributes)if(e.name==="class"&&e.value){t=R1(e.value);break}}i._bem=Of(t)}return i._bem}function I1(i){return i._bem||(i._bem=Of(i.attributes&&i.attributes.class||"")),i._bem}function Of(i){const t=i?i.split(/\s+/):[];return{classNames:t,block:Df(t)}}function ud(i,t=0,e){let s=Math.max(i.length-t,0);do{const o=i[s];if(o){const a=_l(o);if(a.block)return a.block}}while(0<s--);if(e){const o=I1(e);if(o.block)return o.block}return""}function Df(i){return dd(i,A1)||dd(i,E1)||void 0}function dd(i,t){for(const e of i){if(Af.test(e)||Ef.test(e))break;if(t(e))return e}}function zf(i,t){for(const e of i.attributes)if(e.name==="class"){e.value=[t];break}}function R1(i){let t="";for(const e of i)t+=typeof e=="string"?e:e.name;return t}function If(i,t,e){return!!i&&e.indexOf(i)===t}function Rf(i,t,e){const n=(o,a,l)=>{const{parent:u,current:d}=e;e.parent=d,e.current=o,t(o,a,l,e,s),e.current=d,e.parent=u},s=(o,a,l)=>{e.ancestors.push(e.current),n(o,a,l),e.ancestors.pop()};i.children.forEach(n)}function Vf(i){return{current:null,parent:void 0,ancestors:[],config:i,field:1,out:Tf(i.options)}}const or=[{type:"Field",index:0,name:""}];function zi(i){return i?!i.name&&!i.attributes:!1}function hd(i,t){return i?vn(i,t):!1}function Bf(i){return typeof i=="object"&&i.type==="Field"}function _e(i,t){const{out:e}=t;let n=-1;for(const s of i)typeof s=="string"?Mt(e,s):(gl(e,t.field+s.index,s.name),s.index>n&&(n=s.index));n!==-1&&(t.field+=n+1)}function V1(i){const t=[];let e=[];for(const n of i)if(typeof n=="string"){const s=n.split(/\r\n?|\n/g);for(e.push(s.shift()||"");s.length;)t.push(e),e=[s.shift()||""]}else e.push(n);return e.length&&t.push(e),t}function jf(i){return!i.implied||i.valueType!=="raw"||!!i.value&&i.value.length>0}function fd(i){const t=[],e={pos:0,text:i};let n,s=e.pos,o=e.pos;for(;e.pos<e.text.length;)o=e.pos,(n=B1(e))?(s!==e.pos&&t.push(i.slice(s,o)),t.push(n),s=e.pos):e.pos++;return s!==e.pos&&t.push(i.slice(s)),t}function B1(i){if(Jr(i)===91){const t=++i.pos;let e=t,n=t,s=1;for(;i.pos<i.text.length;){const o=Jr(i);if(Nf(o)){for(e=i.pos;j1(Jr(i));)i.pos++;n=i.pos}else{if(o===91)s++;else if(o===93&&--s===0)return{before:i.text.slice(t,e),after:i.text.slice(n,i.pos++),name:i.text.slice(e,n)};i.pos++}}}}function Jr(i,t=i.pos){return i.text.charCodeAt(t)}function Nf(i){return i>=65&&i<=90}function j1(i){return Nf(i)||i>47&&i<58||i===95||i===45}function N1(i){const{options:t}=i;return{enabled:t["comment.enabled"],trigger:t["comment.trigger"],before:t["comment.before"]?fd(t["comment.before"]):void 0,after:t["comment.after"]?fd(t["comment.after"]):void 0}}function F1(i,t){Ff(i,t)&&t.comment.before&&$f(i,t.comment.before,t)}function $1(i,t){Ff(i,t)&&t.comment.after&&$f(i,t.comment.after,t)}function Ff(i,t){const{comment:e}=t;if(!e.enabled||!e.trigger||!i.name||!i.attributes)return!1;for(const n of i.attributes)if(n.name&&e.trigger.includes(n.name))return!0;return!1}function $f(i,t,e){const n={},{out:s}=e;for(const o of i.attributes)o.name&&o.value&&(n[o.name.toUpperCase()]=o.value);for(const o of t)typeof o=="string"?Mt(s,o):n[o.name]&&(Mt(s,o.before),_e(n[o.name],e),Mt(s,o.after))}const H1=/^<([\w\-:]+)[\s>]/;function Hf(i,t){const e=Vf(t);return e.comment=N1(t),Rf(i,W1,e),e.out.value}function W1(i,t,e,n,s){const{out:o,config:a}=n,l=Wf(i,t,e,n),u=Z1(n);if(o.level+=u,l&&ze(o,!0),i.name){const d=l1(i.name,a);if(F1(i,n),Mt(o,`<${d}`),i.attributes)for(const f of i.attributes)jf(f)&&U1(f,n);if(i.selfClosing&&!i.children.length&&!i.value)Mt(o,`${c1(a)}>`);else{if(Mt(o,">"),!md(i,n,s)){if(i.value){const f=i.value.some(Uf)||G1(i.value,a);f&&ze(n.out,++o.level),_e(i.value,n),f&&ze(n.out,--o.level)}if(i.children.forEach(s),!i.value&&!i.children.length){const f=a.options["output.formatLeafNode"]||a.options["output.formatForce"].includes(i.name);f&&ze(n.out,++o.level),_e(or,n),f&&ze(n.out,--o.level)}}Mt(o,`</${d}>`),$1(i,n)}}else!md(i,n,s)&&i.value&&(_e(i.value,n),i.children.forEach(s));if(l&&t===e.length-1&&n.parent){const d=zi(n.parent)?0:1;ze(o,o.level-d)}o.level-=u}function U1(i,t){const{out:e,config:n}=t;if(i.name){const s=Mf(i.name,n),o=Ho(i,n,!0),a=Ho(i,n);let l=i.value;Sf(i,n)&&!l?n.options["output.compactBoolean"]||(l=[s]):l||(l=or),Mt(e," "+s),l?(Mt(e,"="+o),_e(l,t),Mt(e,a)):n.options["output.selfClosingStyle"]!=="html"&&Mt(e,"="+o+a)}}function md(i,t,e){if(i.value&&i.children.length){const n=i.value.findIndex(Bf);if(n!==-1){_e(i.value.slice(0,n),t);const s=t.out.line;let o=n+1;return i.children.forEach(e),t.out.line!==s&&typeof i.value[o]=="string"&&Mt(t.out,i.value[o++].trimLeft()),_e(i.value.slice(o),t),!0}}return!1}function Wf(i,t,e,n){const{config:s,parent:o}=n;if(!s.options["output.format"]||t===0&&!o||o&&zi(o)&&e.length===1)return!1;if(zi(i)&&(zi(e[t-1])||zi(e[t+1])||i.value.some(Uf)||i.value.some(Bf)&&i.children.length))return!0;if(vn(i,s)){if(t===0){for(let a=0;a<e.length;a++)if(!vn(e[a],s))return!0}else if(!vn(e[t-1],s))return!0;if(s.options["output.inlineBreak"]){let a=1,l=t,u=t;for(;hd(e[--l],s);)a++;for(;hd(e[++u],s);)a++;if(a>=s.options["output.inlineBreak"])return!0}for(let a=0,l=i.children.length;a<l;a++)if(Wf(i.children[a],a,i.children,n))return!0;return!1}return!0}function Z1(i){const{config:t,parent:e}=i;return!e||zi(e)||e.name&&t.options["output.formatSkip"].includes(e.name)?0:1}function Uf(i){return typeof i=="string"&&/\r|\n/.test(i)}function G1(i,t){if(i.length&&typeof i[0]=="string"){const e=H1.exec(i[0]);if(e!=null&&e.length&&!t.options.inlineElements.includes(e[1].toLowerCase()))return!0}return!1}function bl(i,t,e){const n=Vf(t);return n.options=e||{},Rf(i,Y1,n),n.out.value}function Y1(i,t,e,n,s){const{out:o,options:a}=n,{primary:l,secondary:u}=q1(i),d=n.parent?1:0;o.level+=d,ek(i,t,e,n)&&ze(o,!0),i.name&&(i.name!=="div"||!l.length)&&Mt(o,(a.beforeName||"")+i.name+(a.afterName||"")),K1(l,n),X1(u.filter(jf),n),i.selfClosing&&!i.value&&!i.children.length?n.options.selfClose&&Mt(o,n.options.selfClose):(Q1(i,n),i.children.forEach(s)),o.level-=d}function q1(i){const t=[],e=[];if(i.attributes)for(const n of i.attributes)J1(n)?t.push(n):e.push(n);return{primary:t,secondary:e}}function K1(i,t){for(const e of i)if(e.value)if(e.name==="class"){Mt(t.out,".");const n=e.value.map(s=>typeof s=="string"?s.replace(/\s+/g,"."):s);_e(n,t)}else Mt(t.out,"#"),_e(e.value,t)}function X1(i,t){if(i.length){const{out:e,config:n,options:s}=t;s.beforeAttribute&&Mt(e,s.beforeAttribute);for(let o=0;o<i.length;o++){const a=i[o];Mt(e,Mf(a.name||"",n)),Sf(a,n)&&!a.value?!n.options["output.compactBoolean"]&&s.booleanValue&&Mt(e,"="+s.booleanValue):(Mt(e,"="+Ho(a,n,!0)),_e(a.value||or,t),Mt(e,Ho(a,n))),o!==i.length-1&&s.glueAttribute&&Mt(e,s.glueAttribute)}s.afterAttribute&&Mt(e,s.afterAttribute)}}function Q1(i,t){if(!i.value&&i.children.length)return;const e=i.value||or,n=V1(e),{out:s,options:o}=t;if(n.length===1)(i.name||i.attributes)&&Gt(s," "),_e(e,t);else{const a=[];let l=0;for(const u of n){const d=tk(u);a.push(d),d>l&&(l=d)}s.level++;for(let u=0;u<n.length;u++)ze(s,!0),o.beforeTextLine&&Gt(s,o.beforeTextLine),_e(n[u],t),o.afterTextLine&&(Gt(s," ".repeat(l-a[u])),Gt(s,o.afterTextLine));s.level--}}function J1(i){return i.name==="class"||i.name==="id"}function tk(i){let t=0;for(const e of i)t+=typeof e=="string"?e.length:e.name.length;return t}function ek(i,t,e,n){return!n.parent&&t===0?!1:!zi(i)}function ik(i,t){return bl(i,t,{beforeName:"%",beforeAttribute:"(",afterAttribute:")",glueAttribute:" ",afterTextLine:" |",booleanValue:"true",selfClose:"/"})}function nk(i,t){return bl(i,t,{beforeAttribute:" ",glueAttribute:" ",beforeTextLine:"| ",selfClose:"/"})}function sk(i,t){return bl(i,t,{beforeAttribute:"(",afterAttribute:")",glueAttribute:", ",beforeTextLine:"| ",selfClose:t.options["output.selfClosingStyle"]==="xml"?"/":""})}const ok={html:Hf,haml:ik,slim:nk,pug:sk};function rk(i,t){let e;if(typeof i=="string"){let n=t;t.options["jsx.enabled"]&&(n=Object.assign(Object.assign({},n),{jsx:!0})),t.options["markup.href"]&&(n=Object.assign(Object.assign({},n),{href:!0})),i=pf(i,n),e=t.text,t.text=void 0}return i=o1(i,t),n1(i,lk,t),t.text=e??t.text,i}function ak(i,t){return(ok[t.syntax]||Hf)(i,t)}function lk(i,t,e){h1(i,t,e),t1(i,e),v1(i,t,e),e.syntax==="xsl"&&P1(i),e.options["jsx.enabled"]&&M1(i),e.options["bem.enabled"]&&O1(i,t,e)}const ck=/^([a-z-]+)(?:\s*:\s*([^\n\r;]+?);*)?$/,uk={value:!0};function dk(i,t){const e=t.match(ck);if(e){const n={},s=e[2]?e[2].split("|").map(mk):[];for(const o of s)for(const a of o)gk(a,n);return{type:"Property",key:i,property:e[1],value:s,keywords:n,dependencies:[]}}return{type:"Raw",key:i,value:t}}function hk(i){i=i.slice().sort(fk);const t=[];let e;for(const n of i.filter(pk)){for(;t.length;){if(e=t[t.length-1],n.property.startsWith(e.property)&&n.property.charCodeAt(e.property.length)===45){e.dependencies.push(n),t.push(n);break}t.pop()}t.length||t.push(n)}return i}function fk(i,t){return i.key===t.key?0:i.key<t.key?-1:1}function mk(i){return wf(i.trim(),uk)[0].value}function pk(i){return i.type==="Property"}function gk(i,t){for(const e of i.value)if(e.type==="Literal")t[e.value]=e;else if(e.type==="FunctionCall")t[e.name]=e;else if(e.type==="Field"){const n=e.name.trim();n&&(t[n]={type:"Literal",value:n})}}function _k(i,t,e=!1){if(i=i.toLowerCase(),t=t.toLowerCase(),i===t)return 1;if(!i||!t||i.charCodeAt(0)!==t.charCodeAt(0))return 0;const n=i.length,s=t.length;if(!e&&n>s)return 0;const o=Math.min(n,s),a=Math.max(n,s);let l=1,u=1,d=a,f=0,m=0,g=!1,b=!1;for(;l<n;){for(f=i.charCodeAt(l),g=!1,b=!1;u<s;){if(m=t.charCodeAt(u),f===m){g=!0,d+=a-(b?l:u);break}b=m===45,u++}if(!g){if(!e)return 0;break}l++}const y=l/a,v=a-o,w=pd(a)-pd(v);return d*y/w}function pd(i){return i*(i+1)/2}function Zf(i,t){return!i.r&&!i.g&&!i.b&&!i.a?"transparent":i.a===1?bk(i,t):vk(i)}function bk(i,t){const e=t&&ta(i.r)&&ta(i.g)&&ta(i.b)?yk:xk;return"#"+e(i.r)+e(i.g)+e(i.b)}function vk(i){const t=[i.r,i.g,i.b];return i.a!==1&&t.push(Gf(i.a,8)),`${t.length===3?"rgb":"rgba"}(${t.join(", ")})`}function Gf(i,t=4){return i.toFixed(t).replace(/\.?0+$/,"")}function ta(i){return!(i%17)}function yk(i){return(i>>4).toString(16)}function xk(i){return wk(i.toString(16),2)}function wk(i,t){for(;i.length<t;)i="0"+i;return i}function kk(i,t){var e;const n=Tf(t.options),s=t.options["output.format"];((e=t.context)===null||e===void 0?void 0:e.name)==="@@section"&&(i=i.filter(o=>o.snippet));for(let o=0;o<i.length;o++)s&&o!==0&&ze(n,!0),Tk(i[o],n,t);return n.value}function Tk(i,t,e){const n=e.options["stylesheet.json"];if(i.name){const s=n?Pk(i.name):i.name;Mt(t,s+e.options["stylesheet.between"]),i.value.length?Mk(i,t,e):gl(t,0,""),n?Gt(t,","):(gd(i,t,!0),Gt(t,e.options["stylesheet.after"]))}else{for(const s of i.value)for(const o of s.value)qf(o,t,e);gd(i,t,i.value.length>0)}}function Mk(i,t,e){const n=e.options["stylesheet.json"],s=n?Sk(i):null;if(s&&(!s.unit||s.unit==="px"))Gt(t,String(s.value));else{const o=Lk(e);n&&Gt(t,o);for(let a=0;a<i.value.length;a++)a!==0&&Gt(t,", "),Yf(i.value[a],t,e);n&&Gt(t,o)}}function gd(i,t,e){i.important&&(e&&Gt(t," "),Gt(t,"!important"))}function Yf(i,t,e){for(let n=0,s=-1;n<i.value.length;n++){const o=i.value[n];n!==0&&(o.type!=="Field"||o.start!==s)&&Gt(t," "),qf(o,t,e),s=o.end}}function qf(i,t,e){if(i.type==="ColorValue")Gt(t,Zf(i,e.options["stylesheet.shortHex"]));else if(i.type==="Literal")Mt(t,i.value);else if(i.type==="NumberValue")Mt(t,Gf(i.value,4)+i.unit);else if(i.type==="StringValue"){const n=i.quote==="double"?'"':"'";Mt(t,n+i.value+n)}else if(i.type==="Field")gl(t,i.index,i.name);else if(i.type==="FunctionCall"){Gt(t,i.name+"(");for(let n=0;n<i.arguments.length;n++)n&&Gt(t,", "),Yf(i.arguments[n],t,e);Gt(t,")")}}function Sk(i){if(i.value.length===1){const t=i.value[0];if(t.value.length===1&&t.value[0].type==="NumberValue")return t.value[0]}}function Pk(i){return i.replace(/\-(\w)/g,(t,e)=>e.toUpperCase())}function Lk(i){return i.options["stylesheet.jsonDoubleQuotes"]?'"':"'"}const _d="lg";function Ck(i,t){var e;const n=((e=t.cache)===null||e===void 0?void 0:e.stylesheetSnippets)||Ak(t.snippets);t.cache&&(t.cache.stylesheetSnippets=n),typeof i=="string"&&(i=wf(i,{value:Jf(t)}));const s=Bk(n,t);for(const o of i)Ek(o,s,t);return i}function Ak(i){const t=[];for(const e of Object.keys(i))t.push(dk(e,i[e]));return hk(t)}function Ek(i,t,e){if(!Ok(i,e)){const n=e.options["stylesheet.fuzzySearchMinScore"];if(Jf(e)){const s=e.context.name,o=t.find(a=>a.type==="Property"&&a.property===s);Kf(i,e,o,n),i.snippet=o}else if(i.name){const s=Po(i.name,t,n,!0);i.snippet=s,s&&(s.type==="Property"?Dk(i,s,e):zk(i,s))}}return(i.name||e.context)&&Vk(i,e),i}function Ok(i,t){let e=null;const n=i.value.length===1?i.value[0]:null;if(n&&n.value.length===1){const s=n.value[0];s.type==="FunctionCall"&&s.name===_d&&(e=s)}return e||i.name===_d?(e?e=Object.assign(Object.assign({},e),{name:"linear-gradient"}):e={type:"FunctionCall",name:"linear-gradient",arguments:[Wo(Ei(0,""))]},t.context||(i.name="background-image"),i.value=[Wo(e)],!0):!1}function Dk(i,t,e){const n=i.name,s=Rk(n,t.key);if(s){if(i.value.length)return i;const o=Aa(s,e,t);if(!o)return i;i.value.push(Wo(o))}if(i.name=t.property,i.value.length)Kf(i,e,t);else if(t.value.length){const o=t.value[0];i.value=t.value.length===1||o.some(Xf)?o:o.map(a=>Qf(a,e))}return i}function Kf(i,t,e,n){for(const s of i.value){const o=[];for(const a of s.value)if(a.type==="Literal")o.push(Aa(a.value,t,e,n)||a);else if(a.type==="FunctionCall"){const l=Aa(a.name,t,e,n);l&&l.type==="FunctionCall"?o.push(Object.assign(Object.assign({},l),{arguments:a.arguments.concat(l.arguments.slice(a.arguments.length))})):o.push(a)}else o.push(a);s.value=o}}function zk(i,t){let e=0,n;const s=/\$\{(\d+)(:[^}]+)?\}/g,o=i.value[0],a=[];for(;n=s.exec(t.value);)e!==n.index&&a.push(yn(t.value.slice(e,n.index))),e=n.index+n[0].length,o&&o.value.length?a.push(o.value.shift()):a.push(Ei(Number(n[1]),n[2]?n[2].slice(1):""));const l=t.value.slice(e);return l&&a.push(yn(l)),i.name=void 0,i.value=[Wo(...a)],i}function Po(i,t,e=0,n=!1){let s=null,o=0;for(const a of t){const l=_k(i,Ik(a),n);if(l===1)return a;l&&l>=o&&(o=l,s=a)}return o>=e?s:null}function Ik(i){return typeof i=="string"?i:i.key}function Rk(i,t){for(let e=0,n=0;e<i.length;e++){if(n=t.indexOf(i[e],n),n===-1)return i.slice(e);n++}return""}function Aa(i,t,e,n){let s;if(e){if(s=Po(i,Object.keys(e.keywords),n))return e.keywords[s];for(const o of e.dependencies)if(s=Po(i,Object.keys(o.keywords),n))return o.keywords[s]}return(s=Po(i,t.options["stylesheet.keywords"],n))?yn(s):null}function Vk(i,t){const e=t.options["stylesheet.unitAliases"],n=t.options["stylesheet.unitless"];for(const s of i.value)for(const o of s.value)o.type==="NumberValue"&&(o.unit?o.unit=e[o.unit]||o.unit:o.value!==0&&!n.includes(i.name)&&(o.unit=o.rawValue.includes(".")?t.options["stylesheet.floatUnit"]:t.options["stylesheet.intUnit"]))}function Wo(...i){return{type:"CSSValue",value:i}}function yn(i){return{type:"Literal",value:i}}function Ei(i,t){return{type:"Field",index:i,name:t}}function Xf(i){for(const t of i.value)if(t.type==="Field"||t.type==="FunctionCall"&&t.arguments.some(Xf))return!0;return!1}function Qf(i,t,e={index:1}){let n=[];for(const s of i.value)switch(s.type){case"ColorValue":n.push(Ei(e.index++,Zf(s,t.options["stylesheet.shortHex"])));break;case"Literal":n.push(Ei(e.index++,s.value));break;case"NumberValue":n.push(Ei(e.index++,`${s.value}${s.unit}`));break;case"StringValue":const o=s.quote==="single"?"'":'"';n.push(Ei(e.index++,o+s.value+o));break;case"FunctionCall":n.push(Ei(e.index++,s.name),yn("("));for(let a=0,l=s.arguments.length;a<l;a++)n=n.concat(Qf(s.arguments[a],t,e).value),a!==l-1&&n.push(yn(", "));n.push(yn(")"));break;default:n.push(s)}return Object.assign(Object.assign({},i),{value:n})}function Jf(i){return i.context?i.context.name==="@@value"||!i.context.name.startsWith("@@"):!1}function Bk(i,t){if(t.context){if(t.context.name==="@@section")return i.filter(e=>e.type==="Raw");if(t.context.name==="@@property")return i.filter(e=>e.type==="Property")}return i}var jk={a:"a[href]","a:blank":"a[href='http://${0}' target='_blank' rel='noopener noreferrer']","a:link":"a[href='http://${0}']","a:mail":"a[href='mailto:${0}']","a:tel":"a[href='tel:+${0}']",abbr:"abbr[title]","acr|acronym":"acronym[title]",base:"base[href]/",basefont:"basefont/",br:"br/",frame:"frame/",hr:"hr/",bdo:"bdo[dir]","bdo:r":"bdo[dir=rtl]","bdo:l":"bdo[dir=ltr]",col:"col/",link:"link[rel=stylesheet href]/","link:css":"link[href='${1:style}.css']","link:print":"link[href='${1:print}.css' media=print]","link:favicon":"link[rel='shortcut icon' type=image/x-icon href='${1:favicon.ico}']","link:mf|link:manifest":"link[rel='manifest' href='${1:manifest.json}']","link:touch":"link[rel=apple-touch-icon href='${1:favicon.png}']","link:rss":"link[rel=alternate type=application/rss+xml title=RSS href='${1:rss.xml}']","link:atom":"link[rel=alternate type=application/atom+xml title=Atom href='${1:atom.xml}']","link:im|link:import":"link[rel=import href='${1:component}.html']",meta:"meta/","meta:utf":"meta[http-equiv=Content-Type content='text/html;charset=UTF-8']","meta:vp":"meta[name=viewport content='width=${1:device-width}, initial-scale=${2:1.0}']","meta:compat":"meta[http-equiv=X-UA-Compatible content='${1:IE=7}']","meta:edge":"meta:compat[content='${1:ie=edge}']","meta:redirect":"meta[http-equiv=refresh content='0; url=${1:http://example.com}']","meta:kw":"meta[name=keywords content]","meta:desc":"meta[name=description content]",style:"style",script:"script","script:src":"script[src]",img:"img[src alt]/","img:s|img:srcset":"img[srcset src alt]","img:z|img:sizes":"img[sizes srcset src alt]",picture:"picture","src|source":"source/","src:sc|source:src":"source[src type]","src:s|source:srcset":"source[srcset]","src:t|source:type":"source[srcset type='${1:image/}']","src:z|source:sizes":"source[sizes srcset]","src:m|source:media":"source[media='(${1:min-width: })' srcset]","src:mt|source:media:type":"source:media[type='${2:image/}']","src:mz|source:media:sizes":"source:media[sizes srcset]","src:zt|source:sizes:type":"source[sizes srcset type='${1:image/}']",iframe:"iframe[src frameborder=0]",embed:"embed[src type]/",object:"object[data type]",param:"param[name value]/",map:"map[name]",area:"area[shape coords href alt]/","area:d":"area[shape=default]","area:c":"area[shape=circle]","area:r":"area[shape=rect]","area:p":"area[shape=poly]",form:"form[action]","form:get":"form[method=get]","form:post":"form[method=post]",label:"label[for]",input:"input[type=${1:text}]/",inp:"input[name=${1} id=${1}]","input:h|input:hidden":"input[type=hidden name]","input:t|input:text":"inp[type=text]","input:search":"inp[type=search]","input:email":"inp[type=email]","input:url":"inp[type=url]","input:p|input:password":"inp[type=password]","input:datetime":"inp[type=datetime]","input:date":"inp[type=date]","input:datetime-local":"inp[type=datetime-local]","input:month":"inp[type=month]","input:week":"inp[type=week]","input:time":"inp[type=time]","input:tel":"inp[type=tel]","input:number":"inp[type=number]","input:color":"inp[type=color]","input:c|input:checkbox":"inp[type=checkbox]","input:r|input:radio":"inp[type=radio]","input:range":"inp[type=range]","input:f|input:file":"inp[type=file]","input:s|input:submit":"input[type=submit value]","input:i|input:image":"input[type=image src alt]","input:b|input:btn|input:button":"input[type=button value]","input:reset":"input:button[type=reset]",isindex:"isindex/",select:"select[name=${1} id=${1}]","select:d|select:disabled":"select[disabled.]","opt|option":"option[value]",textarea:"textarea[name=${1} id=${1} cols=${2:30} rows=${3:10}]",marquee:"marquee[behavior direction]","menu:c|menu:context":"menu[type=context]","menu:t|menu:toolbar":"menu[type=toolbar]",video:"video[src]",audio:"audio[src]","html:xml":"html[xmlns=http://www.w3.org/1999/xhtml]",keygen:"keygen/",command:"command/","btn:s|button:s|button:submit":"button[type=submit]","btn:r|button:r|button:reset":"button[type=reset]","btn:d|button:d|button:disabled":"button[disabled.]","fst:d|fset:d|fieldset:d|fieldset:disabled":"fieldset[disabled.]",bq:"blockquote",fig:"figure",figc:"figcaption",pic:"picture",ifr:"iframe",emb:"embed",obj:"object",cap:"caption",colg:"colgroup",fst:"fieldset",btn:"button",optg:"optgroup",tarea:"textarea",leg:"legend",sect:"section",art:"article",hdr:"header",ftr:"footer",adr:"address",dlg:"dialog",str:"strong",prog:"progress",mn:"main",tem:"template",fset:"fieldset",datag:"datagrid",datal:"datalist",kg:"keygen",out:"output",det:"details",sum:"summary",cmd:"command","ri:d|ri:dpr":"img:s","ri:v|ri:viewport":"img:z","ri:a|ri:art":"pic>src:m+img","ri:t|ri:type":"pic>src:t+img","!!!":"{<!DOCTYPE html>}",doc:"html[lang=${lang}]>(head>meta[charset=${charset}]+meta[http-equiv='X-UA-Compatible'][content='IE=edge']+meta:vp+title{${1:Document}})+body","!|html:5":"!!!+doc",c:"{<!-- ${0} -->}","cc:ie":"{<!--[if IE]>${0}<![endif]-->}","cc:noie":"{<!--[if !IE]><!-->${0}<!--<![endif]-->}"},Nk={"@f":`@font-face {
	font-family: \${1};
	src: url(\${2});
}`,"@ff":"@font-face {\n	font-family: '${1:FontName}';\n	src: url('${2:FileName}.eot');\n	src: url('${2:FileName}.eot?#iefix') format('embedded-opentype'),\n		 url('${2:FileName}.woff') format('woff'),\n		 url('${2:FileName}.ttf') format('truetype'),\n		 url('${2:FileName}.svg#${1:FontName}') format('svg');\n	font-style: ${3:normal};\n	font-weight: ${4:normal};\n}","@i|@import":"@import url(${0});","@kf":"@keyframes ${1:identifier} {\n	${2}\n}","@m|@media":"@media ${1:screen} {\n	${0}\n}",ac:"align-content:start|end|flex-start|flex-end|center|space-between|space-around|stretch|space-evenly",ai:"align-items:start|end|flex-start|flex-end|center|baseline|stretch",anim:"animation:${1:name} ${2:duration} ${3:timing-function} ${4:delay} ${5:iteration-count} ${6:direction} ${7:fill-mode}",animdel:"animation-delay:time",animdir:"animation-direction:normal|reverse|alternate|alternate-reverse",animdur:"animation-duration:${1:0}s",animfm:"animation-fill-mode:both|forwards|backwards",animic:"animation-iteration-count:1|infinite",animn:"animation-name",animps:"animation-play-state:running|paused",animtf:"animation-timing-function:linear|ease|ease-in|ease-out|ease-in-out|cubic-bezier(${1:0.1}, ${2:0.7}, ${3:1.0}, ${3:0.1})",ap:"appearance:none",as:"align-self:start|end|auto|flex-start|flex-end|center|baseline|stretch",b:"bottom",bd:"border:${1:1px} ${2:solid} ${3:#000}",bdb:"border-bottom:${1:1px} ${2:solid} ${3:#000}",bdbc:"border-bottom-color:${1:#000}",bdbi:"border-bottom-image:url(${0})",bdbk:"border-break:close",bdbli:"border-bottom-left-image:url(${0})|continue",bdblrs:"border-bottom-left-radius",bdbri:"border-bottom-right-image:url(${0})|continue",bdbrrs:"border-bottom-right-radius",bdbs:"border-bottom-style",bdbw:"border-bottom-width",bdc:"border-color:${1:#000}",bdci:"border-corner-image:url(${0})|continue",bdcl:"border-collapse:collapse|separate",bdf:"border-fit:repeat|clip|scale|stretch|overwrite|overflow|space",bdi:"border-image:url(${0})",bdl:"border-left:${1:1px} ${2:solid} ${3:#000}",bdlc:"border-left-color:${1:#000}",bdlen:"border-length",bdli:"border-left-image:url(${0})",bdls:"border-left-style",bdlw:"border-left-width",bdr:"border-right:${1:1px} ${2:solid} ${3:#000}",bdrc:"border-right-color:${1:#000}",bdri:"border-right-image:url(${0})",bdrs:"border-radius",bdrst:"border-right-style",bdrw:"border-right-width",bds:"border-style:none|hidden|dotted|dashed|solid|double|dot-dash|dot-dot-dash|wave|groove|ridge|inset|outset",bdsp:"border-spacing",bdt:"border-top:${1:1px} ${2:solid} ${3:#000}",bdtc:"border-top-color:${1:#000}",bdti:"border-top-image:url(${0})",bdtli:"border-top-left-image:url(${0})|continue",bdtlrs:"border-top-left-radius",bdtri:"border-top-right-image:url(${0})|continue",bdtrrs:"border-top-right-radius",bdts:"border-top-style",bdtw:"border-top-width",bdw:"border-width",bfv:"backface-visibility:hidden|visible",bg:"background:${1:#000}",bga:"background-attachment:fixed|scroll",bgbk:"background-break:bounding-box|each-box|continuous",bgc:"background-color:#${1:fff}",bgcp:"background-clip:padding-box|border-box|content-box|no-clip",bgi:"background-image:url(${0})",bgo:"background-origin:padding-box|border-box|content-box",bgp:"background-position:${1:0} ${2:0}",bgpx:"background-position-x",bgpy:"background-position-y",bgr:"background-repeat:no-repeat|repeat-x|repeat-y|space|round",bgsz:"background-size:contain|cover",bxsh:"box-shadow:${1:inset }${2:hoff} ${3:voff} ${4:blur} ${5:#000}|none",bxsz:"box-sizing:border-box|content-box|border-box",c:"color:${1:#000}",cr:"color:rgb(${1:0}, ${2:0}, ${3:0})",cra:"color:rgba(${1:0}, ${2:0}, ${3:0}, ${4:.5})",cl:"clear:both|left|right|none",cm:"/* ${0} */",cnt:"content:'${0}'|normal|open-quote|no-open-quote|close-quote|no-close-quote|attr(${0})|counter(${0})|counters(${0})",coi:"counter-increment",colm:"columns",colmc:"column-count",colmf:"column-fill",colmg:"column-gap",colmr:"column-rule",colmrc:"column-rule-color",colmrs:"column-rule-style",colmrw:"column-rule-width",colms:"column-span",colmw:"column-width",cor:"counter-reset",cp:"clip:auto|rect(${1:top} ${2:right} ${3:bottom} ${4:left})",cps:"caption-side:top|bottom",cur:"cursor:pointer|auto|default|crosshair|hand|help|move|pointer|text",d:"display:block|none|flex|inline-flex|inline|inline-block|grid|inline-grid|subgrid|list-item|run-in|compact|table|inline-table|table-caption|table-column|table-column-group|table-header-group|table-footer-group|table-row|table-row-group|table-cell|ruby|ruby-base|ruby-base-group|ruby-text|ruby-text-group",ec:"empty-cells:show|hide",f:"font:${1:1em} ${2:sans-serif}",fd:"font-display:auto|block|swap|fallback|optional",fef:"font-effect:none|engrave|emboss|outline",fem:"font-emphasize",femp:"font-emphasize-position:before|after",fems:"font-emphasize-style:none|accent|dot|circle|disc",ff:"font-family:serif|sans-serif|cursive|fantasy|monospace",fft:'font-family:"Times New Roman", Times, Baskerville, Georgia, serif',ffa:'font-family:Arial, "Helvetica Neue", Helvetica, sans-serif',ffv:"font-family:Verdana, Geneva, sans-serif",fl:"float:left|right|none",fs:"font-style:italic|normal|oblique",fsm:"font-smoothing:antialiased|subpixel-antialiased|none",fst:"font-stretch:normal|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",fv:"font-variant:normal|small-caps",fvs:"font-variation-settings:normal|inherit|initial|unset",fw:"font-weight:normal|bold|bolder|lighter",fx:"flex",fxb:"flex-basis:fill|max-content|min-content|fit-content|content",fxd:"flex-direction:row|row-reverse|column|column-reverse",fxf:"flex-flow",fxg:"flex-grow",fxsh:"flex-shrink",fxw:"flex-wrap:nowrap|wrap|wrap-reverse",fsz:"font-size",fsza:"font-size-adjust",gtc:"grid-template-columns:repeat(${0})|minmax()",gtr:"grid-template-rows:repeat(${0})|minmax()",gta:"grid-template-areas",gt:"grid-template",gg:"grid-gap",gcg:"grid-column-gap",grg:"grid-row-gap",gac:"grid-auto-columns:auto|minmax()",gar:"grid-auto-rows:auto|minmax()",gaf:"grid-auto-flow:row|column|dense|inherit|initial|unset",gd:"grid",gc:"grid-column",gcs:"grid-column-start",gce:"grid-column-end",gr:"grid-row",grs:"grid-row-start",gre:"grid-row-end",ga:"grid-area",h:"height",jc:"justify-content:start|end|stretch|flex-start|flex-end|center|space-between|space-around|space-evenly",ji:"justify-items:start|end|center|stretch",js:"justify-self:start|end|center|stretch",l:"left",lg:"background-image:linear-gradient(${1})",lh:"line-height",lis:"list-style",lisi:"list-style-image",lisp:"list-style-position:inside|outside",list:"list-style-type:disc|circle|square|decimal|decimal-leading-zero|lower-roman|upper-roman",lts:"letter-spacing:normal",m:"margin",mah:"max-height",mar:"max-resolution",maw:"max-width",mb:"margin-bottom",mih:"min-height",mir:"min-resolution",miw:"min-width",ml:"margin-left",mr:"margin-right",mt:"margin-top",ol:"outline",olc:"outline-color:${1:#000}|invert",olo:"outline-offset",ols:"outline-style:none|dotted|dashed|solid|double|groove|ridge|inset|outset",olw:"outline-width|thin|medium|thick","op|opa":"opacity",ord:"order",ori:"orientation:landscape|portrait",orp:"orphans",ov:"overflow:hidden|visible|hidden|scroll|auto",ovs:"overflow-style:scrollbar|auto|scrollbar|panner|move|marquee",ovx:"overflow-x:hidden|visible|hidden|scroll|auto",ovy:"overflow-y:hidden|visible|hidden|scroll|auto",p:"padding",pb:"padding-bottom",pgba:"page-break-after:auto|always|left|right",pgbb:"page-break-before:auto|always|left|right",pgbi:"page-break-inside:auto|avoid",pl:"padding-left",pos:"position:relative|absolute|relative|fixed|static",pr:"padding-right",pt:"padding-top",q:"quotes",qen:"quotes:'\\201C' '\\201D' '\\2018' '\\2019'",qru:"quotes:'\\00AB' '\\00BB' '\\201E' '\\201C'",r:"right",rsz:"resize:none|both|horizontal|vertical",t:"top",ta:"text-align:left|center|right|justify",tal:"text-align-last:left|center|right",tbl:"table-layout:fixed",td:"text-decoration:none|underline|overline|line-through",te:"text-emphasis:none|accent|dot|circle|disc|before|after",th:"text-height:auto|font-size|text-size|max-size",ti:"text-indent",tj:"text-justify:auto|inter-word|inter-ideograph|inter-cluster|distribute|kashida|tibetan",to:"text-outline:${1:0} ${2:0} ${3:#000}",tov:"text-overflow:ellipsis|clip",tr:"text-replace",trf:"transform:${1}|skewX(${1:angle})|skewY(${1:angle})|scale(${1:x}, ${2:y})|scaleX(${1:x})|scaleY(${1:y})|scaleZ(${1:z})|scale3d(${1:x}, ${2:y}, ${3:z})|rotate(${1:angle})|rotateX(${1:angle})|rotateY(${1:angle})|rotateZ(${1:angle})|translate(${1:x}, ${2:y})|translateX(${1:x})|translateY(${1:y})|translateZ(${1:z})|translate3d(${1:tx}, ${2:ty}, ${3:tz})",trfo:"transform-origin",trfs:"transform-style:preserve-3d",trs:"transition:${1:prop} ${2:time}",trsde:"transition-delay:${1:time}",trsdu:"transition-duration:${1:time}",trsp:"transition-property:${1:prop}",trstf:"transition-timing-function:${1:fn}",tsh:"text-shadow:${1:hoff} ${2:voff} ${3:blur} ${4:#000}",tt:"text-transform:uppercase|lowercase|capitalize|none",tw:"text-wrap:none|normal|unrestricted|suppress",us:"user-select:none",v:"visibility:hidden|visible|collapse",va:"vertical-align:top|super|text-top|middle|baseline|bottom|text-bottom|sub",w:"width",whs:"white-space:nowrap|pre|pre-wrap|pre-line|normal",whsc:"white-space-collapse:normal|keep-all|loose|break-strict|break-all",wid:"widows",wm:"writing-mode:lr-tb|lr-tb|lr-bt|rl-tb|rl-bt|tb-rl|tb-lr|bt-lr|bt-rl",wob:"word-break:normal|keep-all|break-all",wos:"word-spacing",wow:"word-wrap:none|unrestricted|suppress|break-word|normal",z:"z-index",zom:"zoom:1"},Fk={"tm|tmatch":"xsl:template[match mode]","tn|tname":"xsl:template[name]",call:"xsl:call-template[name]",ap:"xsl:apply-templates[select mode]",api:"xsl:apply-imports",imp:"xsl:import[href]",inc:"xsl:include[href]",ch:"xsl:choose","wh|xsl:when":"xsl:when[test]",ot:"xsl:otherwise",if:"xsl:if[test]",par:"xsl:param[name]",pare:"xsl:param[name select]",var:"xsl:variable[name]",vare:"xsl:variable[name select]",wp:"xsl:with-param[name select]",key:"xsl:key[name match use]",elem:"xsl:element[name]",attr:"xsl:attribute[name]",attrs:"xsl:attribute-set[name]",cp:"xsl:copy[select]",co:"xsl:copy-of[select]",val:"xsl:value-of[select]","for|each":"xsl:for-each[select]",tex:"xsl:text",com:"xsl:comment",msg:"xsl:message[terminate=no]",fall:"xsl:fallback",num:"xsl:number[value]",nam:"namespace-alias[stylesheet-prefix result-prefix]",pres:"xsl:preserve-space[elements]",strip:"xsl:strip-space[elements]",proc:"xsl:processing-instruction[name]",sort:"xsl:sort[select order]",choose:"xsl:choose>xsl:when+xsl:otherwise",xsl:`!!!+xsl:stylesheet[version=1.0 xmlns:xsl=http://www.w3.org/1999/XSL/Transform]>{
|}`,"!!!":'{<?xml version="1.0" encoding="UTF-8"?>}'},$k={"!!!":"{doctype html}"},Hk={lang:"en",locale:"en-US",charset:"UTF-8",indentation:"	",newline:`
`};const Wk={markup:"html",stylesheet:"css"},Uk={inlineElements:["a","abbr","acronym","applet","b","basefont","bdo","big","br","button","cite","code","del","dfn","em","font","i","iframe","img","input","ins","kbd","label","map","object","q","s","samp","select","small","span","strike","strong","sub","sup","textarea","tt","u","var"],"output.indent":"	","output.baseIndent":"","output.newline":`
`,"output.tagCase":"","output.attributeCase":"","output.attributeQuotes":"double","output.format":!0,"output.formatLeafNode":!1,"output.formatSkip":["html"],"output.formatForce":["body"],"output.inlineBreak":3,"output.compactBoolean":!1,"output.booleanAttributes":["contenteditable","seamless","async","autofocus","autoplay","checked","controls","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","novalidate","readonly","required","reversed","selected","typemustmatch"],"output.reverseAttributes":!1,"output.selfClosingStyle":"html","output.field":(i,t)=>t,"output.text":i=>i,"markup.href":!0,"comment.enabled":!1,"comment.trigger":["id","class"],"comment.before":"","comment.after":`
<!-- /[#ID][.CLASS] -->`,"bem.enabled":!1,"bem.element":"__","bem.modifier":"_","jsx.enabled":!1,"stylesheet.keywords":["auto","inherit","unset","none"],"stylesheet.unitless":["z-index","line-height","opacity","font-weight","zoom","flex","flex-grow","flex-shrink"],"stylesheet.shortHex":!0,"stylesheet.between":": ","stylesheet.after":";","stylesheet.intUnit":"px","stylesheet.floatUnit":"em","stylesheet.unitAliases":{e:"em",p:"%",x:"ex",r:"rem"},"stylesheet.json":!1,"stylesheet.jsonDoubleQuotes":!1,"stylesheet.fuzzySearchMinScore":0},tm={type:"markup",syntax:"html",variables:Hk,snippets:{},options:Uk},bd={markup:{snippets:lo(jk)},xhtml:{options:{"output.selfClosingStyle":"xhtml"}},xml:{options:{"output.selfClosingStyle":"xml"}},xsl:{snippets:lo(Fk),options:{"output.selfClosingStyle":"xml"}},jsx:{options:{"jsx.enabled":!0}},pug:{snippets:lo($k)},stylesheet:{snippets:lo(Nk)},sass:{options:{"stylesheet.after":""}},stylus:{options:{"stylesheet.between":" ","stylesheet.after":""}}};function lo(i){const t={};return Object.keys(i).forEach(e=>{for(const n of e.split("|"))t[n]=i[e]}),t}function em(i={},t={}){const e=i.type||"markup",n=i.syntax||Wk[e];return Object.assign(Object.assign(Object.assign({},tm),i),{type:e,syntax:n,variables:ea(e,n,"variables",i,t),snippets:ea(e,n,"snippets",i,t),options:ea(e,n,"options",i,t)})}function ea(i,t,e,n,s={}){const o=bd[i],a=s[i],l=bd[t],u=s[t];return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},tm[e]),o&&o[e]),l&&l[e]),a&&a[e]),u&&u[e]),n[e])}function im(i,t=0){return{text:i,start:t,pos:i.length}}function ti(i){return i.pos===i.start}function ys(i,t=0){return i.text.charCodeAt(i.pos-1+t)}function vd(i){if(!ti(i))return i.text.charCodeAt(--i.pos)}function ue(i,t){if(ti(i))return!1;const e=typeof t=="function"?t(ys(i)):t===ys(i);return e&&i.pos--,!!e}function nm(i,t){const e=i.pos;for(;ue(i,t););return i.pos<e}function vl(i){return i===39||i===34}function Zk(i){const t=i.pos,e=vd(i);if(vl(e)){for(;!ti(i);)if(vd(i)===e&&ys(i)!==92)return!0}return i.pos=t,!1}const sm={[91]:93,[40]:41,[123]:125};function Gk(i){const t=i.pos;if(!ue(i,62))return!1;let e=!1;for(ue(i,47);!ti(i);){if(nm(i,Ea),Uo(i)){if(ue(i,47)){e=ue(i,60);break}else if(ue(i,60)){e=!0;break}else{if(ue(i,Ea))continue;if(ue(i,61)){if(Uo(i))continue;break}else if(om(i)){e=!0;break}}break}if(!Yk(i))break}return i.pos=t,e}function Yk(i){return qk(i)||om(i)}function qk(i){const t=i.pos;return Zk(i)&&ue(i,61)&&Uo(i)?!0:(i.pos=t,!1)}function om(i){const t=i.pos,e=[];for(;!ti(i);){const n=ys(i);if(eT(n))e.push(n);else if(tT(n)){if(e.pop()!==sm[n])break}else if(!Jk(n))break;i.pos--}return t!==i.pos&&ue(i,61)&&Uo(i)?!0:(i.pos=t,!1)}function Uo(i){return nm(i,Kk)}function Kk(i){return i===58||i===45||Xk(i)||Qk(i)}function Xk(i){return i&=-33,i>=65&&i<=90}function Qk(i){return i>47&&i<58}function Ea(i){return i===32||i===9}function Jk(i){return!isNaN(i)&&i!==61&&!Ea(i)&&!vl(i)}function tT(i){return i===123||i===40||i===91}function eT(i){return i===125||i===41||i===93}const rm=i=>i.charCodeAt(0),iT="#.*:$-_!@%^+>/".split("").map(rm),nT={type:"markup",lookAhead:!0,prefix:""};function sT(i,t=i.length,e={}){const n=Object.assign(Object.assign({},nT),e);t=Math.min(i.length,Math.max(0,t??i.length)),n.lookAhead&&(t=oT(i,t,n));let s;const o=rT(i,t,n.prefix||"");if(o===-1)return;const a=im(i,o);a.pos=t;const l=[];for(;!ti(a);){if(s=ys(a),l.includes(125)){if(s===125){l.push(s),a.pos--;continue}if(s!==123){a.pos--;continue}}if(am(s,n.type))l.push(s);else if(cT(s,n.type)){if(l.pop()!==sm[s])break}else if(l.includes(93)||l.includes(125)){a.pos--;continue}else if(Gk(a)||!lT(s))break;a.pos--}if(!l.length&&a.pos!==t){const u=i.slice(a.pos,t).replace(/^[*+>^]+/,"");return{abbreviation:u,location:t-u.length,start:e.prefix?o-e.prefix.length:t-u.length,end:t}}}function oT(i,t,e){for(vl(i.charCodeAt(t))&&t++;am(i.charCodeAt(t),e.type);)t++;return t}function rT(i,t,e){if(!e)return 0;const n=im(i),s=e.split("").map(rm);n.pos=t;let o;for(;!ti(n);)if(!(yd(n,93,91)||yd(n,125,123))){if(o=n.pos,aT(n,s))return o;n.pos--}return-1}function yd(i,t,e){const n=i.pos;if(ue(i,t))for(;!ti(i);){if(ue(i,e))return!0;i.pos--}return i.pos=n,!1}function aT(i,t){const e=i.pos;let n=!1;for(let s=t.length-1;s>=0&&!ti(i)&&ue(i,t[s]);s--)n=s===0;return n||(i.pos=e),n}function lT(i){return i>64&&i<91||i>96&&i<123||i>47&&i<58||iT.includes(i)}function cT(i,t){return i===40||t==="markup"&&(i===91||i===123)}function am(i,t){return i===41||t==="markup"&&(i===93||i===125)}function lm(i,t){const e=em(t);return e.type==="stylesheet"?dT(i,e):uT(i,e)}function uT(i,t){return ak(rk(i,t),t)}function dT(i,t){return kk(Ck(i,t),t)}var hT={properties:["additive-symbols","align-content","align-items","justify-items","justify-self","justify-items","align-self","all","alt","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","behavior","block-size","border","border-block-end","border-block-start","border-block-end-color","border-block-start-color","border-block-end-style","border-block-start-style","border-block-end-width","border-block-start-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline-end","border-inline-start","border-inline-end-color","border-inline-start-color","border-inline-end-style","border-inline-start-style","border-inline-end-width","border-inline-start-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation-filters","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","columns","column-span","column-width","contain","content","counter-increment","counter-reset","cursor","direction","display","empty-cells","enable-background","fallback","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","font","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","glyph-orientation-horizontal","glyph-orientation-vertical","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","height","hyphens","image-orientation","image-rendering","ime-mode","inline-size","isolation","justify-content","kerning","left","letter-spacing","lighting-color","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block-end","margin-block-start","margin-bottom","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marker","marker-end","marker-mid","marker-start","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","motion","motion-offset","motion-path","motion-rotation","-moz-animation","-moz-animation-delay","-moz-animation-direction","-moz-animation-duration","-moz-animation-iteration-count","-moz-animation-name","-moz-animation-play-state","-moz-animation-timing-function","-moz-appearance","-moz-backface-visibility","-moz-background-clip","-moz-background-inline-policy","-moz-background-origin","-moz-border-bottom-colors","-moz-border-image","-moz-border-left-colors","-moz-border-right-colors","-moz-border-top-colors","-moz-box-align","-moz-box-direction","-moz-box-flex","-moz-box-flexgroup","-moz-box-ordinal-group","-moz-box-orient","-moz-box-pack","-moz-box-sizing","-moz-column-count","-moz-column-gap","-moz-column-rule","-moz-column-rule-color","-moz-column-rule-style","-moz-column-rule-width","-moz-columns","-moz-column-width","-moz-font-feature-settings","-moz-hyphens","-moz-perspective","-moz-perspective-origin","-moz-text-align-last","-moz-text-decoration-color","-moz-text-decoration-line","-moz-text-decoration-style","-moz-text-size-adjust","-moz-transform","-moz-transform-origin","-moz-transition","-moz-transition-delay","-moz-transition-duration","-moz-transition-property","-moz-transition-timing-function","-moz-user-focus","-moz-user-select","-ms-accelerator","-ms-behavior","-ms-block-progression","-ms-content-zoom-chaining","-ms-content-zooming","-ms-content-zoom-limit","-ms-content-zoom-limit-max","-ms-content-zoom-limit-min","-ms-content-zoom-snap","-ms-content-zoom-snap-points","-ms-content-zoom-snap-type","-ms-filter","-ms-flex","-ms-flex-align","-ms-flex-direction","-ms-flex-flow","-ms-flex-item-align","-ms-flex-line-pack","-ms-flex-order","-ms-flex-pack","-ms-flex-wrap","-ms-flow-from","-ms-flow-into","-ms-grid-column","-ms-grid-column-align","-ms-grid-columns","-ms-grid-column-span","-ms-grid-layer","-ms-grid-row","-ms-grid-row-align","-ms-grid-rows","-ms-grid-row-span","-ms-high-contrast-adjust","-ms-hyphenate-limit-chars","-ms-hyphenate-limit-lines","-ms-hyphenate-limit-zone","-ms-hyphens","-ms-ime-mode","-ms-interpolation-mode","-ms-layout-grid","-ms-layout-grid-char","-ms-layout-grid-line","-ms-layout-grid-mode","-ms-layout-grid-type","-ms-line-break","-ms-overflow-style","-ms-perspective","-ms-perspective-origin","-ms-perspective-origin-x","-ms-perspective-origin-y","-ms-progress-appearance","-ms-scrollbar-3dlight-color","-ms-scrollbar-arrow-color","-ms-scrollbar-base-color","-ms-scrollbar-darkshadow-color","-ms-scrollbar-face-color","-ms-scrollbar-highlight-color","-ms-scrollbar-shadow-color","-ms-scrollbar-track-color","-ms-scroll-chaining","-ms-scroll-limit","-ms-scroll-limit-x-max","-ms-scroll-limit-x-min","-ms-scroll-limit-y-max","-ms-scroll-limit-y-min","-ms-scroll-rails","-ms-scroll-snap-points-x","-ms-scroll-snap-points-y","-ms-scroll-snap-type","-ms-scroll-snap-x","-ms-scroll-snap-y","-ms-scroll-translation","-ms-text-align-last","-ms-text-autospace","-ms-text-combine-horizontal","-ms-text-justify","-ms-text-kashida-space","-ms-text-overflow","-ms-text-size-adjust","-ms-text-underline-position","-ms-touch-action","-ms-touch-select","-ms-transform","-ms-transform-origin","-ms-transform-origin-x","-ms-transform-origin-y","-ms-transform-origin-z","-ms-user-select","-ms-word-break","-ms-word-wrap","-ms-wrap-flow","-ms-wrap-margin","-ms-wrap-through","-ms-writing-mode","-ms-zoom","-ms-zoom-animation","nav-down","nav-index","nav-left","nav-right","nav-up","negative","-o-animation","-o-animation-delay","-o-animation-direction","-o-animation-duration","-o-animation-fill-mode","-o-animation-iteration-count","-o-animation-name","-o-animation-play-state","-o-animation-timing-function","object-fit","object-position","-o-border-image","-o-object-fit","-o-object-position","opacity","order","orphans","-o-table-baseline","-o-tab-size","-o-text-overflow","-o-transform","-o-transform-origin","-o-transition","-o-transition-delay","-o-transition-duration","-o-transition-property","-o-transition-timing-function","offset-block-end","offset-block-start","offset-inline-end","offset-inline-start","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","pad","padding","padding-bottom","padding-block-end","padding-block-start","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","paint-order","perspective","perspective-origin","pointer-events","position","prefix","quotes","range","resize","right","ruby-align","ruby-overhang","ruby-position","ruby-span","scrollbar-3dlight-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-darkshadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","scroll-behavior","scroll-snap-coordinate","scroll-snap-destination","scroll-snap-points-x","scroll-snap-points-y","scroll-snap-type","shape-image-threshold","shape-margin","shape-outside","shape-rendering","size","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","suffix","system","symbols","table-layout","tab-size","text-align","text-align-last","text-anchor","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","unicode-range","user-select","vertical-align","visibility","-webkit-animation","-webkit-animation-delay","-webkit-animation-direction","-webkit-animation-duration","-webkit-animation-fill-mode","-webkit-animation-iteration-count","-webkit-animation-name","-webkit-animation-play-state","-webkit-animation-timing-function","-webkit-appearance","-webkit-backdrop-filter","-webkit-backface-visibility","-webkit-background-clip","-webkit-background-composite","-webkit-background-origin","-webkit-border-image","-webkit-box-align","-webkit-box-direction","-webkit-box-flex","-webkit-box-flex-group","-webkit-box-ordinal-group","-webkit-box-orient","-webkit-box-pack","-webkit-box-reflect","-webkit-box-sizing","-webkit-break-after","-webkit-break-before","-webkit-break-inside","-webkit-column-break-after","-webkit-column-break-before","-webkit-column-break-inside","-webkit-column-count","-webkit-column-gap","-webkit-column-rule","-webkit-column-rule-color","-webkit-column-rule-style","-webkit-column-rule-width","-webkit-columns","-webkit-column-span","-webkit-column-width","-webkit-filter","-webkit-flow-from","-webkit-flow-into","-webkit-font-feature-settings","-webkit-hyphens","-webkit-line-break","-webkit-margin-bottom-collapse","-webkit-margin-collapse","-webkit-margin-start","-webkit-margin-top-collapse","-webkit-mask-clip","-webkit-mask-image","-webkit-mask-origin","-webkit-mask-repeat","-webkit-mask-size","-webkit-nbsp-mode","-webkit-overflow-scrolling","-webkit-padding-start","-webkit-perspective","-webkit-perspective-origin","-webkit-region-fragment","-webkit-tap-highlight-color","-webkit-text-fill-color","-webkit-text-size-adjust","-webkit-text-stroke","-webkit-text-stroke-color","-webkit-text-stroke-width","-webkit-touch-callout","-webkit-transform","-webkit-transform-origin","-webkit-transform-origin-x","-webkit-transform-origin-y","-webkit-transform-origin-z","-webkit-transform-style","-webkit-transition","-webkit-transition-delay","-webkit-transition-duration","-webkit-transition-property","-webkit-transition-timing-function","-webkit-user-drag","-webkit-user-modify","-webkit-user-select","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","zoom"]},cm={tags:["body","head","html","address","blockquote","dd","div","section","article","aside","header","footer","nav","menu","dl","dt","fieldset","form","frame","frameset","h1","h2","h3","h4","h5","h6","iframe","noframes","object","ol","p","ul","applet","center","dir","hr","pre","a","abbr","acronym","area","b","base","basefont","bdo","big","br","button","caption","cite","code","col","colgroup","del","dfn","em","font","i","img","input","ins","isindex","kbd","label","legend","li","link","map","meta","noscript","optgroup","option","param","q","s","samp","script","select","small","span","strike","strong","style","sub","sup","table","tbody","td","textarea","tfoot","th","thead","title","tr","tt","u","var","canvas","main","figure","plaintext","figcaption","hgroup","details","summary"]},ia=new Map,Oa,na=new Map,fT=/^[a-z,A-Z,!,(,[,#,\.\{]/,mT=/^[a-z,A-Z,!,(,[,#,\.]/,pT=/^-?[a-z,A-Z,!,@,#]/,xd=/[a-z,A-Z\.]/,xs=qu(qu([],cm.tags,!0),["lorem"],!1),co="bem",sa="|",uo="t",ho="c",gT=3;function _T(i,t,e,n,s){var o,a=rr(n);if(!a){if(!ia.has(n)){var l=xT(n);ia.set(n,Object.keys(l))}Oa=(o=ia.get(n))!==null&&o!==void 0?o:[]}var u={lookAhead:!a,type:yl(n)},d=kT(i,t,e,u);if(d){var f=d.abbreviationRange,m=d.abbreviation,g=d.currentLineTillPosition,b=d.filter,y=bT(g);if(!(y===m&&g.endsWith("<".concat(m))&&!a)){var v=ST(n,b),w="",k,S=[],O=function(j,Z){if(TT(j,m)){try{w=lm(Z,v),a&&"!important".startsWith(Z)&&(w="!important")}catch{}!w||MT(j,Z,w,v.options)||(k={kind:i.languages.CompletionItemKind.Property,label:m+(b?"|"+b.replace(",","|"):""),documentation:Da(w),detail:"Emmet abbreviation",insertTextRules:i.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:f,insertText:za(Ia(w))},S=[k])}};if(O(n,m),a){if(m.length>4&&hT.properties.some(function(j){return j.startsWith(m)}))return{suggestions:[],incomplete:!0};if(k&&w.length){k.range=f,k.insertText=za(Ia(w)),k.documentation=Da(w),k.label=vT(w),k.filterText=m;var E=na.has(n)?na.get(n):na.get("css");if(S=oa(i,E??[],m,m,f,v,"Emmet Custom Snippet",!1),!S.find(function(j){return j.insertText===(k==null?void 0:k.insertText)})){var A=new RegExp(".*"+m.split("").map(function(j){return j==="$"||j==="+"?"\\"+j:j}).join(".*")+".*","i");(/\d/.test(m)||A.test(k.label))&&S.push(k)}}}else{var D=m,z=m.match(/(>|\+)([\w:-]+)$/);if(z&&z.length===3&&(D=z[2]),n!=="xml"){var N=oa(i,xs,D,m,f,v,"Emmet Abbreviation");S=S.concat(N)}if(s.showAbbreviationSuggestions===!0){var $=oa(i,Oa.filter(function(j){return!xs.includes(j)}),D,m,f,v,"Emmet Abbreviation");k&&$.length>0&&D!==m&&(k.sortText="0"+k.label,$.forEach(function(j){j.filterText=m,j.sortText="9"+m})),S=S.concat($)}n==="html"&&S.length>=2&&m.includes(":")&&(k==null?void 0:k.insertText)==="<".concat(m,">${0}</").concat(m,">")&&(S=S.filter(function(j){return j.label!==m}))}return s.showSuggestionsAsSnippets===!0&&S.forEach(function(j){return j.kind=i.languages.CompletionItemKind.Snippet}),S.length?{suggestions:S,incomplete:!0}:void 0}}}function oa(i,t,e,n,s,o,a,l){if(l===void 0&&(l=!0),!e||!t)return[];var u=[];return t.forEach(function(d){if(!(!d.startsWith(e.toLowerCase())||l&&d===e.toLowerCase())){var f=n+d.substr(e.length),m;try{m=lm(f,o)}catch{}if(m){var g={kind:i.languages.CompletionItemKind.Property,label:e+d.substr(e.length),documentation:Da(m),detail:a,insertTextRules:i.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:s,insertText:za(Ia(m))};u.push(g)}}}),u}function bT(i){if(i){var t=i.match(/[\w,:,-,\.]*$/);if(t)return t[0]}}function Da(i){return i.replace(/([^\\])\$\{\d+\}/g,"$1|").replace(/\$\{\d+:([^\}]+)\}/g,"$1")}function vT(i){return i.replace(/([^\\])\$\{\d+\}/g,"$1").replace(/\$\{\d+:([^\}]+)\}/g,"$1")}function za(i){return i&&i.replace(/([^\\])(\$)([^\{])/g,"$1\\$2$3")}function Ia(i){if(!i||!i.trim())return i;var t=-1,e=[],n=!1,s=!1,o=0,a=i.length;try{for(;o<a&&!n;)if(!(i[o++]!="$"||i[o++]!="{")){for(var l=-1,u=-1;o<a&&/\d/.test(i[o]);)l=l<0?o:l,u=o+1,o++;if(!(l===-1||u===-1||o>=a||i[o]!="}"&&i[o]!=":")){var d=i.substring(l,u);if(n=d==="0",n)break;var f=!1;if(i[o++]==":")for(;o<a;){if(i[o]=="}"){f=!0;break}o++}Number(d)>Number(t)?(t=Number(d),e=[{numberStart:l,numberEnd:u}],s=!f):Number(d)===t&&e.push({numberStart:l,numberEnd:u})}}}catch{}if(s&&!n)for(var m=0;m<e.length;m++){var g=e[m].numberStart,b=e[m].numberEnd;i=i.substr(0,g)+"0"+i.substr(b)}return i}var yT=function(i,t){return"${".concat(i).concat(t?":"+t:"","}")};function rr(i){return i==="css"}function yl(i){return rr(i)?"stylesheet":"markup"}function xT(i){var t=yl(i),e={type:t,syntax:i},n=em(e);return i==="xml"?{}:n.snippets}function wT(i,t){for(var e,n=0;n<gT;n++)if(i.endsWith("".concat(sa).concat(co),t))t-=co.length+1,e=e?co+","+e:co;else if(i.endsWith("".concat(sa).concat(ho),t))t-=ho.length+1,e=e?ho+","+e:ho;else if(i.endsWith("".concat(sa).concat(uo),t))t-=uo.length+1,e=e?uo+","+e:uo;else break;return{pos:t,filter:e}}function kT(i,t,e,n){var s=t.getLineContent(e.lineNumber),o=s.substr(0,e.column-1),a=wT(o,e.column-1),l=a.pos,u=a.filter,d=u?u.length+1:0,f=sT(s,l,n);if(f){var m=new i.Range(e.lineNumber,f.location+1,e.lineNumber,f.location+f.abbreviation.length+d+1);return{abbreviationRange:m,abbreviation:f.abbreviation,currentLineTillPosition:o,filter:u}}}function TT(i,t){if(!t)return!1;if(rr(i)){if(t.includes("#")){if(t.startsWith("#")){var e=/^#[\d,a-f,A-F]{1,6}$/;return e.test(t)}else if(xs.includes(t.substring(0,t.indexOf("#"))))return!1}return pT.test(t)}return t.startsWith("!")?!/[^!]/.test(t):(/\(/.test(t)||/\)/.test(t))&&!/\{[^\}\{]*[\(\)]+[^\}\{]*\}(?:[>\+\*\^]|$)/.test(t)&&!/\(.*\)[>\+\*\^]/.test(t)&&!/\[[^\[\]\(\)]+=".*"\]/.test(t)&&!/[>\+\*\^]\(.*\)/.test(t)?!1:i==="jsx"?mT.test(t)&&xd.test(t):fT.test(t)&&xd.test(t)}function MT(i,t,e,n){var s,o;if(rr(i)&&n){var a=(s=n["stylesheet.between"])!==null&&s!==void 0?s:": ",l=(o=n["stylesheet.after"])!==null&&o!==void 0?o:";",u=t.indexOf(a[0],Math.max(t.length-a.length,0));u=u>=0?u:t.length;var d=t.substring(0,u);return e==="".concat(d).concat(a,"${0}").concat(l)||e.replace(/\s/g,"")===t.replace(/\s/g,"")+l}if(i==="xml"&&xs.some(function(m){return m.startsWith(t.toLowerCase())}))return!0;if(xs.includes(t.toLowerCase())||Oa.includes(t)||/[-,:]/.test(t)&&!/--|::/.test(t)&&!t.endsWith(":")||t===".")return!1;var f=t.match(/^([a-z,A-Z,\d]*)\.$/);return f?!(f[1]&&cm.tags.includes(f[1])):i==="jsx"&&/^([A-Z][A-Za-z0-9]*)+$/.test(t)?!1:e.toLowerCase()==="<".concat(t.toLowerCase(),">${1}</").concat(t.toLowerCase(),">")}function ST(i,t){var e=yl(i),n=t?t.split(",").map(function(l){return l.trim()}):[],s=n.includes("bem"),o=n.includes("c"),a={"output.formatSkip":["html"],"output.formatForce":["body"],"output.field":yT,"output.inlineBreak":0,"output.compactBoolean":!1,"output.reverseAttributes":!1,"markup.href":!0,"comment.enabled":o,"comment.trigger":["id","class"],"comment.before":"","comment.after":`
<!-- /[#ID][.CLASS] -->`,"bem.enabled":s,"bem.element":"__","bem.modifier":"_","jsx.enabled":i==="jsx","stylesheet.shortHex":!0,"stylesheet.between":i==="stylus"?" ":": ","stylesheet.after":i==="sass"||i==="stylus"?"":";","stylesheet.intUnit":"px","stylesheet.floatUnit":"em","stylesheet.unitAliases":{e:"em",p:"%",x:"ex",r:"rem"},"stylesheet.fuzzySearchMinScore":.3,"output.format":!0,"output.selfClosingStyle":"html"};return{type:e,options:a,variables:{},snippets:{},syntax:i,text:void 0,maxRepeat:1e3}}function PT(i,t,e,n){var s=i[t].type;return e==="html"?s===""&&(t===0||i[t-1].type==="delimiter.html")||i[0].type==="text.html.basic":e==="css"?s===""?!0:s==="tag."+n:e==="jsx"?!!t&&["identifier.js","type.identifier.js","identifier.ts","type.identifier.ts"].includes(s):!1}function LT(i,t,e,n){for(var s=t.column,o=t.lineNumber,a=i._tokenization||i.tokenization._tokenization,l=a._tokenizationStateStore,u=l.tokenizationSupport||a._tokenizationSupport,d=l.getBeginState(o-1).clone(),f=u.tokenize(i.getLineContent(o),!0,d,0),m=f.tokens,g=!1,b=m.length-1;b>=0;b--)if(s-1>m[b].offset){g=PT(m,b,e,n);break}return g}var CT={html:["!",".","}",":","*","$","]","/",">","0","1","2","3","4","5","6","7","8","9"],jade:["!",".","}",":","*","$","]","/",">","0","1","2","3","4","5","6","7","8","9"],slim:["!",".","}",":","*","$","]","/",">","0","1","2","3","4","5","6","7","8","9"],haml:["!",".","}",":","*","$","]","/",">","0","1","2","3","4","5","6","7","8","9"],xml:[".","}","*","$","]","/",">","0","1","2","3","4","5","6","7","8","9"],xsl:["!",".","}","*","$","/","]",">","0","1","2","3","4","5","6","7","8","9"],css:[":","!","-","0","1","2","3","4","5","6","7","8","9"],scss:[":","!","-","0","1","2","3","4","5","6","7","8","9"],sass:[":","!","0","1","2","3","4","5","6","7","8","9"],less:[":","!","-","0","1","2","3","4","5","6","7","8","9"],stylus:[":","!","0","1","2","3","4","5","6","7","8","9"],javascript:["!",".","}","*","$","]","/",">","0","1","2","3","4","5","6","7","8","9"],typescript:["!",".","}","*","$","]","/",">","0","1","2","3","4","5","6","7","8","9"]},AT={handlebars:"html",php:"html",twig:"html"},ET={showExpandedAbbreviation:"always",showAbbreviationSuggestions:!0,showSuggestionsAsSnippets:!1};function OT(i,t,e){if(!i){console.error("emmet-monaco-es: 'monaco' should be either declared on window or passed as first parameter");return}var n=t.map(function(s){return i.languages.registerCompletionItemProvider(s,{triggerCharacters:CT[AT[s]||s],provideCompletionItems:function(o,a){return LT(o,a,e,s)?_T(i,o,a,e,ET):void 0}})});return function(){n.forEach(function(s){return s.dispose()})}}function um(i,t){return i===void 0&&(i=window.monaco),t===void 0&&(t=["html"]),OT(i,t,"html")}const DT={props:{modelValue:{default:"",type:String},language:{default:"html",type:String},readOnly:{default:!1,type:Boolean},wordWrap:{default:"off",type:String}},watch:{modelValue(i){this.$el.contains(document.activeElement)||(this.setValue(i),this.editorResize())}},methods:{async monacoInit(){const t=await(await Vd(()=>import("./index.e78d5407.js"),[],import.meta.url).then(n=>n==null?void 0:n.default)).init();um(t,["html","php"]);const e=t.editor.create(this.$refs.monaco,{value:this.modelValue,language:this.language,theme:"vs-dark",readOnly:this.readOnly,wordWrap:this.wordWrap});e.getModel().onDidChangeContent(n=>{this.$emit("update:modelValue",e.getModel().getValue()),this.editorResize()}),this.getEditor=()=>e},getEditor(){return!1},setValue(i){let t=this.getEditor();t&&t.getModel().setValue&&t.getModel().setValue(i)},editorResize(){let i=this.getEditor();i&&i.layout()},onWindowResize(){this.editorResize()}},mounted(){this.monacoInit(),setTimeout(()=>this.onWindowResize(),200),window.addEventListener("resize",()=>this.onWindowResize())},beforeUnmount(){window.addEventListener("resize",()=>this.onWindowResize())}},zT={ref:"monaco",style:{width:"100%",height:"300px"}};function IT(i,t,e,n,s,o){return F(),q("div",zT,null,512)}const xl=St(DT,[["render",IT]]),RT={meta:{active:!1,icon:"mdi-bookmark-plus-outline",name:"Bookmark App",description:"Gera aplicaes que rodam diretamente da barra de favoritos.",source:"https://github.com/labscriptdev/labscriptdev.github.io/tree/main/pages/lab/index/bookapp"},mounted(){this.iframeRefresh()},methods:{browserTest(){const i=window.open("","_blank","width=600,height=600");i.document.write('<!DOCTYPE html><html lang="en"><head></head><body><script>'+this.app.build()+"(true);<\/script></body></html>"),i.focus()},onDrop(i){let t=i.dataTransfer.getData("text/plain");console.log(t)},iframeRefresh:da.debounce(function(){this.$refs.iframe.src="javascript:"+this.app.build()+".run()",console.log(this.$refs.iframe.src)},1e3)},data(){return{app:new ug({dependencies:[{tag:"script",url:"https://unpkg.com/axios@1.2.0/dist/axios.min.js"},{tag:"script",url:"https://unpkg.com/vue@3.2.45/dist/vue.global.prod.js"},{tag:"script",url:"https://cdn.jsdelivr.net/npm/vuetify@3.0.3/dist/vuetify.min.js"},{tag:"link",url:"https://cdn.jsdelivr.net/npm/vuetify@3.0.3/dist/vuetify.min.css"},{tag:"link",url:"https://cdn.jsdelivr.net/npm/@mdi/font@6.9.96/css/materialdesignicons.min.css"}],source:["customElements.define('the-app', Vue.defineCustomElement({","   styles: [","     '@import url(https://cdn.jsdelivr.net/npm/vuetify@3.0.5/dist/vuetify.min.css);',","     '@import url(https://cdn.jsdelivr.net/npm/@mdi/font@6.9.96/css/materialdesignicons.min.css);',","   ],","   setup() {","     const app = Vue.createApp();","     app.use(Vuetify.createVuetify());","     Object.assign(Vue.getCurrentInstance(), {","       appContext: app._context,","       provides: app._context.provides,","     });","   },","",'   data: () => ({ test: "Hello World" }),',"   template: `<div>",'     <v-text-field v-model="test" label="Hello"></v-text-field>',"     <pre>{{ $data }}</pre>","   </div>`,","}));","","document.body.appendChild(document.createElement('the-app'));"].join(`
`)})}}},VT={class:"d-flex align-center",style:{gap:"20px"}},BT=P("div",null,"Arraste para sua rea de bookmarks: ",-1),jT=P("br",null,null,-1),NT=P("br",null,null,-1),FT=P("br",null,null,-1),$T={src:"about:blank",ref:"iframe",style:{width:"100%",height:"100%",border:"none"},class:"elevation-5 rounded"},HT={class:"mx-auto",style:{width:"600px","max-width":"95vw"}},WT={key:0,class:"text-center pa-3"},UT={class:"d-flex align-center my-3"},ZT={class:"handle pa-2"},GT={class:"flex-grow-1"},YT={class:"pa-2"};function qT(i,t,e,n,s,o){const a=I("v-btn"),l=xl,u=I("v-col"),d=I("v-row"),f=I("v-text-field"),m=I("v-combobox"),g=I("vv-draggable"),b=I("v-card-text"),y=I("v-divider"),v=I("v-spacer"),w=I("v-card-actions"),k=I("v-card"),S=I("v-dialog"),O=At;return F(),et(O,{title:"Bookapp"},{drawer:M(()=>[T(b,null,{default:M(()=>[T(f,{modelValue:s.app.name,"onUpdate:modelValue":t[4]||(t[4]=E=>s.app.name=E),label:"Nome"},null,8,["modelValue"]),T(S,null,{activator:M(({props:E})=>[T(a,Et({block:""},E,{ref:"dependsBtn"}),{default:M(()=>[J("Dependencias")]),_:2},1040)]),default:M(()=>[P("div",HT,[T(k,null,{default:M(()=>[T(b,{style:{"max-height":"80vh",overflow:"auto"}},{default:M(()=>[s.app.dependencies.length==0?(F(),q("div",WT," Nenhuma dependncia criada ")):Zt("",!0),T(g,{modelValue:s.app.dependencies,"onUpdate:modelValue":t[5]||(t[5]=E=>s.app.dependencies=E),handle:".handle"},{item:M(({element:E})=>[P("div",UT,[P("div",ZT,[T(a,{flat:"",size:"small",icon:"mdi-dots-grid"})]),P("div",null,[T(m,{modelValue:E.tag,"onUpdate:modelValue":A=>E.tag=A,label:"Tipo",items:["script","link"],"hide-details":!0},null,8,["modelValue","onUpdate:modelValue"])]),P("div",GT,[T(f,{modelValue:E.url,"onUpdate:modelValue":A=>E.url=A,label:"URL","hide-details":!0},null,8,["modelValue","onUpdate:modelValue"])]),P("div",YT,[T(a,{flat:"",size:"small",icon:"mdi-close",onClick:A=>s.app.dependencyRemove(E)},null,8,["onClick"])])])]),_:1},8,["modelValue"]),P("pre",null,G(s.app),1)]),_:1}),T(y),T(w,null,{default:M(()=>[T(a,{color:"primary",onClick:t[6]||(t[6]=E=>s.app.dependencyAdd())},{default:M(()=>[J("Criar")]),_:1}),T(v),T(a,{onClick:t[7]||(t[7]=E=>i.$refs.dependsBtn.$el.click())},{default:M(()=>[J("Fechar")]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1})]),default:M(()=>[P("div",VT,[BT,T(a,{href:`javascript:${s.app.build()}`},{default:M(()=>[J(G(s.app.name||"Bookapp"),1)]),_:1},8,["href"])]),jT,P("div",{class:"py-5 text-center border",onDrop:t[0]||(t[0]=Rr(E=>o.onDrop(E),["prevent"])),onDragenter:t[1]||(t[1]=Rr(()=>{},["prevent"])),onDragover:t[2]||(t[2]=Rr(()=>{},["prevent"]))}," Drop here ",32),NT,T(d,null,{default:M(()=>[T(u,{cols:"12",md:"7"},{default:M(()=>[T(l,{modelValue:s.app.source,"onUpdate:modelValue":t[3]||(t[3]=E=>s.app.source=E),language:"javascript"},null,8,["modelValue"]),FT,T(l,{"model-value":s.app.build(),language:"javascript",style:{height:"400px"},"word-wrap":"on"},null,8,["model-value"])]),_:1}),T(u,{cols:"12",md:"5"},{default:M(()=>[P("iframe",$T,null,512)]),_:1})]),_:1})]),_:1})}const dm=St(RT,[["render",qT]]),AC=Object.freeze(Object.defineProperty({__proto__:null,default:dm},Symbol.toStringTag,{value:"Module"})),KT={meta:{active:!1,icon:"mdi-calculator",name:"Calculadora de gastos",description:"Calculadora de gastos com diviso por pessoas e tempo de uso",source:"https://github.com/labscriptdev/labscriptdev.github.io/tree/main/pages/lab/index/calcdiv"},mounted(){this.calculator.demo()},data(){return{calculator:new dg}},computed:{result(){return this.calculator.result()}}},XT=P("thead",null,[P("tr",null,[P("th",null,"Pessoa")])],-1),QT=P("thead",null,[P("tr",null,[P("th",null,"Item"),P("th",null,"Valor")])],-1),JT=P("thead",null,[P("tr",null,[P("th",null,"Pessoa"),P("th",null,"Total")])],-1);function tM(i,t,e,n,s,o){const a=I("v-text-field"),l=I("v-table"),u=I("v-col"),d=I("v-row"),f=At;return F(),et(f,null,{default:M(()=>[T(d,null,{default:M(()=>[T(u,{cols:"4"},{default:M(()=>[T(l,null,{default:M(()=>[XT,P("tbody",null,[(F(!0),q(dt,null,pt(s.calculator.users,m=>(F(),q("tr",{key:m.id},[P("td",null,[T(a,{modelValue:m.name,"onUpdate:modelValue":g=>m.name=g,"hide-details":!0,variant:"plain"},null,8,["modelValue","onUpdate:modelValue"])])]))),128))])]),_:1})]),_:1}),T(u,{cols:"4"},{default:M(()=>[T(l,null,{default:M(()=>[QT,P("tbody",null,[(F(!0),q(dt,null,pt(s.calculator.spends,m=>(F(),q("tr",{key:m.id},[P("td",null,[T(a,{modelValue:m.name,"onUpdate:modelValue":g=>m.name=g,"hide-details":!0,variant:"plain"},null,8,["modelValue","onUpdate:modelValue"])]),P("td",null,[T(a,{modelValue:m.amount,"onUpdate:modelValue":g=>m.amount=g,modelModifiers:{number:!0},"hide-details":!0,variant:"plain"},null,8,["modelValue","onUpdate:modelValue"])])]))),128))])]),_:1})]),_:1}),T(u,{cols:"4"},{default:M(()=>[T(l,null,{default:M(()=>[JT,P("tbody",null,[(F(!0),q(dt,null,pt(o.result.users,m=>(F(),q("tr",{key:m.id},[P("td",null,G(m.name),1),P("td",null,G(m.amount),1)]))),128))])]),_:1})]),_:1})]),_:1}),P("pre",null,"result: "+G(o.result),1),P("pre",null,"$data: "+G(i.$data),1)]),_:1})}const hm=St(KT,[["render",tM]]),EC=Object.freeze(Object.defineProperty({__proto__:null,default:hm},Symbol.toStringTag,{value:"Module"}));var Ra={},eM={get exports(){return Ra},set exports(i){Ra=i}};(function(i,t){(function(e,n){i.exports=n()})(Na,function(){var e,n,s=1e3,o=6e4,a=36e5,l=864e5,u=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d=31536e6,f=2592e6,m=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,g={years:d,months:f,days:l,hours:a,minutes:o,seconds:s,milliseconds:1,weeks:6048e5},b=function(A){return A instanceof E},y=function(A,D,z){return new E(A,z,D.$l)},v=function(A){return n.p(A)+"s"},w=function(A){return A<0},k=function(A){return w(A)?Math.ceil(A):Math.floor(A)},S=function(A){return Math.abs(A)},O=function(A,D){return A?w(A)?{negative:!0,format:""+S(A)+D}:{negative:!1,format:""+A+D}:{negative:!1,format:""}},E=function(){function A(z,N,$){var j=this;if(this.$d={},this.$l=$,z===void 0&&(this.$ms=0,this.parseFromMilliseconds()),N)return y(z*g[v(N)],this);if(typeof z=="number")return this.$ms=z,this.parseFromMilliseconds(),this;if(typeof z=="object")return Object.keys(z).forEach(function(K){j.$d[v(K)]=z[K]}),this.calMilliseconds(),this;if(typeof z=="string"){var Z=z.match(m);if(Z){var U=Z.slice(2).map(function(K){return K!=null?Number(K):0});return this.$d.years=U[0],this.$d.months=U[1],this.$d.weeks=U[2],this.$d.days=U[3],this.$d.hours=U[4],this.$d.minutes=U[5],this.$d.seconds=U[6],this.calMilliseconds(),this}}return this}var D=A.prototype;return D.calMilliseconds=function(){var z=this;this.$ms=Object.keys(this.$d).reduce(function(N,$){return N+(z.$d[$]||0)*g[$]},0)},D.parseFromMilliseconds=function(){var z=this.$ms;this.$d.years=k(z/d),z%=d,this.$d.months=k(z/f),z%=f,this.$d.days=k(z/l),z%=l,this.$d.hours=k(z/a),z%=a,this.$d.minutes=k(z/o),z%=o,this.$d.seconds=k(z/s),z%=s,this.$d.milliseconds=z},D.toISOString=function(){var z=O(this.$d.years,"Y"),N=O(this.$d.months,"M"),$=+this.$d.days||0;this.$d.weeks&&($+=7*this.$d.weeks);var j=O($,"D"),Z=O(this.$d.hours,"H"),U=O(this.$d.minutes,"M"),K=this.$d.seconds||0;this.$d.milliseconds&&(K+=this.$d.milliseconds/1e3);var it=O(K,"S"),H=z.negative||N.negative||j.negative||Z.negative||U.negative||it.negative,X=Z.format||U.format||it.format?"T":"",rt=(H?"-":"")+"P"+z.format+N.format+j.format+X+Z.format+U.format+it.format;return rt==="P"||rt==="-P"?"P0D":rt},D.toJSON=function(){return this.toISOString()},D.format=function(z){var N=z||"YYYY-MM-DDTHH:mm:ss",$={Y:this.$d.years,YY:n.s(this.$d.years,2,"0"),YYYY:n.s(this.$d.years,4,"0"),M:this.$d.months,MM:n.s(this.$d.months,2,"0"),D:this.$d.days,DD:n.s(this.$d.days,2,"0"),H:this.$d.hours,HH:n.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:n.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:n.s(this.$d.seconds,2,"0"),SSS:n.s(this.$d.milliseconds,3,"0")};return N.replace(u,function(j,Z){return Z||String($[j])})},D.as=function(z){return this.$ms/g[v(z)]},D.get=function(z){var N=this.$ms,$=v(z);return $==="milliseconds"?N%=1e3:N=$==="weeks"?k(N/g[$]):this.$d[$],N===0?0:N},D.add=function(z,N,$){var j;return j=N?z*g[v(N)]:b(z)?z.$ms:y(z,this).$ms,y(this.$ms+j*($?-1:1),this)},D.subtract=function(z,N){return this.add(z,N,!0)},D.locale=function(z){var N=this.clone();return N.$l=z,N},D.clone=function(){return y(this.$ms,this)},D.humanize=function(z){return e().add(this.$ms,"ms").locale(this.$l).fromNow(!z)},D.milliseconds=function(){return this.get("milliseconds")},D.asMilliseconds=function(){return this.as("milliseconds")},D.seconds=function(){return this.get("seconds")},D.asSeconds=function(){return this.as("seconds")},D.minutes=function(){return this.get("minutes")},D.asMinutes=function(){return this.as("minutes")},D.hours=function(){return this.get("hours")},D.asHours=function(){return this.as("hours")},D.days=function(){return this.get("days")},D.asDays=function(){return this.as("days")},D.weeks=function(){return this.get("weeks")},D.asWeeks=function(){return this.as("weeks")},D.months=function(){return this.get("months")},D.asMonths=function(){return this.as("months")},D.years=function(){return this.get("years")},D.asYears=function(){return this.as("years")},A}();return function(A,D,z){e=z,n=z().$utils(),z.duration=function(j,Z){var U=z.locale();return y(j,{$l:U},Z)},z.isDuration=b;var N=D.prototype.add,$=D.prototype.subtract;D.prototype.add=function(j,Z){return b(j)&&(j=j.asMilliseconds()),N.bind(this)(j,Z)},D.prototype.subtract=function(j,Z){return b(j)&&(j=j.asMilliseconds()),$.bind(this)(j,Z)}}})})(eM);const iM=Ra;var Va={},nM={get exports(){return Va},set exports(i){Va=i}};(function(i,t){(function(e,n){i.exports=n()})(Na,function(){return function(e,n,s){e=e||{};var o=n.prototype,a={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function l(d,f,m,g){return o.fromToBase(d,f,m,g)}s.en.relativeTime=a,o.fromToBase=function(d,f,m,g,b){for(var y,v,w,k=m.$locale().relativeTime||a,S=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],O=S.length,E=0;E<O;E+=1){var A=S[E];A.d&&(y=g?s(d).diff(m,A.d,!0):m.diff(d,A.d,!0));var D=(e.rounding||Math.round)(Math.abs(y));if(w=y>0,D<=A.r||!A.r){D<=1&&E>0&&(A=S[E-1]);var z=k[A.l];b&&(D=b(""+D)),v=typeof z=="string"?z.replace("%d",D):z(D,f,A.l,w);break}}if(f)return v;var N=w?k.future:k.past;return typeof N=="function"?N(v):N.replace("%s",v)},o.to=function(d,f){return l(d,f,this,!0)},o.from=function(d,f){return l(d,f,this)};var u=function(d){return d.$u?s.utc():s()};o.toNow=function(d){return this.to(u(this),d)},o.fromNow=function(d){return this.from(u(this),d)}}})})(nM);const sM=Va;function oM(i={}){const{$dayjs:t,$axios:e}=ng();t.extend(iM),t.extend(sM),i={storageKey:"clockify",params:{},timeEntryParse:a=>a,...i},i.params={dateStart:t().startOf("month").format("YYYY-MM-DDTHH:mm:ss.000z"),dateFinal:t().endOf("month").format("YYYY-MM-DDTHH:mm:ss.000z"),dateToday:t.utc().format("YYYY-MM-DDTHH:mm:ss.000z"),workspaceId:!1,...i.params};const n=sg(i.storageKey,{token:"",amountPerHour:13,amountCurrency:"BRL",amountGoal:1e3,currencyFrom:i.currencyFrom,currencyTo:i.currencyTo,securityMode:!1,invoiceNumber:"",invoiceContractorInfo:"",invoiceProviderName:"",invoiceProviderInfo:"",invoiceProviderServiceDescription:"",invoiceProviderFeeDescription:"",invoiceFeeHusky:.02,invoiceThanks:"",invoiceProviderAccountAddress:"",invoiceProviderAccountIban:"",invoiceProviderAccountSwiftCode:"",invoiceProviderAccountBankName:"",invoiceProviderAccountBankAddress:""}),s=async a=>e.request({...a,url:["https://api.clockify.me/api/v1",a.url.replace(/^\/|\/$/g,"")].join("/"),headers:{"X-Api-Key":n.value.token}}),o=Qt({ready:!1,params:i.params,user:{loading:!1,data:!1,error:!1,async load(){this.loading=!0,this.data=!1;try{const{data:a}=await s({url:"/user"});this.data={id:a.id,name:a.name,email:a.email,profilePicture:a.profilePicture,activeWorkspace:a.activeWorkspace,defaultWorkspace:a.defaultWorkspace},o.value.params.workspaceId||(o.value.params.workspaceId=a.activeWorkspace)}catch(a){this.error=a.response}this.loading=!1}},workspace:{loading:!1,data:[],error:!1,async load(){this.loading=!0,this.data=[];try{const{data:a}=await s({url:"/workspaces"});this.data=a}catch(a){this.error=a.response}this.loading=!1}},timeEntry:{loading:!1,workedMinutes:0,data:[],error:!1,async load(){this.loading&&clearTimeout(this.loading),this.loading=setTimeout(async()=>{this.workedMinutes=0,this.data=[];try{const{data:a}=await s({url:`/workspaces/${o.value.params.workspaceId}/user/${o.value.user.data.id}/time-entries`,params:{start:o.value.params.dateStart,end:o.value.params.dateFinal}});this.data=a.map(this.timeEntryParse),this.workedMinutes=this.data.reduce((l,u)=>l+u.workedMinutes,0)}catch(a){this.error=a.response}this.loading=!1,o.value.datesGenerate(),o.value.resultGenerate(),o.value.chartsGenerate()},1e3)},timeEntryParse(a){return a.workedMinutes=(()=>a.timeInterval.end?Math.abs(t(a.timeInterval.start).diff(a.timeInterval.end,"minute")):Math.abs(t(a.timeInterval.start).diff(t(),"minute")))(),i.timeEntryParse(a)}},storage:n,currency:{loading:!1,data:{},error:!1,async load(){this.loading&&clearTimeout(this.loading),this.loading=setTimeout(async()=>{this.data={};try{const{data:a}=await e.get(`https://api.exchangerate.host/latest?base=${o.value.storage.currencyFrom}`);this.data=a.rates}catch(a){this.error=a.response}this.loading=!1},1e3)}},rangeDays(){let a=Math.abs(t(o.value.params.dateStart).diff(o.value.params.dateFinal,"days"));return Array.from(Array(a+1).keys()).map(l=>t.utc(o.value.params.dateStart).add(l,"days"))},dates:[],datesGenerate(){this.dates=this.rangeDays().map(a=>({id:a.format("YYYY-MM-DD"),dayjs:a,is:{today:a.format("YYYY-MM-DD")==t(o.value.params.dateToday).format("YYYY-MM-DD"),workingDay:![0,6].includes(a.day())},entries:o.value.timeEntry.data.filter(l=>t(l.timeInterval.start).format("YYYY-MM-DD")==a.format("YYYY-MM-DD"))}))},result:{ready:!1},resultGenerate(){const a=this.rangeDays().filter(d=>![0,6].includes(d.day())),l=d=>(d={description:"",value:0,formatted:f=>f.value,...d},typeof d.value=="function"&&(d.value=d.value(d)),typeof d.description=="function"&&(d.description=d.description(d)),typeof d.formatted=="function"&&(d.formatted=d.formatted(d)),d);let u={ready:!0};u.rangeWorkExpected=l({description:`Tempo total esperado para trabalhar (${a.length} dias teis)`,value:60*8*a.length,formatted:d=>`${(d.value/60).toFixed(0)} horas`}),u.rangeWorkWorked=l({description:"Tempo total trabalhado",value:o.value.timeEntry.workedMinutes,formatted:d=>`${(d.value/60).toFixed(0)} horas`}),u.rangeWorkWorkedPercent=l({description:d=>`${d.value.toFixed(0)}% do ms trabalhado`,value:u.rangeWorkWorked.value/u.rangeWorkExpected.value*100,formatted:d=>d.value.toFixed(0)+"%"}),u.amountTotal=l({description:"Total para receber",value:o.value.timeEntry.workedMinutes/60*o.value.storage.amountPerHour,formatted:d=>`${this.currencyFormat(d.value)} (${o.value.storage.currencyFrom}) / ${this.currencyConvert(d.value)} (${o.value.storage.currencyTo})`}),u.amountFee=l({description:"Taxas",value:u.amountTotal.value*parseFloat(o.value.storage.invoiceFeeHusky||0),formatted:d=>`${this.currencyFormat(d.value)} (${o.value.storage.currencyFrom}) / ${this.currencyConvert(d.value)} (${o.value.storage.currencyTo})`}),u.rangeWorkDayAverage=l({description:d=>"Quantidade de horas dirias para alcanar a meta",value:d=>{const f=Math.abs(t().diff(o.value.params.dateFinal,"days")),g=(o.value.storage.amountGoal-u.amountTotal.value)/o.value.storage.amountPerHour;return Math.ceil(g/f)},formatted:d=>`${d.value} horas / dia`}),u.amountGoal=l({description:"Meta mensal",value:o.value.storage.amountGoal,formatted:d=>`${this.currencyFormat(d.value)} (${o.value.storage.currencyFrom}) / ${this.currencyConvert(d.value)} (${o.value.storage.currencyTo})`}),u.amountGoalPercent=l({description:d=>`${d.value.toFixed(0)}% do valor da meta alcanada`,value:u.amountTotal.value/o.value.storage.amountGoal*100,formatted:d=>d.value.toFixed(0)+"%"}),this.result=u},chart:{},chartsGenerate(){const a=(u={})=>{u={name:"No name",type:"bar",data:{},options:{},chartLoad:()=>{},...u};for(let d in u)if(typeof u[d]=="function"){if(d=="chartLoad")continue;u[d]=u[d]()}return{name:u.name,chartLoad:u.chartLoad,chartBind:{type:u.type,data:u.data,options:u.options}}};let l={};l.tasksPerDay=a({name:"Tarefas",type:"bar",options:{responsive:!0,plugins:{legend:{display:!1,position:"top"},title:{display:!0,text:"Tarefas"},tooltip:{callbacks:{title:()=>!1,label:u=>" "+u.dataset.label,footer:u=>"     "+u.map(d=>d.raw).join("")+" horas"}}},scales:{x:{stacked:!0},y:{stacked:!0}}},data:()=>{const u=this.dates.map(f=>f.dayjs.format("DD ddd"));let d=[];return Object.entries(this.dates).forEach(([f,m])=>{Object.entries(m.entries).forEach(([g,b])=>{let y=this.dates.map((v,w)=>w!=f?0:b.workedMinutes/60);d.push({label:b.description,data:y})})}),{labels:u,datasets:d}}}),l.hourPerDay=a({name:"Tarefas",type:"bar",options:{responsive:!0,plugins:{legend:{display:!1,position:"top"},title:{display:!0,text:"Tarefas"}}},data:()=>{const u=this.dates.map(f=>f.dayjs.format("DD ddd"));console.clear();const d=[{label:"Aaa",data:this.dates.map(f=>f.entries.reduce((m,g)=>g.workedMinutes/60+m,0))}];return console.log(JSON.stringify({datasets:d}," ",2)),{labels:u,datasets:d}}}),l.exchange=a({name:"Exchange",type:"line",options:{responsive:!0,plugins:{legend:{position:"bottom"},title:{display:!0,text:"Exchange"}}},data:{},chartLoad:async u=>{u.data.labels=this.dates.map(m=>m.dayjs.format("DD ddd"));const d={start_date:t.utc(this.params.dateStart).format("YYYY-MM-DD"),end_date:t.utc(this.params.dateFinal).format("YYYY-MM-DD"),symbols:`${this.storage.currencyFrom},${this.storage.currencyTo}`},{data:f}=await ua.get("https://api.exchangerate.host/timeseries",{params:d});u.data.datasets=[{label:this.storage.currencyFrom,data:Object.values(f.rates).map(m=>m[this.storage.currencyFrom]||null),tension:.3},{label:this.storage.currencyTo,data:Object.values(f.rates).map(m=>m[this.storage.currencyTo]||null),tension:.3}],u.update()}}),l.targetValue=a({name:"Meta x valor alcanado",type:"bar",options:{responsive:!0,indexAxis:"y",plugins:{legend:{position:"bottom"},title:{display:!0,text:"Meta x valor alcanado"}}},data:()=>{const u=[""],d=[{label:"Total",data:[this.storage.amountGoal]},{label:"Alcanado",data:[this.result.amountTotal.value]}];return{labels:u,datasets:d}}}),this.chart=l},counter:{interval:!1,time:59,async init(){this.interval&&clearInterval(this.interval),this.interval=setInterval(async()=>{this.time--,this.time<=0&&(await o.value.currency.load(),await o.value.timeEntry.load(),this.time=59)},1e3)},async restart(){return this.time=0,await this.init()}},timeHumanize(a){return[{value:Math.floor(a/60/24/30),signal:"ms"},{value:Math.floor(a/60/24),signal:"dia(s)"},{value:Math.floor(a/60),signal:"hs"},{value:a%60,signal:"m"}].filter(l=>l.value>0).map(l=>l.value+l.signal).join(", ")},dateAdd(a,l){o.value.params.dateStart=t(o.value.params.dateStart).add(a,l).format("YYYY-MM-DDTHH:mm:ss.000z"),o.value.params.dateFinal=t(o.value.params.dateFinal).add(a,l).format("YYYY-MM-DDTHH:mm:ss.000z")},monthAdd(a){const l=t(o.value.params.dateFinal).add(a,"month").startOf("month"),u=t(l).endOf("month");o.value.params.dateStart=l.format("YYYY-MM-DDTHH:mm:ss.000z"),o.value.params.dateFinal=u.format("YYYY-MM-DDTHH:mm:ss.000z")},currencyFormat(a,l=2,u=",",d="."){let[f,m]=parseFloat(a).toFixed(l).split(".");return f=f.split("").reverse().join("").replace(/(\d{3})/g,`$1${d}`).split("").reverse().join(""),[f,m].join(u).replace(new RegExp(`^\\${d}`,"g"),"")},currencyConvert(a,l=!0){const u=n.value.currencyTo;return a=a*o.value.currency.data[u]||1,l?this.currencyFormat(a):a},async init(){await o.value.user.load(),await o.value.workspace.load(),await o.value.timeEntry.load(),await o.value.currency.load(),await o.value.counter.init(),o.value.ready=!0}});return o.value.init(),ls([o.value.params],async([a])=>{await o.value.currency.load(),await o.value.timeEntry.load()}),ls([o.value.storage],async([a])=>{o.value.datesGenerate(),o.value.resultGenerate(),o.value.chartsGenerate()}),Go(()=>{}),Bd(()=>{clearInterval(o.value.counter.interval)}),o}const rM={meta:{active:!0,icon:"mdi-alarm-check",name:"Clockify",description:"Gerenciamento e clculo de horas trabalhadas utilizando o app Clockify",source:"https://github.com/labscriptdev/labscriptdev.github.io/tree/main/pages/lab/index/clockify"},methods:{contentPrint(){const i=window.open("","","height=500, width=500");i.document.write(this.$refs.iframe.getIframe().value.contentWindow.document.body.innerHTML),i.document.close(),i.print(),i.close()}},mounted(){},data(){return{clockify:oM({timeEntryParse(i){return i.workedMinutesPercent=Math.min(100,i.workedMinutes/(60*14)*100),i}}),calendarDisplay:"range",dateStart:!1,dateFinal:!1}}},aM={class:"d-flex align-center bg-primary pa-2 mb-3 rounded"},lM={class:"flex-grow-1 text-center text-h4"},cM={style:{"white-space":"nowrap","font-size":"10px"}},uM={class:"flex-grow-1 d-flex flex-column justify-end",style:{gap:"3px"}},dM=["title"],hM=P("br",null,null,-1),fM=P("br",null,null,-1),mM={class:"d-flex align-center"},pM={class:"fw-bold ms-3"},gM={key:1,class:"fw-bold ms-3"},_M={style:{width:"90vw","max-width":"600px!important",margin:"0 auto"}},bM=P("a",{href:"https://app.clockify.me/user/settings",target:"_blank"}," Acesse sua tela de configuraes Clockify para gerar o token. ",-1),vM=P("br",null,null,-1),yM=P("br",null,null,-1),xM={class:"d-flex align-center mb-6",style:{gap:"15px"}},wM=P("span",{class:"me-2"},"Print",-1),kM={class:"mx-auto",style:{width:"800px","max-width":"90vw"}},TM=P("colgroup",null,[P("col",{width:"70%"}),P("col",{width:"30%"})],-1),MM={class:"high"},SM=P("br",null,null,-1),PM=P("td",null,null,-1),LM=P("br",null,null,-1),CM=P("colgroup",null,[P("col",{width:"40%"}),P("col",{width:"20%"}),P("col",{width:"20%"}),P("col",{width:"20%"})],-1),AM=P("tr",{class:"high"},[P("th",null,"Description"),P("th",null,"Qty"),P("th",null,"Unit. price"),P("th",null,"Amount (AUD)")],-1),EM=P("td",null,"1",-1),OM=P("td",null,"1",-1),DM=P("td",null,null,-1),zM=P("td",null,null,-1),IM=P("th",{class:"high"},"Total:",-1),RM={class:"high"},VM=P("br",null,null,-1),BM=P("colgroup",null,[P("col",{width:"40%"}),P("col",{width:"60%"})],-1),jM=P("tr",{class:"high"},[P("th",null,"Accont info"),P("th",null,"")],-1),NM=P("td",null,"Beneficiary",-1),FM=P("td",null,"Beneficiary account (IBAN)",-1),$M=P("td",null,"Swift code",-1),HM=P("td",null,"Bank",-1),WM=P("td",null,"Bank Address",-1),UM=P("br",null,null,-1),ZM={class:"high"};function GM(i,t,e,n,s,o){const a=I("v-btn"),l=I("v-slide-group-item"),u=I("v-slide-group"),d=I("v-col"),f=I("v-row"),m=P0,g=I("v-table"),b=I("v-img"),y=I("v-avatar"),v=I("v-text-field"),w=I("v-autocomplete"),k=I("v-switch"),S=I("v-card-text"),O=I("v-divider"),E=I("v-spacer"),A=I("v-card-actions"),D=I("v-card"),z=I("v-dialog"),N=I("v-list-subheader"),$=I("v-list-item"),j=I("v-list"),Z=I("v-icon"),U=hg,K=C0,it=At;return F(),et(it,{title:"Clockify","container-width":"100%"},{drawer:M(()=>[T(S,null,{default:M(()=>[P("div",mM,[s.clockify.user.data?(F(),q(dt,{key:0},[T(y,null,{default:M(()=>[T(b,{src:s.clockify.user.data.profilePicture},null,8,["src"])]),_:1}),P("div",pM,G(s.clockify.user.data.name),1)],64)):Zt("",!0),s.clockify.user.data?Zt("",!0):(F(),q("div",gM,"Hello Anonimous!")),T(z,null,{activator:M(({props:H})=>[T(a,Et({icon:"mdi-cog",class:"ms-auto",flat:"",size:"20"},H,{ref:"settingsBtn"}),null,16)]),default:M(()=>[P("div",_M,[T(D,null,{default:M(()=>[T(S,null,{default:M(()=>[bM,vM,yM,T(v,{label:"Token",modelValue:s.clockify.storage.token,"onUpdate:modelValue":t[2]||(t[2]=H=>s.clockify.storage.token=H),class:fn({"security-mode":s.clockify.storage.securityMode})},null,8,["modelValue","class"]),P("div",xM,[T(v,{label:"Converter de",modelValue:s.clockify.storage.amountPerHour,"onUpdate:modelValue":t[3]||(t[3]=H=>s.clockify.storage.amountPerHour=H),modelModifiers:{number:!0},type:"number","hide-details":!0},null,8,["modelValue"]),T(w,{modelValue:s.clockify.storage.currencyFrom,"onUpdate:modelValue":t[4]||(t[4]=H=>s.clockify.storage.currencyFrom=H),items:Object.keys(s.clockify.currency.data),"hide-details":!0,style:{width:"150px"}},null,8,["modelValue","items"]),T(w,{label:"Para",modelValue:s.clockify.storage.currencyTo,"onUpdate:modelValue":t[5]||(t[5]=H=>s.clockify.storage.currencyTo=H),items:Object.keys(s.clockify.currency.data),"hide-details":!0,style:{width:"150px"}},null,8,["modelValue","items"])]),T(v,{label:`Meta (${s.clockify.storage.currencyFrom})`,modelValue:s.clockify.storage.amountGoal,"onUpdate:modelValue":t[6]||(t[6]=H=>s.clockify.storage.amountGoal=H),modelModifiers:{number:!0},type:"number",suffix:`${s.clockify.currencyConvert(s.clockify.storage.amountGoal)} ${s.clockify.storage.currencyTo}`,class:fn({"security-mode":s.clockify.storage.securityMode})},null,8,["label","modelValue","suffix","class"]),T(k,{modelValue:s.clockify.storage.securityMode,"onUpdate:modelValue":t[7]||(t[7]=H=>s.clockify.storage.securityMode=H),"hide-details":"",label:s.clockify.storage.securityMode?"Protegendo valores sensveis":"Exibindo valores sensveis"},null,8,["modelValue","label"])]),_:1}),T(O),T(A,null,{default:M(()=>[T(E),T(a,{onClick:t[8]||(t[8]=H=>{i.$refs.settingsBtn.$el.click(),s.clockify.init()})},{default:M(()=>[J("Ok")]),_:1})]),_:1})]),_:1})])]),_:1})])]),_:1}),T(O),T(j,null,{default:M(()=>[T(N,null,{default:M(()=>[J("Workspaces")]),_:1}),(F(!0),q(dt,null,pt(s.clockify.workspace.data,H=>(F(),et($,{key:H.id,active:H.id==s.clockify.params.workspaceId},{append:M(()=>[T(a,{icon:"mdi-open-in-new",variant:"text",onClick:X=>s.clockify.params.workspaceId=H.id},null,8,["onClick"])]),default:M(()=>[J(G(H.name)+" ",1)]),_:2},1032,["active"]))),128))]),_:1}),T(O),T(S),T(O),T(S,null,{default:M(()=>[T(z,null,{activator:M(({props:H})=>[T(a,Et({block:""},H,{ref:"downloadPdfBtn"}),{default:M(()=>[wM,J(),T(Z,null,{default:M(()=>[J("mdi-printer")]),_:1})]),_:2},1040)]),default:M(()=>[P("div",kM,[T(D,null,{default:M(()=>[T(S,{style:{"max-height":"90vh",overflow:"auto"}},{default:M(()=>[T(K,{style:{height:"750px"},ref:"iframe"},{style:M(()=>[J(" * {box-sizing:border-box;} html, body, .v-content-text * {font-family:monospace!important; padding:0!important; margin:0!important; print-color-adjust:exact !important;} table {width:100%; border-collapse:separate; border-spacing:0; border:solid 1px #ffc762;} th, td {padding:10px; text-align:left;} tr.high th, tr.high td, th.high, td.high {background-color:#ffc762;} hr {margin:15px 0!important; border:none; border-top:solid 1px #ffc76266;} ")]),default:M(()=>[P("table",null,[TM,P("thead",null,[P("tr",MM,[P("th",null,[T(U,{modelValue:s.clockify.storage.invoiceProviderName,"onUpdate:modelValue":t[9]||(t[9]=H=>s.clockify.storage.invoiceProviderName=H)},null,8,["modelValue"])]),P("th",null,[T(U,{modelValue:s.clockify.storage.invoiceNumber,"onUpdate:modelValue":t[10]||(t[10]=H=>s.clockify.storage.invoiceNumber=H),prepend:"Invoice #"},null,8,["modelValue"])])])]),P("tbody",null,[P("tr",null,[P("td",null,[T(U,{modelValue:s.clockify.storage.invoiceProviderName,"onUpdate:modelValue":t[11]||(t[11]=H=>s.clockify.storage.invoiceProviderName=H)},null,8,["modelValue"]),T(U,{modelValue:s.clockify.storage.invoiceProviderInfo,"onUpdate:modelValue":t[12]||(t[12]=H=>s.clockify.storage.invoiceProviderInfo=H)},null,8,["modelValue"]),SM,T(U,{modelValue:s.clockify.storage.invoiceContractorInfo,"onUpdate:modelValue":t[13]||(t[13]=H=>s.clockify.storage.invoiceContractorInfo=H)},null,8,["modelValue"])]),PM])])]),LM,P("table",null,[CM,P("tbody",null,[AM,P("tr",null,[P("td",null,[T(U,{modelValue:s.clockify.storage.invoiceProviderServiceDescription,"onUpdate:modelValue":t[14]||(t[14]=H=>s.clockify.storage.invoiceProviderServiceDescription=H)},null,8,["modelValue"]),J(" "+G(i.$dayjs.utc(s.clockify.params.dateStart).format("DD"))+" ~ "+G(i.$dayjs.utc(s.clockify.params.dateFinal).format("DD"))+" "+G(i.$dayjs.utc(s.clockify.params.dateStart).format("MMMM")),1)]),EM,P("td",null,G(s.clockify.currencyFormat(s.clockify.result.amountTotal.value)),1),P("th",null,G(s.clockify.currencyFormat(s.clockify.result.amountTotal.value)),1)]),P("tr",null,[P("td",null,[T(U,{modelValue:s.clockify.storage.invoiceProviderFeeDescription,"onUpdate:modelValue":t[15]||(t[15]=H=>s.clockify.storage.invoiceProviderFeeDescription=H)},null,8,["modelValue"])]),P("td",null,[T(U,{modelValue:s.clockify.storage.invoiceFeeHusky,"onUpdate:modelValue":t[16]||(t[16]=H=>s.clockify.storage.invoiceFeeHusky=H)},null,8,["modelValue"])]),OM,P("th",null,G(s.clockify.currencyFormat(s.clockify.result.amountFee.value)),1)]),P("tr",null,[DM,zM,IM,P("th",RM,G(s.clockify.currencyFormat(s.clockify.result.amountTotal.value+s.clockify.result.amountFee.value)),1)])])]),VM,P("table",null,[BM,P("tbody",null,[jM,P("tr",null,[NM,P("td",null,[T(U,{modelValue:s.clockify.storage.invoiceProviderName,"onUpdate:modelValue":t[17]||(t[17]=H=>s.clockify.storage.invoiceProviderName=H)},null,8,["modelValue"])])]),P("tr",null,[FM,P("td",null,[T(U,{modelValue:s.clockify.storage.invoiceProviderAccountIban,"onUpdate:modelValue":t[18]||(t[18]=H=>s.clockify.storage.invoiceProviderAccountIban=H)},null,8,["modelValue"])])]),P("tr",null,[$M,P("td",null,[T(U,{modelValue:s.clockify.storage.invoiceProviderAccountSwiftCode,"onUpdate:modelValue":t[19]||(t[19]=H=>s.clockify.storage.invoiceProviderAccountSwiftCode=H)},null,8,["modelValue"])])]),P("tr",null,[HM,P("td",null,[T(U,{modelValue:s.clockify.storage.invoiceProviderAccountBankName,"onUpdate:modelValue":t[20]||(t[20]=H=>s.clockify.storage.invoiceProviderAccountBankName=H)},null,8,["modelValue"])])]),P("tr",null,[WM,P("td",null,[T(U,{modelValue:s.clockify.storage.invoiceProviderAccountBankAddress,"onUpdate:modelValue":t[21]||(t[21]=H=>s.clockify.storage.invoiceProviderAccountBankAddress=H)},null,8,["modelValue"])])])])]),UM,P("table",null,[P("tbody",null,[P("tr",null,[P("th",ZM,[T(U,{modelValue:s.clockify.storage.invoiceThanks,"onUpdate:modelValue":t[22]||(t[22]=H=>s.clockify.storage.invoiceThanks=H),placeholder:"Thanks"},null,8,["modelValue"])])])])])]),_:1},512)]),_:1}),T(O),T(A,null,{default:M(()=>[T(E),T(a,{onClick:t[23]||(t[23]=H=>o.contentPrint()),color:"primary"},{default:M(()=>[J("Print")]),_:1}),T(a,{onClick:t[24]||(t[24]=H=>{i.$refs.downloadPdfBtn.$el.click()})},{default:M(()=>[J("Ok")]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1}),T(O),T(S,null,{default:M(()=>[P("a",{href:"javascript:;",class:"d-block text-disabled text-caption text-right mt-1",onClick:t[25]||(t[25]=H=>s.clockify.counter.restart())}," Atualizando em "+G(s.clockify.counter.time),1)]),_:1})]),default:M(()=>[T(f,null,{default:M(()=>[T(d,{cols:"12"},{default:M(()=>[P("div",aM,[T(a,{onClick:t[0]||(t[0]=H=>s.clockify.monthAdd(-1))},{default:M(()=>[J("Ms anterior")]),_:1}),P("div",lM,G(i.$dayjs.utc(s.clockify.params.dateStart).format("MMMM"))+" "+G(i.$dayjs.utc(s.clockify.params.dateStart).format("YYYY")),1),T(a,{onClick:t[1]||(t[1]=H=>s.clockify.monthAdd(1))},{default:M(()=>[J("Prximo ms")]),_:1})]),T(u,{"model-value":i.$dayjs(s.clockify.params.dateToday).format("YYYY-MM-DD"),"show-arrows":"","center-active":"",class:"elevation-2 py-3"},{default:M(()=>[(F(!0),q(dt,null,pt(s.clockify.dates,H=>(F(),et(l,{key:H.id,value:H.dayjs.format("YYYY-MM-DD")},{default:M(()=>[P("div",{class:fn(["d-flex flex-column border rounded mx-1",{"bg-green-lighten-4":H.is.today,"bg-grey-lighten-4":!H.is.today}]),style:{gap:"2px",padding:"2px","min-width":"70px","max-width":"70px",height:"300px"}},[P("div",{class:fn(["text-center py-2 fw-bold rounded",{"bg-green-lighten-2":H.is.today,"bg-grey-lighten-2":!H.is.today}]),style:{"font-size":"12px"}},[P("div",null,G(H.dayjs.format("ddd")),1),P("div",null,G(H.dayjs.format("DD")),1),P("div",cM," "+G(s.clockify.timeHumanize(H.entries.reduce((X,rt)=>X+rt.workedMinutes,0))),1)],2),P("div",uM,[(F(!0),q(dt,null,pt(H.entries,X=>(F(),q("div",{title:`${X.description} - ${X.workedMinutes} minutes worked`,class:fn(["text-center overflow-hidden d-flex align-center justify-center rounded",{"bg-green-lighten-2":s.clockify.timeEntry.working&&s.clockify.timeEntry.working.id==X.id,"bg-grey-lighten-2":!(s.clockify.timeEntry.working&&s.clockify.timeEntry.working.id==X.id)}]),style:Ie([{height:`${X.workedMinutesPercent}%`},{"font-size":"10px","white-space":"nowrap"}])},[P("div",null,G(s.clockify.timeHumanize(X.workedMinutes)),1)],14,dM))),256))])],2)]),_:2},1032,["value"]))),128))]),_:1},8,["model-value"])]),_:1})]),_:1}),hM,T(f,{"no-gutters":""},{default:M(()=>[T(d,{cols:"12",md:"8"},{default:M(()=>[T(f,{"no-gutters":""},{default:M(()=>[T(d,{cols:"12"},{default:M(()=>[s.clockify.chart.tasksPerDay?(F(),et(m,Et({key:0,style:{height:"300px"}},s.clockify.chart.tasksPerDay.chartBind,{onChart:s.clockify.chart.tasksPerDay.chartLoad}),null,16,["onChart"])):Zt("",!0)]),_:1}),T(d,{cols:"12"},{default:M(()=>[s.clockify.chart.hourPerDay?(F(),et(m,Et({key:0,style:{height:"300px"}},s.clockify.chart.hourPerDay.chartBind,{onChart:s.clockify.chart.hourPerDay.chartLoad}),null,16,["onChart"])):Zt("",!0)]),_:1})]),_:1})]),_:1}),T(d,{cols:"12",md:"4"},{default:M(()=>[T(f,{"no-gutters":""},{default:M(()=>[T(d,{cols:"12"},{default:M(()=>[s.clockify.chart.exchange?(F(),et(m,Et({key:0,style:{height:"300px"}},s.clockify.chart.exchange.chartBind,{onChart:s.clockify.chart.exchange.chartLoad}),null,16,["onChart"])):Zt("",!0)]),_:1}),T(d,{cols:"12"},{default:M(()=>[s.clockify.chart.targetValue?(F(),et(m,Et({key:0,style:{height:"300px"}},s.clockify.chart.targetValue.chartBind,{onChart:s.clockify.chart.targetValue.chartLoad}),null,16,["onChart"])):Zt("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),fM,T(g,{class:"elevation-2"},{default:M(()=>[P("tbody",null,[(F(!0),q(dt,null,pt(Object.entries(s.clockify.result),([H,X])=>(F(),q("tr",null,[H!="ready"?(F(),q(dt,{key:0},[P("td",null,G(X.description),1),P("td",null,G(X.formatted),1)],64)):Zt("",!0)]))),256))])]),_:1})]),_:1})}const fm=St(rM,[["render",GM]]),OC=Object.freeze(Object.defineProperty({__proto__:null,default:fm},Symbol.toStringTag,{value:"Module"}));const YM={meta:{active:!1,icon:"mdi-content-copy",name:"App Clone",description:"Vuetify app clone view",source:"https://github.com/labscriptdev/labscriptdev.github.io/tree/main/pages/lab/index/clone"},data(){return{style:{zoom:.9},items:(()=>Object.entries(Object.assign({"./index/twitter/info.js":fg,"./index/whatsapp-web/info.js":mg})).map(([t,e])=>{const n=this.$route.path.split("/").filter(s=>s);return{icon:!1,to:t.replace(/.+index\/(.+?)\/.+/g,`/${n[0]}/${n[1]}/$1`),name:"",...e}}))()}}},qM={class:"rounded overflow-hidden"},KM={class:"ms-2"};function XM(i,t,e,n,s,o){const a=I("v-icon"),l=I("v-system-bar"),u=Fi,d=I("v-list-item"),f=I("v-list"),m=I("v-slider"),g=At;return F(),et(g,{"container-card":!1,"container-width":"100%"},{drawer:M(()=>[T(f,null,{default:M(()=>[(F(!0),q(dt,null,pt(s.items,b=>(F(),et(d,{key:b.to,to:b.to,"prepend-icon":b.icon},{default:M(()=>[J(G(b.name),1)]),_:2},1032,["to","prepend-icon"]))),128))]),_:1}),T(m,{label:`Zoom: ${s.style.zoom}`,modelValue:s.style.zoom,"onUpdate:modelValue":t[0]||(t[0]=b=>s.style.zoom=b),modelModifiers:{number:!0},min:.5,max:2,step:.01},null,8,["label","modelValue","step"])]),default:M(()=>[P("div",qM,[T(l,{color:"primary",style:{position:"static!important",width:"100%!important"},class:"pa-4"},{default:M(()=>[T(a,{icon:"mdi-wifi-strength-4"}),T(a,{icon:"mdi-signal",class:"ms-2"}),T(a,{icon:"mdi-battery",class:"ms-2"}),P("span",KM,G(i.$dayjs().format("HH:mm")),1)]),_:1}),P("div",{class:"page-lab-clone-system-content bg-white",style:Ie(s.style)},[T(u)],4)])]),_:1})}const mm=St(YM,[["render",XM]]),DC=Object.freeze(Object.defineProperty({__proto__:null,default:mm},Symbol.toStringTag,{value:"Module"})),QM={extends:xl,props:{modified:{type:String,default:""}},watch:{$props:{deep:!0,handler(i){this.setModel(i.modelValue,i.modified),this.editorResize()}}},methods:{async monacoInit(){const t=await(await Vd(()=>import("./index.e78d5407.js"),[],import.meta.url).then(o=>o==null?void 0:o.default)).init();um(t,["html","php"]);let e=t.editor.createModel(this.modelValue,this.language),n=t.editor.createModel(this.modified,this.language);const s=t.editor.createDiffEditor(this.$refs.monaco);s.setModel({original:e,modified:n}),this.setModel=(o,a)=>{o=t.editor.createModel(o,this.language),a=t.editor.createModel(a,this.language),s.setModel({original:o,modified:a})},this.getEditor=()=>s}}},JM={meta:{active:!0,icon:"mdi-set-left",name:"Ferramenta diff",description:"Comparao de cdigos, textos e afins",source:"https://github.com/labscriptdev/labscriptdev.github.io/tree/main/pages/lab/index/diff"},data:()=>({original:"",modified:""}),methods:{parseDiffGit(i){if(["<<<<<<<","=======",">>>>>>>"].map(t=>i.includes(t)?1:0).join("")==111){let[t,e]=i.split("=======");t=t.split(`
`),t.shift(),this.original=t.join(`
`),e=e.split(`
`),e.shift(),e.pop(),e.pop(),this.modified=e.join(`
`)}}}},tS=P("div",null,"Original",-1),eS=P("div",null,"Modified",-1),iS=P("div",null,"Diff",-1);function nS(i,t,e,n,s,o){const a=xl,l=I("v-col"),u=QM,d=I("v-row"),f=At;return F(),et(f,Et({title:"Diff"},{drawerShow:!1,fluid:!1}),{default:M(()=>[T(d,null,{default:M(()=>[T(l,{cols:"12",md:"6"},{default:M(()=>[tS,T(a,{style:{height:"40vh"},modelValue:i.original,"onUpdate:modelValue":[t[0]||(t[0]=m=>i.original=m),t[1]||(t[1]=m=>o.parseDiffGit(m))]},null,8,["modelValue"])]),_:1}),T(l,{cols:"12",md:"6"},{default:M(()=>[eS,T(a,{style:{height:"40vh"},modelValue:i.modified,"onUpdate:modelValue":t[2]||(t[2]=m=>i.modified=m)},null,8,["modelValue"])]),_:1}),T(l,{cols:"12",md:"12"},{default:M(()=>[iS,T(u,{style:{height:"40vh"},"model-value":i.original,modified:i.modified},null,8,["model-value","modified"])]),_:1})]),_:1})]),_:1},16)}const pm=St(JM,[["render",nS]]),zC=Object.freeze(Object.defineProperty({__proto__:null,default:pm},Symbol.toStringTag,{value:"Module"}));class sS extends jd{constructor(t){super(t),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(e){return new cS(e)}),this.register(function(e){return new gS(e)}),this.register(function(e){return new _S(e)}),this.register(function(e){return new dS(e)}),this.register(function(e){return new hS(e)}),this.register(function(e){return new fS(e)}),this.register(function(e){return new mS(e)}),this.register(function(e){return new lS(e)}),this.register(function(e){return new pS(e)}),this.register(function(e){return new uS(e)}),this.register(function(e){return new rS(e)}),this.register(function(e){return new bS(e)}),this.register(function(e){return new vS(e)})}load(t,e,n,s){const o=this;let a;this.resourcePath!==""?a=this.resourcePath:this.path!==""?a=this.path:a=Ii.extractUrlBase(t),this.manager.itemStart(t);const l=function(d){s?s(d):console.error(d),o.manager.itemError(t),o.manager.itemEnd(t)},u=new $a(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(t,function(d){try{o.parse(d,a,function(f){e(f),o.manager.itemEnd(t)},l)}catch(f){l(f)}},n,l)}setDRACOLoader(t){return this.dracoLoader=t,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(t){return this.ktx2Loader=t,this}setMeshoptDecoder(t){return this.meshoptDecoder=t,this}register(t){return this.pluginCallbacks.indexOf(t)===-1&&this.pluginCallbacks.push(t),this}unregister(t){return this.pluginCallbacks.indexOf(t)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,e,n,s){let o;const a={},l={};if(typeof t=="string")o=JSON.parse(t);else if(t instanceof ArrayBuffer)if(Ii.decodeText(new Uint8Array(t,0,4))===gm){try{a[yt.KHR_BINARY_GLTF]=new yS(t)}catch(f){s&&s(f);return}o=JSON.parse(a[yt.KHR_BINARY_GLTF].content)}else o=JSON.parse(Ii.decodeText(new Uint8Array(t)));else o=t;if(o.asset===void 0||o.asset.version[0]<2){s&&s(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new DS(o,{path:e||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let d=0;d<this.pluginCallbacks.length;d++){const f=this.pluginCallbacks[d](u);l[f.name]=f,a[f.name]=!0}if(o.extensionsUsed)for(let d=0;d<o.extensionsUsed.length;++d){const f=o.extensionsUsed[d],m=o.extensionsRequired||[];switch(f){case yt.KHR_MATERIALS_UNLIT:a[f]=new aS;break;case yt.KHR_DRACO_MESH_COMPRESSION:a[f]=new xS(o,this.dracoLoader);break;case yt.KHR_TEXTURE_TRANSFORM:a[f]=new wS;break;case yt.KHR_MESH_QUANTIZATION:a[f]=new kS;break;default:m.indexOf(f)>=0&&l[f]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}u.setExtensions(a),u.setPlugins(l),u.parse(n,s)}parseAsync(t,e){const n=this;return new Promise(function(s,o){n.parse(t,e,s,o)})}}function oS(){let i={};return{get:function(t){return i[t]},add:function(t,e){i[t]=e},remove:function(t){delete i[t]},removeAll:function(){i={}}}}const yt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class rS{constructor(t){this.parser=t,this.name=yt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const t=this.parser,e=this.parser.json.nodes||[];for(let n=0,s=e.length;n<s;n++){const o=e[n];o.extensions&&o.extensions[this.name]&&o.extensions[this.name].light!==void 0&&t._addNodeRef(this.cache,o.extensions[this.name].light)}}_loadLight(t){const e=this.parser,n="light:"+t;let s=e.cache.get(n);if(s)return s;const o=e.json,u=((o.extensions&&o.extensions[this.name]||{}).lights||[])[t];let d;const f=new Ke(16777215);u.color!==void 0&&f.fromArray(u.color);const m=u.range!==void 0?u.range:0;switch(u.type){case"directional":d=new Nd(f),d.target.position.set(0,0,-1),d.add(d.target);break;case"point":d=new gg(f),d.distance=m;break;case"spot":d=new pg(f),d.distance=m,u.spot=u.spot||{},u.spot.innerConeAngle=u.spot.innerConeAngle!==void 0?u.spot.innerConeAngle:0,u.spot.outerConeAngle=u.spot.outerConeAngle!==void 0?u.spot.outerConeAngle:Math.PI/4,d.angle=u.spot.outerConeAngle,d.penumbra=1-u.spot.innerConeAngle/u.spot.outerConeAngle,d.target.position.set(0,0,-1),d.add(d.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+u.type)}return d.position.set(0,0,0),d.decay=2,oi(d,u),u.intensity!==void 0&&(d.intensity=u.intensity),d.name=e.createUniqueName(u.name||"light_"+t),s=Promise.resolve(d),e.cache.add(n,s),s}getDependency(t,e){if(t==="light")return this._loadLight(e)}createNodeAttachment(t){const e=this,n=this.parser,o=n.json.nodes[t],l=(o.extensions&&o.extensions[this.name]||{}).light;return l===void 0?null:this._loadLight(l).then(function(u){return n._getNodeRef(e.cache,l,u)})}}class aS{constructor(){this.name=yt.KHR_MATERIALS_UNLIT}getMaterialType(){return mn}extendParams(t,e,n){const s=[];t.color=new Ke(1,1,1),t.opacity=1;const o=e.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){const a=o.baseColorFactor;t.color.fromArray(a),t.opacity=a[3]}o.baseColorTexture!==void 0&&s.push(n.assignTexture(t,"map",o.baseColorTexture,cs))}return Promise.all(s)}}class lS{constructor(t){this.parser=t,this.name=yt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(t,e){const s=this.parser.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const o=s.extensions[this.name].emissiveStrength;return o!==void 0&&(e.emissiveIntensity=o),Promise.resolve()}}class cS{constructor(t){this.parser=t,this.name=yt.KHR_MATERIALS_CLEARCOAT}getMaterialType(t){const n=this.parser.json.materials[t];return!n.extensions||!n.extensions[this.name]?null:mi}extendMaterialParams(t,e){const n=this.parser,s=n.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const o=[],a=s.extensions[this.name];if(a.clearcoatFactor!==void 0&&(e.clearcoat=a.clearcoatFactor),a.clearcoatTexture!==void 0&&o.push(n.assignTexture(e,"clearcoatMap",a.clearcoatTexture)),a.clearcoatRoughnessFactor!==void 0&&(e.clearcoatRoughness=a.clearcoatRoughnessFactor),a.clearcoatRoughnessTexture!==void 0&&o.push(n.assignTexture(e,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),a.clearcoatNormalTexture!==void 0&&(o.push(n.assignTexture(e,"clearcoatNormalMap",a.clearcoatNormalTexture)),a.clearcoatNormalTexture.scale!==void 0)){const l=a.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new re(l,l)}return Promise.all(o)}}class uS{constructor(t){this.parser=t,this.name=yt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(t){const n=this.parser.json.materials[t];return!n.extensions||!n.extensions[this.name]?null:mi}extendMaterialParams(t,e){const n=this.parser,s=n.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const o=[],a=s.extensions[this.name];return a.iridescenceFactor!==void 0&&(e.iridescence=a.iridescenceFactor),a.iridescenceTexture!==void 0&&o.push(n.assignTexture(e,"iridescenceMap",a.iridescenceTexture)),a.iridescenceIor!==void 0&&(e.iridescenceIOR=a.iridescenceIor),e.iridescenceThicknessRange===void 0&&(e.iridescenceThicknessRange=[100,400]),a.iridescenceThicknessMinimum!==void 0&&(e.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),a.iridescenceThicknessMaximum!==void 0&&(e.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),a.iridescenceThicknessTexture!==void 0&&o.push(n.assignTexture(e,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(o)}}class dS{constructor(t){this.parser=t,this.name=yt.KHR_MATERIALS_SHEEN}getMaterialType(t){const n=this.parser.json.materials[t];return!n.extensions||!n.extensions[this.name]?null:mi}extendMaterialParams(t,e){const n=this.parser,s=n.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const o=[];e.sheenColor=new Ke(0,0,0),e.sheenRoughness=0,e.sheen=1;const a=s.extensions[this.name];return a.sheenColorFactor!==void 0&&e.sheenColor.fromArray(a.sheenColorFactor),a.sheenRoughnessFactor!==void 0&&(e.sheenRoughness=a.sheenRoughnessFactor),a.sheenColorTexture!==void 0&&o.push(n.assignTexture(e,"sheenColorMap",a.sheenColorTexture,cs)),a.sheenRoughnessTexture!==void 0&&o.push(n.assignTexture(e,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(o)}}class hS{constructor(t){this.parser=t,this.name=yt.KHR_MATERIALS_TRANSMISSION}getMaterialType(t){const n=this.parser.json.materials[t];return!n.extensions||!n.extensions[this.name]?null:mi}extendMaterialParams(t,e){const n=this.parser,s=n.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const o=[],a=s.extensions[this.name];return a.transmissionFactor!==void 0&&(e.transmission=a.transmissionFactor),a.transmissionTexture!==void 0&&o.push(n.assignTexture(e,"transmissionMap",a.transmissionTexture)),Promise.all(o)}}class fS{constructor(t){this.parser=t,this.name=yt.KHR_MATERIALS_VOLUME}getMaterialType(t){const n=this.parser.json.materials[t];return!n.extensions||!n.extensions[this.name]?null:mi}extendMaterialParams(t,e){const n=this.parser,s=n.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const o=[],a=s.extensions[this.name];e.thickness=a.thicknessFactor!==void 0?a.thicknessFactor:0,a.thicknessTexture!==void 0&&o.push(n.assignTexture(e,"thicknessMap",a.thicknessTexture)),e.attenuationDistance=a.attenuationDistance||1/0;const l=a.attenuationColor||[1,1,1];return e.attenuationColor=new Ke(l[0],l[1],l[2]),Promise.all(o)}}class mS{constructor(t){this.parser=t,this.name=yt.KHR_MATERIALS_IOR}getMaterialType(t){const n=this.parser.json.materials[t];return!n.extensions||!n.extensions[this.name]?null:mi}extendMaterialParams(t,e){const s=this.parser.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const o=s.extensions[this.name];return e.ior=o.ior!==void 0?o.ior:1.5,Promise.resolve()}}class pS{constructor(t){this.parser=t,this.name=yt.KHR_MATERIALS_SPECULAR}getMaterialType(t){const n=this.parser.json.materials[t];return!n.extensions||!n.extensions[this.name]?null:mi}extendMaterialParams(t,e){const n=this.parser,s=n.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const o=[],a=s.extensions[this.name];e.specularIntensity=a.specularFactor!==void 0?a.specularFactor:1,a.specularTexture!==void 0&&o.push(n.assignTexture(e,"specularIntensityMap",a.specularTexture));const l=a.specularColorFactor||[1,1,1];return e.specularColor=new Ke(l[0],l[1],l[2]),a.specularColorTexture!==void 0&&o.push(n.assignTexture(e,"specularColorMap",a.specularColorTexture,cs)),Promise.all(o)}}class gS{constructor(t){this.parser=t,this.name=yt.KHR_TEXTURE_BASISU}loadTexture(t){const e=this.parser,n=e.json,s=n.textures[t];if(!s.extensions||!s.extensions[this.name])return null;const o=s.extensions[this.name],a=e.options.ktx2Loader;if(!a){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return e.loadTextureImage(t,o.source,a)}}class _S{constructor(t){this.parser=t,this.name=yt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(t){const e=this.name,n=this.parser,s=n.json,o=s.textures[t];if(!o.extensions||!o.extensions[e])return null;const a=o.extensions[e],l=s.images[a.source];let u=n.textureLoader;if(l.uri){const d=n.options.manager.getHandler(l.uri);d!==null&&(u=d)}return this.detectSupport().then(function(d){if(d)return n.loadTextureImage(t,a.source,u);if(s.extensionsRequired&&s.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const e=new Image;e.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",e.onload=e.onerror=function(){t(e.height===1)}})),this.isSupported}}class bS{constructor(t){this.name=yt.EXT_MESHOPT_COMPRESSION,this.parser=t}loadBufferView(t){const e=this.parser.json,n=e.bufferViews[t];if(n.extensions&&n.extensions[this.name]){const s=n.extensions[this.name],o=this.parser.getDependency("buffer",s.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(e.extensionsRequired&&e.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return o.then(function(l){const u=s.byteOffset||0,d=s.byteLength||0,f=s.count,m=s.byteStride,g=new Uint8Array(l,u,d);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(f,m,g,s.mode,s.filter).then(function(b){return b.buffer}):a.ready.then(function(){const b=new ArrayBuffer(f*m);return a.decodeGltfBuffer(new Uint8Array(b),f,m,g,s.mode,s.filter),b})})}else return null}}class vS{constructor(t){this.name=yt.EXT_MESH_GPU_INSTANCING,this.parser=t}createNodeMesh(t){const e=this.parser.json,n=e.nodes[t];if(!n.extensions||!n.extensions[this.name]||n.mesh===void 0)return null;const s=e.meshes[n.mesh];for(const d of s.primitives)if(d.mode!==ge.TRIANGLES&&d.mode!==ge.TRIANGLE_STRIP&&d.mode!==ge.TRIANGLE_FAN&&d.mode!==void 0)return null;const a=n.extensions[this.name].attributes,l=[],u={};for(const d in a)l.push(this.parser.getDependency("accessor",a[d]).then(f=>(u[d]=f,u[d])));return l.length<1?null:(l.push(this.parser.createNodeMesh(t)),Promise.all(l).then(d=>{const f=d.pop(),m=f.isGroup?f.children:[f],g=d[0].count,b=[];for(const y of m){const v=new Ri,w=new Tt,k=new Ze,S=new Tt(1,1,1),O=new _g(y.geometry,y.material,g);for(let E=0;E<g;E++)u.TRANSLATION&&w.fromBufferAttribute(u.TRANSLATION,E),u.ROTATION&&k.fromBufferAttribute(u.ROTATION,E),u.SCALE&&S.fromBufferAttribute(u.SCALE,E),O.setMatrixAt(E,v.compose(w,k,S));for(const E in u)E!=="TRANSLATION"&&E!=="ROTATION"&&E!=="SCALE"&&y.geometry.setAttribute(E,u[E]);Fd.prototype.copy.call(O,y),O.frustumCulled=!1,this.parser.assignFinalMaterial(O),b.push(O)}return f.isGroup?(f.clear(),f.add(...b),f):b[0]}))}}const gm="glTF",Gn=12,wd={JSON:1313821514,BIN:5130562};class yS{constructor(t){this.name=yt.KHR_BINARY_GLTF,this.content=null,this.body=null;const e=new DataView(t,0,Gn);if(this.header={magic:Ii.decodeText(new Uint8Array(t.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==gm)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-Gn,s=new DataView(t,Gn);let o=0;for(;o<n;){const a=s.getUint32(o,!0);o+=4;const l=s.getUint32(o,!0);if(o+=4,l===wd.JSON){const u=new Uint8Array(t,Gn+o,a);this.content=Ii.decodeText(u)}else if(l===wd.BIN){const u=Gn+o;this.body=t.slice(u,u+a)}o+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class xS{constructor(t,e){if(!e)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=yt.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=e,this.dracoLoader.preload()}decodePrimitive(t,e){const n=this.json,s=this.dracoLoader,o=t.extensions[this.name].bufferView,a=t.extensions[this.name].attributes,l={},u={},d={};for(const f in a){const m=Ba[f]||f.toLowerCase();l[m]=a[f]}for(const f in t.attributes){const m=Ba[f]||f.toLowerCase();if(a[f]!==void 0){const g=n.accessors[t.attributes[f]],b=xn[g.componentType];d[m]=b.name,u[m]=g.normalized===!0}}return e.getDependency("bufferView",o).then(function(f){return new Promise(function(m){s.decodeDracoFile(f,function(g){for(const b in g.attributes){const y=g.attributes[b],v=u[b];v!==void 0&&(y.normalized=v)}m(g)},l,d)})})}}class wS{constructor(){this.name=yt.KHR_TEXTURE_TRANSFORM}extendTexture(t,e){return e.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),e.offset===void 0&&e.rotation===void 0&&e.scale===void 0||(t=t.clone(),e.offset!==void 0&&t.offset.fromArray(e.offset),e.rotation!==void 0&&(t.rotation=e.rotation),e.scale!==void 0&&t.repeat.fromArray(e.scale),t.needsUpdate=!0),t}}class kS{constructor(){this.name=yt.KHR_MESH_QUANTIZATION}}class _m extends Fg{constructor(t,e,n,s){super(t,e,n,s)}copySampleValue_(t){const e=this.resultBuffer,n=this.sampleValues,s=this.valueSize,o=t*s*3+s;for(let a=0;a!==s;a++)e[a]=n[o+a];return e}interpolate_(t,e,n,s){const o=this.resultBuffer,a=this.sampleValues,l=this.valueSize,u=l*2,d=l*3,f=s-e,m=(n-e)/f,g=m*m,b=g*m,y=t*d,v=y-d,w=-2*b+3*g,k=b-g,S=1-w,O=k-g+m;for(let E=0;E!==l;E++){const A=a[v+E+l],D=a[v+E+u]*f,z=a[y+E+l],N=a[y+E]*f;o[E]=S*A+O*D+w*z+k*N}return o}}const TS=new Ze;class MS extends _m{interpolate_(t,e,n,s){const o=super.interpolate_(t,e,n,s);return TS.fromArray(o).normalize().toArray(o),o}}const ge={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},xn={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},kd={9728:Pg,9729:Hd,9984:Lg,9985:Cg,9986:Ag,9987:Wd},Td={33071:Eg,33648:Og,10497:ha},ra={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Ba={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},si={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},SS={CUBICSPLINE:void 0,LINEAR:Yd,STEP:Dg},aa={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function PS(i){return i.DefaultMaterial===void 0&&(i.DefaultMaterial=new Ha({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:zg})),i.DefaultMaterial}function Yn(i,t,e){for(const n in e.extensions)i[n]===void 0&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[n]=e.extensions[n])}function oi(i,t){t.extras!==void 0&&(typeof t.extras=="object"?Object.assign(i.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function LS(i,t,e){let n=!1,s=!1,o=!1;for(let d=0,f=t.length;d<f;d++){const m=t[d];if(m.POSITION!==void 0&&(n=!0),m.NORMAL!==void 0&&(s=!0),m.COLOR_0!==void 0&&(o=!0),n&&s&&o)break}if(!n&&!s&&!o)return Promise.resolve(i);const a=[],l=[],u=[];for(let d=0,f=t.length;d<f;d++){const m=t[d];if(n){const g=m.POSITION!==void 0?e.getDependency("accessor",m.POSITION):i.attributes.position;a.push(g)}if(s){const g=m.NORMAL!==void 0?e.getDependency("accessor",m.NORMAL):i.attributes.normal;l.push(g)}if(o){const g=m.COLOR_0!==void 0?e.getDependency("accessor",m.COLOR_0):i.attributes.color;u.push(g)}}return Promise.all([Promise.all(a),Promise.all(l),Promise.all(u)]).then(function(d){const f=d[0],m=d[1],g=d[2];return n&&(i.morphAttributes.position=f),s&&(i.morphAttributes.normal=m),o&&(i.morphAttributes.color=g),i.morphTargetsRelative=!0,i})}function CS(i,t){if(i.updateMorphTargets(),t.weights!==void 0)for(let e=0,n=t.weights.length;e<n;e++)i.morphTargetInfluences[e]=t.weights[e];if(t.extras&&Array.isArray(t.extras.targetNames)){const e=t.extras.targetNames;if(i.morphTargetInfluences.length===e.length){i.morphTargetDictionary={};for(let n=0,s=e.length;n<s;n++)i.morphTargetDictionary[e[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function AS(i){const t=i.extensions&&i.extensions[yt.KHR_DRACO_MESH_COMPRESSION];let e;return t?e="draco:"+t.bufferView+":"+t.indices+":"+Md(t.attributes):e=i.indices+":"+Md(i.attributes)+":"+i.mode,e}function Md(i){let t="";const e=Object.keys(i).sort();for(let n=0,s=e.length;n<s;n++)t+=e[n]+":"+i[e[n]]+";";return t}function ja(i){switch(i){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function ES(i){return i.search(/\.jpe?g($|\?)/i)>0||i.search(/^data\:image\/jpeg/)===0?"image/jpeg":i.search(/\.webp($|\?)/i)>0||i.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const OS=new Ri;class DS{constructor(t={},e={}){this.json=t,this.extensions={},this.plugins={},this.options=e,this.cache=new oS,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,s=!1,o=-1;typeof navigator<"u"&&(n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,s=navigator.userAgent.indexOf("Firefox")>-1,o=s?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||n||s&&o<98?this.textureLoader=new $d(this.options.manager):this.textureLoader=new bg(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new $a(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(t){this.extensions=t}setPlugins(t){this.plugins=t}parse(t,e){const n=this,s=this.json,o=this.extensions;this.cache.removeAll(),this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(a){const l={scene:a[0][s.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:s.asset,parser:n,userData:{}};Yn(o,l,s),oi(l,s),Promise.all(n._invokeAll(function(u){return u.afterRoot&&u.afterRoot(l)})).then(function(){t(l)})}).catch(e)}_markDefs(){const t=this.json.nodes||[],e=this.json.skins||[],n=this.json.meshes||[];for(let s=0,o=e.length;s<o;s++){const a=e[s].joints;for(let l=0,u=a.length;l<u;l++)t[a[l]].isBone=!0}for(let s=0,o=t.length;s<o;s++){const a=t[s];a.mesh!==void 0&&(this._addNodeRef(this.meshCache,a.mesh),a.skin!==void 0&&(n[a.mesh].isSkinnedMesh=!0)),a.camera!==void 0&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(t,e){e!==void 0&&(t.refs[e]===void 0&&(t.refs[e]=t.uses[e]=0),t.refs[e]++)}_getNodeRef(t,e,n){if(t.refs[e]<=1)return n;const s=n.clone(),o=(a,l)=>{const u=this.associations.get(a);u!=null&&this.associations.set(l,u);for(const[d,f]of a.children.entries())o(f,l.children[d])};return o(n,s),s.name+="_instance_"+t.uses[e]++,s}_invokeOne(t){const e=Object.values(this.plugins);e.push(this);for(let n=0;n<e.length;n++){const s=t(e[n]);if(s)return s}return null}_invokeAll(t){const e=Object.values(this.plugins);e.unshift(this);const n=[];for(let s=0;s<e.length;s++){const o=t(e[s]);o&&n.push(o)}return n}getDependency(t,e){const n=t+":"+e;let s=this.cache.get(n);if(!s){switch(t){case"scene":s=this.loadScene(e);break;case"node":s=this._invokeOne(function(o){return o.loadNode&&o.loadNode(e)});break;case"mesh":s=this._invokeOne(function(o){return o.loadMesh&&o.loadMesh(e)});break;case"accessor":s=this.loadAccessor(e);break;case"bufferView":s=this._invokeOne(function(o){return o.loadBufferView&&o.loadBufferView(e)});break;case"buffer":s=this.loadBuffer(e);break;case"material":s=this._invokeOne(function(o){return o.loadMaterial&&o.loadMaterial(e)});break;case"texture":s=this._invokeOne(function(o){return o.loadTexture&&o.loadTexture(e)});break;case"skin":s=this.loadSkin(e);break;case"animation":s=this._invokeOne(function(o){return o.loadAnimation&&o.loadAnimation(e)});break;case"camera":s=this.loadCamera(e);break;default:if(s=this._invokeOne(function(o){return o!=this&&o.getDependency&&o.getDependency(t,e)}),!s)throw new Error("Unknown type: "+t);break}this.cache.add(n,s)}return s}getDependencies(t){let e=this.cache.get(t);if(!e){const n=this,s=this.json[t+(t==="mesh"?"es":"s")]||[];e=Promise.all(s.map(function(o,a){return n.getDependency(t,a)})),this.cache.add(t,e)}return e}loadBuffer(t){const e=this.json.buffers[t],n=this.fileLoader;if(e.type&&e.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");if(e.uri===void 0&&t===0)return Promise.resolve(this.extensions[yt.KHR_BINARY_GLTF].body);const s=this.options;return new Promise(function(o,a){n.load(Ii.resolveURL(e.uri,s.path),o,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+e.uri+'".'))})})}loadBufferView(t){const e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then(function(n){const s=e.byteLength||0,o=e.byteOffset||0;return n.slice(o,o+s)})}loadAccessor(t){const e=this,n=this.json,s=this.json.accessors[t];if(s.bufferView===void 0&&s.sparse===void 0){const a=ra[s.type],l=xn[s.componentType],u=s.normalized===!0,d=new l(s.count*a);return Promise.resolve(new ts(d,a,u))}const o=[];return s.bufferView!==void 0?o.push(this.getDependency("bufferView",s.bufferView)):o.push(null),s.sparse!==void 0&&(o.push(this.getDependency("bufferView",s.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",s.sparse.values.bufferView))),Promise.all(o).then(function(a){const l=a[0],u=ra[s.type],d=xn[s.componentType],f=d.BYTES_PER_ELEMENT,m=f*u,g=s.byteOffset||0,b=s.bufferView!==void 0?n.bufferViews[s.bufferView].byteStride:void 0,y=s.normalized===!0;let v,w;if(b&&b!==m){const k=Math.floor(g/b),S="InterleavedBuffer:"+s.bufferView+":"+s.componentType+":"+k+":"+s.count;let O=e.cache.get(S);O||(v=new d(l,k*b,s.count*b/f),O=new vg(v,b/f),e.cache.add(S,O)),w=new Ig(O,u,g%b/f,y)}else l===null?v=new d(s.count*u):v=new d(l,g,s.count*u),w=new ts(v,u,y);if(s.sparse!==void 0){const k=ra.SCALAR,S=xn[s.sparse.indices.componentType],O=s.sparse.indices.byteOffset||0,E=s.sparse.values.byteOffset||0,A=new S(a[1],O,s.sparse.count*k),D=new d(a[2],E,s.sparse.count*u);l!==null&&(w=new ts(w.array.slice(),w.itemSize,w.normalized));for(let z=0,N=A.length;z<N;z++){const $=A[z];if(w.setX($,D[z*u]),u>=2&&w.setY($,D[z*u+1]),u>=3&&w.setZ($,D[z*u+2]),u>=4&&w.setW($,D[z*u+3]),u>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return w})}loadTexture(t){const e=this.json,n=this.options,o=e.textures[t].source,a=e.images[o];let l=this.textureLoader;if(a.uri){const u=n.manager.getHandler(a.uri);u!==null&&(l=u)}return this.loadTextureImage(t,o,l)}loadTextureImage(t,e,n){const s=this,o=this.json,a=o.textures[t],l=o.images[e],u=(l.uri||l.bufferView)+":"+a.sampler;if(this.textureCache[u])return this.textureCache[u];const d=this.loadImageSource(e,n).then(function(f){f.flipY=!1,f.name=a.name||l.name||"";const g=(o.samplers||{})[a.sampler]||{};return f.magFilter=kd[g.magFilter]||Hd,f.minFilter=kd[g.minFilter]||Wd,f.wrapS=Td[g.wrapS]||ha,f.wrapT=Td[g.wrapT]||ha,s.associations.set(f,{textures:t}),f}).catch(function(){return null});return this.textureCache[u]=d,d}loadImageSource(t,e){const n=this,s=this.json,o=this.options;if(this.sourceCache[t]!==void 0)return this.sourceCache[t].then(m=>m.clone());const a=s.images[t],l=self.URL||self.webkitURL;let u=a.uri||"",d=!1;if(a.bufferView!==void 0)u=n.getDependency("bufferView",a.bufferView).then(function(m){d=!0;const g=new Blob([m],{type:a.mimeType});return u=l.createObjectURL(g),u});else if(a.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");const f=Promise.resolve(u).then(function(m){return new Promise(function(g,b){let y=g;e.isImageBitmapLoader===!0&&(y=function(v){const w=new Tc(v);w.needsUpdate=!0,g(w)}),e.load(Ii.resolveURL(m,o.path),y,void 0,b)})}).then(function(m){return d===!0&&l.revokeObjectURL(u),m.userData.mimeType=a.mimeType||ES(a.uri),m}).catch(function(m){throw console.error("THREE.GLTFLoader: Couldn't load texture",u),m});return this.sourceCache[t]=f,f}assignTexture(t,e,n,s){const o=this;return this.getDependency("texture",n.index).then(function(a){if(!a)return null;if(n.texCoord!==void 0&&n.texCoord!=0&&!(e==="aoMap"&&n.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+e+" not yet supported."),o.extensions[yt.KHR_TEXTURE_TRANSFORM]){const l=n.extensions!==void 0?n.extensions[yt.KHR_TEXTURE_TRANSFORM]:void 0;if(l){const u=o.associations.get(a);a=o.extensions[yt.KHR_TEXTURE_TRANSFORM].extendTexture(a,l),o.associations.set(a,u)}}return s!==void 0&&(a.encoding=s),t[e]=a,a})}assignFinalMaterial(t){const e=t.geometry;let n=t.material;const s=e.attributes.tangent===void 0,o=e.attributes.color!==void 0,a=e.attributes.normal===void 0;if(t.isPoints){const l="PointsMaterial:"+n.uuid;let u=this.cache.get(l);u||(u=new pn,es.prototype.copy.call(u,n),u.color.copy(n.color),u.map=n.map,u.sizeAttenuation=!1,this.cache.add(l,u)),n=u}else if(t.isLine){const l="LineBasicMaterial:"+n.uuid;let u=this.cache.get(l);u||(u=new gn,es.prototype.copy.call(u,n),u.color.copy(n.color),this.cache.add(l,u)),n=u}if(s||o||a){let l="ClonedMaterial:"+n.uuid+":";s&&(l+="derivative-tangents:"),o&&(l+="vertex-colors:"),a&&(l+="flat-shading:");let u=this.cache.get(l);u||(u=n.clone(),o&&(u.vertexColors=!0),a&&(u.flatShading=!0),s&&(u.normalScale&&(u.normalScale.y*=-1),u.clearcoatNormalScale&&(u.clearcoatNormalScale.y*=-1)),this.cache.add(l,u),this.associations.set(u,this.associations.get(n))),n=u}n.aoMap&&e.attributes.uv2===void 0&&e.attributes.uv!==void 0&&e.setAttribute("uv2",e.attributes.uv),t.material=n}getMaterialType(){return Ha}loadMaterial(t){const e=this,n=this.json,s=this.extensions,o=n.materials[t];let a;const l={},u=o.extensions||{},d=[];if(u[yt.KHR_MATERIALS_UNLIT]){const m=s[yt.KHR_MATERIALS_UNLIT];a=m.getMaterialType(),d.push(m.extendParams(l,o,e))}else{const m=o.pbrMetallicRoughness||{};if(l.color=new Ke(1,1,1),l.opacity=1,Array.isArray(m.baseColorFactor)){const g=m.baseColorFactor;l.color.fromArray(g),l.opacity=g[3]}m.baseColorTexture!==void 0&&d.push(e.assignTexture(l,"map",m.baseColorTexture,cs)),l.metalness=m.metallicFactor!==void 0?m.metallicFactor:1,l.roughness=m.roughnessFactor!==void 0?m.roughnessFactor:1,m.metallicRoughnessTexture!==void 0&&(d.push(e.assignTexture(l,"metalnessMap",m.metallicRoughnessTexture)),d.push(e.assignTexture(l,"roughnessMap",m.metallicRoughnessTexture))),a=this._invokeOne(function(g){return g.getMaterialType&&g.getMaterialType(t)}),d.push(Promise.all(this._invokeAll(function(g){return g.extendMaterialParams&&g.extendMaterialParams(t,l)})))}o.doubleSided===!0&&(l.side=Ud);const f=o.alphaMode||aa.OPAQUE;if(f===aa.BLEND?(l.transparent=!0,l.depthWrite=!1):(l.transparent=!1,f===aa.MASK&&(l.alphaTest=o.alphaCutoff!==void 0?o.alphaCutoff:.5)),o.normalTexture!==void 0&&a!==mn&&(d.push(e.assignTexture(l,"normalMap",o.normalTexture)),l.normalScale=new re(1,1),o.normalTexture.scale!==void 0)){const m=o.normalTexture.scale;l.normalScale.set(m,m)}return o.occlusionTexture!==void 0&&a!==mn&&(d.push(e.assignTexture(l,"aoMap",o.occlusionTexture)),o.occlusionTexture.strength!==void 0&&(l.aoMapIntensity=o.occlusionTexture.strength)),o.emissiveFactor!==void 0&&a!==mn&&(l.emissive=new Ke().fromArray(o.emissiveFactor)),o.emissiveTexture!==void 0&&a!==mn&&d.push(e.assignTexture(l,"emissiveMap",o.emissiveTexture,cs)),Promise.all(d).then(function(){const m=new a(l);return o.name&&(m.name=o.name),oi(m,o),e.associations.set(m,{materials:t}),o.extensions&&Yn(s,m,o),m})}createUniqueName(t){const e=yg.sanitizeNodeName(t||"");let n=e;for(let s=1;this.nodeNamesUsed[n];++s)n=e+"_"+s;return this.nodeNamesUsed[n]=!0,n}loadGeometries(t){const e=this,n=this.extensions,s=this.primitiveCache;function o(l){return n[yt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(l,e).then(function(u){return Sd(u,l,e)})}const a=[];for(let l=0,u=t.length;l<u;l++){const d=t[l],f=AS(d),m=s[f];if(m)a.push(m.promise);else{let g;d.extensions&&d.extensions[yt.KHR_DRACO_MESH_COMPRESSION]?g=o(d):g=Sd(new us,d,e),s[f]={primitive:d,promise:g},a.push(g)}}return Promise.all(a)}loadMesh(t){const e=this,n=this.json,s=this.extensions,o=n.meshes[t],a=o.primitives,l=[];for(let u=0,d=a.length;u<d;u++){const f=a[u].material===void 0?PS(this.cache):this.getDependency("material",a[u].material);l.push(f)}return l.push(e.loadGeometries(a)),Promise.all(l).then(function(u){const d=u.slice(0,u.length-1),f=u[u.length-1],m=[];for(let b=0,y=f.length;b<y;b++){const v=f[b],w=a[b];let k;const S=d[b];if(w.mode===ge.TRIANGLES||w.mode===ge.TRIANGLE_STRIP||w.mode===ge.TRIANGLE_FAN||w.mode===void 0)k=o.isSkinnedMesh===!0?new xg(v,S):new Lo(v,S),k.isSkinnedMesh===!0&&!k.geometry.attributes.skinWeight.normalized&&k.normalizeSkinWeights(),w.mode===ge.TRIANGLE_STRIP?k.geometry=Pd(k.geometry,Rg):w.mode===ge.TRIANGLE_FAN&&(k.geometry=Pd(k.geometry,qd));else if(w.mode===ge.LINES)k=new Co(v,S);else if(w.mode===ge.LINE_STRIP)k=new Zd(v,S);else if(w.mode===ge.LINE_LOOP)k=new wg(v,S);else if(w.mode===ge.POINTS)k=new is(v,S);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+w.mode);Object.keys(k.geometry.morphAttributes).length>0&&CS(k,o),k.name=e.createUniqueName(o.name||"mesh_"+t),oi(k,o),w.extensions&&Yn(s,k,w),e.assignFinalMaterial(k),m.push(k)}for(let b=0,y=m.length;b<y;b++)e.associations.set(m[b],{meshes:t,primitives:b});if(m.length===1)return m[0];const g=new po;e.associations.set(g,{meshes:t});for(let b=0,y=m.length;b<y;b++)g.add(m[b]);return g})}loadCamera(t){let e;const n=this.json.cameras[t],s=n[n.type];if(!s){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return n.type==="perspective"?e=new Wa(Gd.radToDeg(s.yfov),s.aspectRatio||1,s.znear||1,s.zfar||2e6):n.type==="orthographic"&&(e=new kg(-s.xmag,s.xmag,s.ymag,-s.ymag,s.znear,s.zfar)),n.name&&(e.name=this.createUniqueName(n.name)),oi(e,n),Promise.resolve(e)}loadSkin(t){const e=this.json.skins[t],n=[];for(let s=0,o=e.joints.length;s<o;s++)n.push(this.getDependency("node",e.joints[s]));return e.inverseBindMatrices!==void 0?n.push(this.getDependency("accessor",e.inverseBindMatrices)):n.push(null),Promise.all(n).then(function(s){const o=s.pop(),a=s,l=[],u=[];for(let d=0,f=a.length;d<f;d++){const m=a[d];if(m){l.push(m);const g=new Ri;o!==null&&g.fromArray(o.array,d*16),u.push(g)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',e.joints[d])}return new Tg(l,u)})}loadAnimation(t){const n=this.json.animations[t],s=[],o=[],a=[],l=[],u=[];for(let d=0,f=n.channels.length;d<f;d++){const m=n.channels[d],g=n.samplers[m.sampler],b=m.target,y=b.node,v=n.parameters!==void 0?n.parameters[g.input]:g.input,w=n.parameters!==void 0?n.parameters[g.output]:g.output;s.push(this.getDependency("node",y)),o.push(this.getDependency("accessor",v)),a.push(this.getDependency("accessor",w)),l.push(g),u.push(b)}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(u)]).then(function(d){const f=d[0],m=d[1],g=d[2],b=d[3],y=d[4],v=[];for(let k=0,S=f.length;k<S;k++){const O=f[k],E=m[k],A=g[k],D=b[k],z=y[k];if(O===void 0)continue;O.updateMatrix();let N;switch(si[z.path]){case si.weights:N=Bg;break;case si.rotation:N=Mc;break;case si.position:case si.scale:default:N=Vg;break}const $=O.name?O.name:O.uuid,j=D.interpolation!==void 0?SS[D.interpolation]:Yd,Z=[];si[z.path]===si.weights?O.traverse(function(K){K.morphTargetInfluences&&Z.push(K.name?K.name:K.uuid)}):Z.push($);let U=A.array;if(A.normalized){const K=ja(U.constructor),it=new Float32Array(U.length);for(let H=0,X=U.length;H<X;H++)it[H]=U[H]*K;U=it}for(let K=0,it=Z.length;K<it;K++){const H=new N(Z[K]+"."+si[z.path],E.array,U,j);D.interpolation==="CUBICSPLINE"&&(H.createInterpolant=function(rt){const tt=this instanceof Mc?MS:_m;return new tt(this.times,this.values,this.getValueSize()/3,rt)},H.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),v.push(H)}}const w=n.name?n.name:"animation_"+t;return new Mg(w,void 0,v)})}createNodeMesh(t){const e=this.json,n=this,s=e.nodes[t];return s.mesh===void 0?null:n.getDependency("mesh",s.mesh).then(function(o){const a=n._getNodeRef(n.meshCache,s.mesh,o);return s.weights!==void 0&&a.traverse(function(l){if(l.isMesh)for(let u=0,d=s.weights.length;u<d;u++)l.morphTargetInfluences[u]=s.weights[u]}),a})}loadNode(t){const e=this.json,n=this.extensions,s=this,o=e.nodes[t],a=o.name?s.createUniqueName(o.name):"";return function(){const l=[],u=s._invokeOne(function(g){return g.createNodeMesh&&g.createNodeMesh(t)});u&&l.push(u),o.camera!==void 0&&l.push(s.getDependency("camera",o.camera).then(function(g){return s._getNodeRef(s.cameraCache,o.camera,g)})),s._invokeAll(function(g){return g.createNodeAttachment&&g.createNodeAttachment(t)}).forEach(function(g){l.push(g)});const d=[],f=o.children||[];for(let g=0,b=f.length;g<b;g++)d.push(s.getDependency("node",f[g]));const m=o.skin===void 0?Promise.resolve(null):s.getDependency("skin",o.skin);return Promise.all([Promise.all(l),Promise.all(d),m])}().then(function(l){const u=l[0],d=l[1],f=l[2];let m;if(o.isBone===!0?m=new Sg:u.length>1?m=new po:u.length===1?m=u[0]:m=new Fd,m!==u[0])for(let g=0,b=u.length;g<b;g++)m.add(u[g]);if(o.name&&(m.userData.name=o.name,m.name=a),oi(m,o),o.extensions&&Yn(n,m,o),o.matrix!==void 0){const g=new Ri;g.fromArray(o.matrix),m.applyMatrix4(g)}else o.translation!==void 0&&m.position.fromArray(o.translation),o.rotation!==void 0&&m.quaternion.fromArray(o.rotation),o.scale!==void 0&&m.scale.fromArray(o.scale);s.associations.has(m)||s.associations.set(m,{}),s.associations.get(m).nodes=t,f!==null&&m.traverse(function(g){g.isSkinnedMesh&&g.bind(f,OS)});for(let g=0,b=d.length;g<b;g++)m.add(d[g]);return m})}loadScene(t){const e=this.extensions,n=this.json.scenes[t],s=this,o=new po;n.name&&(o.name=s.createUniqueName(n.name)),oi(o,n),n.extensions&&Yn(e,o,n);const a=n.nodes||[],l=[];for(let u=0,d=a.length;u<d;u++)l.push(s.getDependency("node",a[u]));return Promise.all(l).then(function(u){for(let f=0,m=u.length;f<m;f++)o.add(u[f]);const d=f=>{const m=new Map;for(const[g,b]of s.associations)(g instanceof es||g instanceof Tc)&&m.set(g,b);return f.traverse(g=>{const b=s.associations.get(g);b!=null&&m.set(g,b)}),m};return s.associations=d(o),o})}}function zS(i,t,e){const n=t.attributes,s=new jg;if(n.POSITION!==void 0){const l=e.json.accessors[n.POSITION],u=l.min,d=l.max;if(u!==void 0&&d!==void 0){if(s.set(new Tt(u[0],u[1],u[2]),new Tt(d[0],d[1],d[2])),l.normalized){const f=ja(xn[l.componentType]);s.min.multiplyScalar(f),s.max.multiplyScalar(f)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const o=t.targets;if(o!==void 0){const l=new Tt,u=new Tt;for(let d=0,f=o.length;d<f;d++){const m=o[d];if(m.POSITION!==void 0){const g=e.json.accessors[m.POSITION],b=g.min,y=g.max;if(b!==void 0&&y!==void 0){if(u.setX(Math.max(Math.abs(b[0]),Math.abs(y[0]))),u.setY(Math.max(Math.abs(b[1]),Math.abs(y[1]))),u.setZ(Math.max(Math.abs(b[2]),Math.abs(y[2]))),g.normalized){const v=ja(xn[g.componentType]);u.multiplyScalar(v)}l.max(u)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}s.expandByVector(l)}i.boundingBox=s;const a=new Ng;s.getCenter(a.center),a.radius=s.min.distanceTo(s.max)/2,i.boundingSphere=a}function Sd(i,t,e){const n=t.attributes,s=[];function o(a,l){return e.getDependency("accessor",a).then(function(u){i.setAttribute(l,u)})}for(const a in n){const l=Ba[a]||a.toLowerCase();l in i.attributes||s.push(o(n[a],l))}if(t.indices!==void 0&&!i.index){const a=e.getDependency("accessor",t.indices).then(function(l){i.setIndex(l)});s.push(a)}return oi(i,t),zS(i,t,e),Promise.all(s).then(function(){return t.targets!==void 0?LS(i,t.targets,e):i})}function Pd(i,t){let e=i.getIndex();if(e===null){const a=[],l=i.getAttribute("position");if(l!==void 0){for(let u=0;u<l.count;u++)a.push(u);i.setIndex(a),e=i.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),i}const n=e.count-2,s=[];if(t===qd)for(let a=1;a<=n;a++)s.push(e.getX(0)),s.push(e.getX(a)),s.push(e.getX(a+1));else for(let a=0;a<n;a++)a%2===0?(s.push(e.getX(a)),s.push(e.getX(a+1)),s.push(e.getX(a+2))):(s.push(e.getX(a+2)),s.push(e.getX(a+1)),s.push(e.getX(a)));s.length/3!==n&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const o=i.clone();return o.setIndex(s),o}/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2021 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */class IS extends Lo{constructor(t,e){super(t,e),this.isExtendedMesh=!0,this.isGroup=!1,this.vector3=new Tt,this.hasBody=!1,this.fragmentDepth=0,this.breakable=!1,this.fractureImpulse=1,this.name=`object-${this.id}`}get world(){return{theta:this.worldTheta,phi:this.worldPhi}}get worldTheta(){return this.getWorldDirection(this.vector3),Math.atan2(this.vector3.x,this.vector3.z)}get worldPhi(){return this.getWorldDirection(this.vector3),Math.acos(this.vector3.y)}}class bm{constructor(){this._defaultMaterial=new Kd({color:13421772})}get(){return this._defaultMaterial}}/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */class RS{constructor(t){this.scene=t,this.isHeadless=t==="headless",this.defaultMaterial=new bm}get make(){return{plane:(t={},e={})=>this.makePlane(t,e),box:(t={},e={})=>this.makeBox(t,e),sphere:(t={},e={})=>this.makeSphere(t,e),cylinder:(t={},e={})=>this.makeCylinder(t,e),cone:(t={},e={})=>this.makeCone(t,e),torus:(t={},e={})=>this.makeTorus(t,e),extrude:(t,e={})=>this.makeExtrude(t,e)}}get add(){return{mesh:t=>this.addMesh(t),existing:t=>this.addExisting(t),plane:(t={},e={})=>this.addPlane(t,e),box:(t={},e={})=>this.addBox(t,e),ground:(t,e={})=>this.addGround(t,e),sphere:(t={},e={})=>this.addSphere(t,e),cylinder:(t={},e={})=>this.addCylinder(t,e),cone:(t={},e={})=>this.addCone(t,e),torus:(t={},e={})=>this.addTorus(t,e),extrude:(t,e={})=>this.addExtrude(t,e),material:(t={})=>this.addMaterial(t)}}addExisting(...t){this.scene!=="headless"&&this.scene.add(...t)}addMesh(t){if(Array.isArray(t))for(let e=0;e<t.length;e++)this.addExisting(t[e]);else this.addExisting(t);return this}createMesh(t,e,n){const{x:s=0,y:o=0,z:a=0}=n;let l;switch(!Array.isArray(e)&&e.type){case"LineBasicMaterial":l=new Zd(t,e);break;case"PointsMaterial":l=new is(t,e);break;default:l=new IS(t,e);break}return l.position.set(s,o,a),l.castShadow=l.receiveShadow=!0,l}makeExtrude(t,e){const{x:n,y:s,z:o,name:a,shape:l,autoCenter:u=!0,breakable:d=!1,...f}=t,{depth:m=1,bevelEnabled:g=!1}=f,b=new $g(l,{depth:m,bevelEnabled:g,...f}),y=this.addMaterial(e),v=this.createMesh(b,y,{x:n,y:s,z:o});return u&&v.geometry.center(),v.name=a||`body_id_${v.id}`,v.shape="extrude",v}addExtrude(t,e={}){const n=this.makeExtrude(t,e);return this.addExisting(n),n}makePlane(t,e){const{x:n,y:s,z:o,name:a,breakable:l=!1,...u}=t,d=new Hg(u.width||1,u.height||1,u.widthSegments||1,u.heightSegments||1),f=this.addMaterial(e);f.side=Ud;const m=this.createMesh(d,f,{x:n,y:s,z:o});return m.name=a||`body_id_${m.id}`,m.shape="plane",m}addPlane(t,e){const n=this.makePlane(t,e);return this.addExisting(n),n}makeSphere(t,e){const{x:n,y:s,z:o,name:a,breakable:l=!1,...u}=t,d=new Wg(u.radius||1,u.widthSegments||16,u.heightSegments||12,u.phiStart||void 0,u.phiLength||void 0,u.thetaStart||void 0,u.thetaLength||void 0),f=this.addMaterial(e),m=this.createMesh(d,f,{x:n,y:s,z:o});return m.name=a||`body_id_${m.id}`,m.shape="sphere",m}addSphere(t={},e={}){const n=this.makeSphere(t,e);return this.addExisting(n),n}makeBox(t,e){const{x:n,y:s,z:o,name:a,breakable:l=!1,...u}=t,d=new Ug(u.width||1,u.height||1,u.depth||1,u.widthSegments||void 0,u.heightSegments||void 0,u.depthSegments||void 0),f=this.addMaterial(e),m=this.createMesh(d,f,{x:n,y:s,z:o});return m.name=a||`body_id_${m.id}`,m.shape="box",m}addBox(t={},e={}){const n=this.makeBox(t,e);return this.addExisting(n),n}addGround(t,e={}){const n=this.makeBox(t,e);return n.rotateX(Gd.degToRad(90)),this.addExisting(n),n}makeCylinder(t={},e={}){const{x:n,y:s,z:o,name:a,breakable:l=!1,...u}=t,d=new Zg(u.radiusTop||1,u.radiusBottom||1,u.height||1,u.radiusSegments||void 0,u.heightSegments||void 0,u.openEnded||void 0,u.thetaStart||void 0,u.thetaLength||void 0),f=this.addMaterial(e),m=this.createMesh(d,f,{x:n,y:s,z:o});return m.name=a||`body_id_${m.id}`,m.shape="cylinder",m}addCylinder(t={},e={}){const n=this.makeCylinder(t,e);return this.addExisting(n),n}makeCone(t={},e={}){const{x:n,y:s,z:o,name:a,breakable:l=!1,...u}=t,d=new Gg(u.radius||1,u.height||1,u.radiusSegments||8,u.heightSegments||1,u.openEnded||!1,u.thetaStart||0,u.thetaLength||2*Math.PI),f=this.addMaterial(e),m=this.createMesh(d,f,{x:n,y:s,z:o});return m.name=a||`body_id_${m.id}`,m.shape="cone",m}addCone(t={},e={}){const n=this.makeCone(t,e);return this.addExisting(n),n}makeTorus(t={},e={}){const{x:n,y:s,z:o,name:a,breakable:l=!1,...u}=t,d=new Yg(u.radius||void 0,u.tube||void 0,u.radialSegments||void 0,u.tubularSegments||void 0,u.arc||void 0),f=this.addMaterial(e),m=this.createMesh(d,f,{x:n,y:s,z:o});return m.name=a||`body_id_${m.id}`,m.shape="torus",m}addTorus(t={},e={}){const n=this.makeTorus(t,e);return this.addExisting(n),n}addMaterial(t={}){const e=Object.keys(t)[0];let n;if(this.scene==="headless")return this.defaultMaterial.get();switch(e){case"basic":n=new mn(t.basic);break;case"normal":n=new Kg(t.normal);break;case"standard":n=new Ha(t.standard);break;case"lambert":n=new Kd(t.lambert);break;case"phong":n=new Xd(t.phong);break;case"physical":typeof t.physical<"u"?n=new mi(t.physical):(go("You need to pass parameters to the physical material. (Fallback to default material)"),n=this.defaultMaterial.get());break;case"toon":n=new qg(t.toon);break;case"line":n=new gn(t.line);break;case"points":n=new pn(t.points);break;case"custom":n=t.custom||this.defaultMaterial.get();break;default:n=this.defaultMaterial.get();break}return n}}const Ld={type:"change"},la={type:"start"},Cd={type:"end"};class VS extends Xg{constructor(t,e){super(),this.object=t,this.domElement=e,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new Tt,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:ln.ROTATE,MIDDLE:ln.DOLLY,RIGHT:ln.PAN},this.touches={ONE:cn.ROTATE,TWO:cn.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return l.phi},this.getAzimuthalAngle=function(){return l.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(V){V.addEventListener("keydown",Ki),this._domElementKeyEvents=V},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(Ld),n.update(),o=s.NONE},this.update=function(){const V=new Tt,ot=new Ze().setFromUnitVectors(t.up,new Tt(0,1,0)),Ft=ot.clone().invert(),Yt=new Tt,se=new Ze,Pe=2*Math.PI;return function(){const Cs=n.object.position;V.copy(Cs).sub(n.target),V.applyQuaternion(ot),l.setFromVector3(V),n.autoRotate&&o===s.NONE&&$(z()),n.enableDamping?(l.theta+=u.theta*n.dampingFactor,l.phi+=u.phi*n.dampingFactor):(l.theta+=u.theta,l.phi+=u.phi);let ne=n.minAzimuthAngle,xe=n.maxAzimuthAngle;return isFinite(ne)&&isFinite(xe)&&(ne<-Math.PI?ne+=Pe:ne>Math.PI&&(ne-=Pe),xe<-Math.PI?xe+=Pe:xe>Math.PI&&(xe-=Pe),ne<=xe?l.theta=Math.max(ne,Math.min(xe,l.theta)):l.theta=l.theta>(ne+xe)/2?Math.max(ne,l.theta):Math.min(xe,l.theta)),l.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,l.phi)),l.makeSafe(),l.radius*=d,l.radius=Math.max(n.minDistance,Math.min(n.maxDistance,l.radius)),n.enableDamping===!0?n.target.addScaledVector(f,n.dampingFactor):n.target.add(f),V.setFromSpherical(l),V.applyQuaternion(Ft),Cs.copy(n.target).add(V),n.object.lookAt(n.target),n.enableDamping===!0?(u.theta*=1-n.dampingFactor,u.phi*=1-n.dampingFactor,f.multiplyScalar(1-n.dampingFactor)):(u.set(0,0,0),f.set(0,0,0)),d=1,m||Yt.distanceToSquared(n.object.position)>a||8*(1-se.dot(n.object.quaternion))>a?(n.dispatchEvent(Ld),Yt.copy(n.object.position),se.copy(n.object.quaternion),m=!1,!0):!1}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",Ls),n.domElement.removeEventListener("pointerdown",Ms),n.domElement.removeEventListener("pointercancel",Yi),n.domElement.removeEventListener("wheel",Ln),n.domElement.removeEventListener("pointermove",Zi),n.domElement.removeEventListener("pointerup",Gi),n._domElementKeyEvents!==null&&n._domElementKeyEvents.removeEventListener("keydown",Ki)};const n=this,s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let o=s.NONE;const a=1e-6,l=new Sc,u=new Sc;let d=1;const f=new Tt;let m=!1;const g=new re,b=new re,y=new re,v=new re,w=new re,k=new re,S=new re,O=new re,E=new re,A=[],D={};function z(){return 2*Math.PI/60/60*n.autoRotateSpeed}function N(){return Math.pow(.95,n.zoomSpeed)}function $(V){u.theta-=V}function j(V){u.phi-=V}const Z=function(){const V=new Tt;return function(Ft,Yt){V.setFromMatrixColumn(Yt,0),V.multiplyScalar(-Ft),f.add(V)}}(),U=function(){const V=new Tt;return function(Ft,Yt){n.screenSpacePanning===!0?V.setFromMatrixColumn(Yt,1):(V.setFromMatrixColumn(Yt,0),V.crossVectors(n.object.up,V)),V.multiplyScalar(Ft),f.add(V)}}(),K=function(){const V=new Tt;return function(Ft,Yt){const se=n.domElement;if(n.object.isPerspectiveCamera){const Pe=n.object.position;V.copy(Pe).sub(n.target);let bi=V.length();bi*=Math.tan(n.object.fov/2*Math.PI/180),Z(2*Ft*bi/se.clientHeight,n.object.matrix),U(2*Yt*bi/se.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(Z(Ft*(n.object.right-n.object.left)/n.object.zoom/se.clientWidth,n.object.matrix),U(Yt*(n.object.top-n.object.bottom)/n.object.zoom/se.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function it(V){n.object.isPerspectiveCamera?d/=V:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*V)),n.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function H(V){n.object.isPerspectiveCamera?d*=V:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/V)),n.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function X(V){g.set(V.clientX,V.clientY)}function rt(V){S.set(V.clientX,V.clientY)}function tt(V){v.set(V.clientX,V.clientY)}function zt(V){b.set(V.clientX,V.clientY),y.subVectors(b,g).multiplyScalar(n.rotateSpeed);const ot=n.domElement;$(2*Math.PI*y.x/ot.clientHeight),j(2*Math.PI*y.y/ot.clientHeight),g.copy(b),n.update()}function st(V){O.set(V.clientX,V.clientY),E.subVectors(O,S),E.y>0?it(N()):E.y<0&&H(N()),S.copy(O),n.update()}function lt(V){w.set(V.clientX,V.clientY),k.subVectors(w,v).multiplyScalar(n.panSpeed),K(k.x,k.y),v.copy(w),n.update()}function Rt(V){V.deltaY<0?H(N()):V.deltaY>0&&it(N()),n.update()}function Bt(V){let ot=!1;switch(V.code){case n.keys.UP:V.ctrlKey||V.metaKey||V.shiftKey?j(2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):K(0,n.keyPanSpeed),ot=!0;break;case n.keys.BOTTOM:V.ctrlKey||V.metaKey||V.shiftKey?j(-2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):K(0,-n.keyPanSpeed),ot=!0;break;case n.keys.LEFT:V.ctrlKey||V.metaKey||V.shiftKey?$(2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):K(n.keyPanSpeed,0),ot=!0;break;case n.keys.RIGHT:V.ctrlKey||V.metaKey||V.shiftKey?$(-2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):K(-n.keyPanSpeed,0),ot=!0;break}ot&&(V.preventDefault(),n.update())}function Pt(){if(A.length===1)g.set(A[0].pageX,A[0].pageY);else{const V=.5*(A[0].pageX+A[1].pageX),ot=.5*(A[0].pageY+A[1].pageY);g.set(V,ot)}}function ft(){if(A.length===1)v.set(A[0].pageX,A[0].pageY);else{const V=.5*(A[0].pageX+A[1].pageX),ot=.5*(A[0].pageY+A[1].pageY);v.set(V,ot)}}function _t(){const V=A[0].pageX-A[1].pageX,ot=A[0].pageY-A[1].pageY,Ft=Math.sqrt(V*V+ot*ot);S.set(0,Ft)}function ye(){n.enableZoom&&_t(),n.enablePan&&ft()}function Se(){n.enableZoom&&_t(),n.enableRotate&&Pt()}function Sn(V){if(A.length==1)b.set(V.pageX,V.pageY);else{const Ft=Qi(V),Yt=.5*(V.pageX+Ft.x),se=.5*(V.pageY+Ft.y);b.set(Yt,se)}y.subVectors(b,g).multiplyScalar(n.rotateSpeed);const ot=n.domElement;$(2*Math.PI*y.x/ot.clientHeight),j(2*Math.PI*y.y/ot.clientHeight),g.copy(b)}function Wi(V){if(A.length===1)w.set(V.pageX,V.pageY);else{const ot=Qi(V),Ft=.5*(V.pageX+ot.x),Yt=.5*(V.pageY+ot.y);w.set(Ft,Yt)}k.subVectors(w,v).multiplyScalar(n.panSpeed),K(k.x,k.y),v.copy(w)}function Ui(V){const ot=Qi(V),Ft=V.pageX-ot.x,Yt=V.pageY-ot.y,se=Math.sqrt(Ft*Ft+Yt*Yt);O.set(0,se),E.set(0,Math.pow(O.y/S.y,n.zoomSpeed)),it(E.y),S.copy(O)}function _i(V){n.enableZoom&&Ui(V),n.enablePan&&Wi(V)}function Pn(V){n.enableZoom&&Ui(V),n.enableRotate&&Sn(V)}function Ms(V){n.enabled!==!1&&(A.length===0&&(n.domElement.setPointerCapture(V.pointerId),n.domElement.addEventListener("pointermove",Zi),n.domElement.addEventListener("pointerup",Gi)),lr(V),V.pointerType==="touch"?Ss(V):qi(V))}function Zi(V){n.enabled!==!1&&(V.pointerType==="touch"?Ps(V):ar(V))}function Gi(V){Xi(V),A.length===0&&(n.domElement.releasePointerCapture(V.pointerId),n.domElement.removeEventListener("pointermove",Zi),n.domElement.removeEventListener("pointerup",Gi)),n.dispatchEvent(Cd),o=s.NONE}function Yi(V){Xi(V)}function qi(V){let ot;switch(V.button){case 0:ot=n.mouseButtons.LEFT;break;case 1:ot=n.mouseButtons.MIDDLE;break;case 2:ot=n.mouseButtons.RIGHT;break;default:ot=-1}switch(ot){case ln.DOLLY:if(n.enableZoom===!1)return;rt(V),o=s.DOLLY;break;case ln.ROTATE:if(V.ctrlKey||V.metaKey||V.shiftKey){if(n.enablePan===!1)return;tt(V),o=s.PAN}else{if(n.enableRotate===!1)return;X(V),o=s.ROTATE}break;case ln.PAN:if(V.ctrlKey||V.metaKey||V.shiftKey){if(n.enableRotate===!1)return;X(V),o=s.ROTATE}else{if(n.enablePan===!1)return;tt(V),o=s.PAN}break;default:o=s.NONE}o!==s.NONE&&n.dispatchEvent(la)}function ar(V){switch(o){case s.ROTATE:if(n.enableRotate===!1)return;zt(V);break;case s.DOLLY:if(n.enableZoom===!1)return;st(V);break;case s.PAN:if(n.enablePan===!1)return;lt(V);break}}function Ln(V){n.enabled===!1||n.enableZoom===!1||o!==s.NONE||(V.preventDefault(),n.dispatchEvent(la),Rt(V),n.dispatchEvent(Cd))}function Ki(V){n.enabled===!1||n.enablePan===!1||Bt(V)}function Ss(V){switch(Cn(V),A.length){case 1:switch(n.touches.ONE){case cn.ROTATE:if(n.enableRotate===!1)return;Pt(),o=s.TOUCH_ROTATE;break;case cn.PAN:if(n.enablePan===!1)return;ft(),o=s.TOUCH_PAN;break;default:o=s.NONE}break;case 2:switch(n.touches.TWO){case cn.DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;ye(),o=s.TOUCH_DOLLY_PAN;break;case cn.DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Se(),o=s.TOUCH_DOLLY_ROTATE;break;default:o=s.NONE}break;default:o=s.NONE}o!==s.NONE&&n.dispatchEvent(la)}function Ps(V){switch(Cn(V),o){case s.TOUCH_ROTATE:if(n.enableRotate===!1)return;Sn(V),n.update();break;case s.TOUCH_PAN:if(n.enablePan===!1)return;Wi(V),n.update();break;case s.TOUCH_DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;_i(V),n.update();break;case s.TOUCH_DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Pn(V),n.update();break;default:o=s.NONE}}function Ls(V){n.enabled!==!1&&V.preventDefault()}function lr(V){A.push(V)}function Xi(V){delete D[V.pointerId];for(let ot=0;ot<A.length;ot++)if(A[ot].pointerId==V.pointerId){A.splice(ot,1);return}}function Cn(V){let ot=D[V.pointerId];ot===void 0&&(ot=new re,D[V.pointerId]=ot),ot.set(V.pageX,V.pageY)}function Qi(V){const ot=V.pointerId===A[0].pointerId?A[1]:A[0];return D[ot.pointerId]}n.domElement.addEventListener("contextmenu",Ls),n.domElement.addEventListener("pointerdown",Ms),n.domElement.addEventListener("pointercancel",Yi),n.domElement.addEventListener("wheel",Ln,{passive:!1}),this.update()}}/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */class BS{constructor(t,e){this.physics=t,this.ammo=e,this.ignoreScale=!1,this.isSoftBody=!1,this.offset={x:0,y:0,z:0},this.errors=[],this.checkCollisions=!1,this.impact=[],this.breakable=!1,this.fractureImpulse=1,this.didUpdate=!1,this.skipUpdate=!1,this._emitUpdateEvents=!1,this._needUpdate=!1,this.tmpEuler=new Qd,this.tmpQuaternion=new Ze,this.tmpBtVector3=new Ammo.btVector3,this.tmpBtVector3_1=new Ammo.btVector3,this.tmpBtQuaternion=new Ammo.btQuaternion(0,0,0,1),this.eventEmitter=new Ao,this.name=e.name}destructor(){this.eventEmitter&&this.eventEmitter.removeAllListeners(),Ammo.destroy(this.tmpBtVector3),Ammo.destroy(this.tmpBtVector3_1),Ammo.destroy(this.tmpBtQuaternion),Ammo.destroy(this.ammo.getCollisionShape()),Ammo.destroy(this.ammo)}setupEventEmitter(){typeof this.eventEmitter>"u"&&(this.eventEmitter=new Ao)}get needUpdate(){return this._needUpdate}set needUpdate(t){!t&&this._needUpdate&&(this.didUpdate=!0),this._needUpdate=t}onUpdateEvent(t,e=!1){this.setupEventEmitter(),this._emitUpdateEvents=!0,e?this.eventEmitter.once("update",()=>{t()}):this.eventEmitter.on("update",()=>{t()})}get on(){return{update:t=>this.onUpdateEvent(t),collision:t=>this.onCollision(t)}}get once(){return{update:t=>this.onUpdateEvent(t,!0)}}onCollision(t){this.checkCollisions=!0,this.physics.collisionEvents.on("collision",e=>{const{bodies:n,event:s}=e;n[0].name===this.name?t(n[1],s):n[1].name===this.name&&t(n[0],s)})}transform(){const t=this.physics.worldTransform;this.ammo.getMotionState().getWorldTransform(t)}refresh(){const t=this.physics.worldTransform;this.ammo.getMotionState().setWorldTransform(t)}setRotation(t,e,n){const s=this.tmpEuler.set(t,e,n),o=this.tmpQuaternion.set(0,0,0,1);o.setFromEuler(s),this.tmpBtQuaternion.setValue(0,0,0,1);const a=this.tmpBtQuaternion;a.setValue(o.x,o.y,o.z,o.w),this.physics.worldTransform.setRotation(a)}get rotation(){let t,e,n;const o=this.physics.worldTransform.getRotation();let a=this.tmpQuaternion.set(o.x(),o.y(),o.z(),o.w());a.w>1&&(a=a.normalize());const l=2*Math.acos(a.w),u=Math.sqrt(1-a.w*a.w);return u<.001?(t=a.x,e=a.y,n=a.z):(t=a.x/u,e=a.y/u,n=a.z/u),{x:t*l,y:e*l,z:n*l}}get quaternion(){const e=this.physics.worldTransform.getRotation();return{x:e.x(),y:e.y(),z:e.z(),w:e.w()}}setPosition(t,e,n){this.physics.worldTransform.getOrigin().setValue(t,e,n)}get position(){const t=this.physics.worldTransform;return{x:t.getOrigin().x(),y:t.getOrigin().y(),z:t.getOrigin().z()}}get velocity(){return{x:this.ammo.getLinearVelocity().x(),y:this.ammo.getLinearVelocity().y(),z:this.ammo.getLinearVelocity().z()}}get angularVelocity(){return{x:this.ammo.getAngularVelocity().x(),y:this.ammo.getAngularVelocity().y(),z:this.ammo.getAngularVelocity().z()}}setVelocity(t,e,n){this.tmpBtVector3.setValue(t,e,n),this.ammo.setLinearVelocity(this.tmpBtVector3)}setVelocityX(t){this.tmpBtVector3.setValue(t,this.velocity.y,this.velocity.z),this.ammo.setLinearVelocity(this.tmpBtVector3)}setVelocityY(t){this.tmpBtVector3.setValue(this.velocity.x,t,this.velocity.z),this.ammo.setLinearVelocity(this.tmpBtVector3)}setVelocityZ(t){this.tmpBtVector3.setValue(this.velocity.x,this.velocity.y,t),this.ammo.setLinearVelocity(this.tmpBtVector3)}setAngularVelocity(t,e,n){this.tmpBtVector3.setValue(t,e,n),this.ammo.setAngularVelocity(this.tmpBtVector3)}setAngularVelocityX(t){this.tmpBtVector3.setValue(t,this.angularVelocity.y,this.angularVelocity.z),this.ammo.setAngularVelocity(this.tmpBtVector3)}setAngularVelocityY(t){this.tmpBtVector3.setValue(this.angularVelocity.x,t,this.angularVelocity.z),this.ammo.setAngularVelocity(this.tmpBtVector3)}setAngularVelocityZ(t){this.tmpBtVector3.setValue(this.angularVelocity.x,this.angularVelocity.y,t),this.ammo.setAngularVelocity(this.tmpBtVector3)}applyForce(t,e,n){this.tmpBtVector3.setValue(t,e,n),this.ammo.applyCentralImpulse(this.tmpBtVector3)}applyForceX(t){this.tmpBtVector3.setValue(t,0,0),this.ammo.applyCentralImpulse(this.tmpBtVector3)}applyForceY(t){this.tmpBtVector3.setValue(0,t,0),this.ammo.applyCentralImpulse(this.tmpBtVector3)}applyForceZ(t){this.tmpBtVector3.setValue(0,0,t),this.ammo.applyCentralImpulse(this.tmpBtVector3)}applyCentralForce(t,e,n){this.tmpBtVector3.setValue(t,e,n),this.ammo.applyCentralForce(this.tmpBtVector3)}applyCentralImpulse(t,e,n){this.tmpBtVector3.setValue(t,e,n),this.ammo.applyCentralImpulse(this.tmpBtVector3)}applyCentralLocalForce(t,e,n){this.tmpBtVector3.setValue(t,e,n),this.ammo.applyCentralLocalForce(this.tmpBtVector3)}applyImpulse(t,e){this.tmpBtVector3.setValue(t.x||0,t.y||0,t.z||0),this.tmpBtVector3_1.setValue(e.x||0,e.y||0,e.z||0),this.ammo.applyImpulse(this.tmpBtVector3,this.tmpBtVector3_1)}applyLocalTorque(t,e,n){this.tmpBtVector3.setValue(t,e,n),this.ammo.applyLocalTorque(this.tmpBtVector3)}applyTorque(t,e,n){this.tmpBtVector3.setValue(t,e,n),this.ammo.applyTorque(this.tmpBtVector3)}applyTorqueImpulse(t,e,n){this.tmpBtVector3.setValue(t,e,n),this.ammo.applyTorqueImpulse(this.tmpBtVector3)}setCollisionFlags(t){this.ammo.setCollisionFlags(t)}getCollisionFlags(){return this.ammo.getCollisionFlags()}setRestitution(t){this.ammo.setRestitution(t)}setBounciness(t){this.setRestitution(t)}setFriction(t){this.ammo.setFriction(t)}setDamping(t,e){this.ammo.setDamping(t,e)}setGravity(t,e,n){this.tmpBtVector3.setValue(t,e,n),this.ammo.setGravity(this.tmpBtVector3)}setLinearFactor(t,e,n){this.tmpBtVector3.setValue(t,e,n),this.ammo.setLinearFactor(this.tmpBtVector3)}setAngularFactor(t,e,n){this.tmpBtVector3.setValue(t,e,n),this.ammo.setAngularFactor(this.tmpBtVector3)}setCcdMotionThreshold(t){this.ammo.setCcdMotionThreshold(t)}setCcdSweptSphereRadius(t){this.ammo.setCcdSweptSphereRadius(t)}}/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */class jS{constructor(t,e){this.factory=t,this.addExisting=e}addPlane(t={},e={}){const n=this.factory.add.plane(t,e);return this.addExisting(n,t),n}addSphere(t={},e={}){const n=this.factory.add.sphere(t,e);return this.addExisting(n,t),n}addBox(t={},e={}){const n=this.factory.add.box(t,e);return this.addExisting(n,t),n}addGround(t,e={}){const n=this.factory.add.ground(t,e),s={...t,mass:0,collisionFlags:1};return this.addExisting(n,s),n}addCylinder(t={},e={}){const n=this.factory.add.cylinder(t,e);return this.addExisting(n,t),n}addCone(t={},e={}){const n=this.factory.add.cone(t,e);return this.addExisting(n,t),n}addTorus(t={},e={}){const n=this.factory.add.torus(t,e);return this.addExisting(n,t),n}addExtrude(t,e={}){const n=this.factory.add.extrude(t,e);return n.translateX(1),this.addExisting(n),n}}/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */class NS{constructor(t,e){this.worldTransform=t,this.physicsWorld=e,this.tmpBtVector3=new Ammo.btVector3}toAmmoV3(t,e=0){return new Ammo.btVector3(typeof(t==null?void 0:t.x)<"u"?t.x:e,typeof(t==null?void 0:t.y)<"u"?t.y:e,typeof(t==null?void 0:t.z)<"u"?t.z:e)}get addConstraints(){return{lock:(t,e,n)=>this.lock(t,e,n),fixed:(t,e,n)=>this.fixed(t,e,n),pointToPoint:(t,e,n,s)=>this.pointToPoint(t,e,n,s),hinge:(t,e,n,s)=>this.hinge(t,e,n,s),slider:(t,e,n={},s)=>this.slider(t,e,n,s),spring:(t,e,n={},s)=>this.spring(t,e,n,s),coneTwist:(t,e,n={frameA:{},frameB:{}},s)=>this.coneTwist(t,e,n,s),dof:(t,e,n,s)=>this.dof(t,e,n,s)}}getTransform(t,e,n={x:0,y:0,z:0},s=!1){n={x:0,y:0,z:0,...n};const o=(l,u)=>{var d=(l.x()-u.x())/2+n.x,f=(l.y()-u.y())/2+n.y,m=(l.z()-u.z())/2+n.z;return new Ammo.btVector3(d,f,m)},a=new Ammo.btTransform;if(a.setIdentity(),s){const l=o(t.getWorldTransform().getOrigin(),e.getWorldTransform().getOrigin()),u=new Ammo.btTransform;u.setIdentity(),u.setOrigin(l);const d=t.getCenterOfMassTransform().inverse().op_mul(e.getWorldTransform());return d.op_mul(u),{transformA:d,transformB:u}}else return a.setOrigin(new Ammo.btVector3(n.x,n.y,n.z)),{transformA:t.getCenterOfMassTransform().inverse().op_mul(e.getWorldTransform()).op_mul(a),transformB:a}}lock(t,e,n=!0){const s={x:0,y:0,z:0};return this.dof(t,e,{angularLowerLimit:s,angularUpperLimit:s},n)}fixed(t,e,n=!0){const s=this.getTransform(t.ammo,e.ammo);s.transformA.setRotation(t.ammo.getWorldTransform().getRotation()),s.transformB.setRotation(e.ammo.getWorldTransform().getRotation());const o=new Ammo.btFixedConstraint(t.ammo,e.ammo,s.transformA,s.transformB);return this.physicsWorld.addConstraint(o,n),o}pointToPoint(t,e,n={},s=!0){const{pivotA:o,pivotB:a}=n,l=new Ammo.btVector3((o==null?void 0:o.x)||0,(o==null?void 0:o.y)||0,(o==null?void 0:o.z)||0),u=new Ammo.btVector3((a==null?void 0:a.x)||0,(a==null?void 0:a.y)||0,(a==null?void 0:a.z)||0),d=new Ammo.btPoint2PointConstraint(t.ammo,e.ammo,l,u);return this.physicsWorld.addConstraint(d,s),d}hinge(t,e,n={},s=!0){const{pivotA:o,pivotB:a,axisA:l,axisB:u}=n,d=new Ammo.btVector3((o==null?void 0:o.x)||0,(o==null?void 0:o.y)||0,(o==null?void 0:o.z)||0),f=new Ammo.btVector3((a==null?void 0:a.x)||0,(a==null?void 0:a.y)||0,(a==null?void 0:a.z)||0),m=new Ammo.btVector3((l==null?void 0:l.x)||0,(l==null?void 0:l.y)||0,(l==null?void 0:l.z)||0),g=new Ammo.btVector3((u==null?void 0:u.x)||0,(u==null?void 0:u.y)||0,(u==null?void 0:u.z)||0),b=new Ammo.btHingeConstraint(t.ammo,e.ammo,d,f,m,g,!0);return this.physicsWorld.addConstraint(b,s),b}slider(t,e,n={},s=!0){const o=this.getTransform(t.ammo,e.ammo),{frameA:a={},frameB:l={},linearLowerLimit:u=0,linearUpperLimit:d=0,angularLowerLimit:f=0,angularUpperLimit:m=0}=n,g=o.transformA.getRotation();g.setEulerZYX(a.x||0,a.y||0,a.z||0),o.transformA.setRotation(g);const b=o.transformB.getRotation();b.setEulerZYX(l.x||0,l.y||0,l.z||0),o.transformB.setRotation(b);const y=new Ammo.btSliderConstraint(t.ammo,e.ammo,o.transformA,o.transformB,!0);return y.setLowerLinLimit(u),y.setUpperLinLimit(d),y.setLowerAngLimit(f),y.setUpperAngLimit(m),this.physicsWorld.addConstraint(y,s),y}spring(t,e,n={},s=!0){const{stiffness:o=50,damping:a=.01,angularLock:l=!1,linearLowerLimit:u={},linearUpperLimit:d={},angularLowerLimit:f={},angularUpperLimit:m={},offset:g={},center:b=!1,enableSpring:y=!0}=n,v={x:0,y:0,z:0,...g},w=this.getTransform(t.ammo,e.ammo,v,b),k=new Ammo.btGeneric6DofSpringConstraint(t.ammo,e.ammo,w.transformA,w.transformB,!0);this.tmpBtVector3.setValue(u.x||0,u.y||0,u.z||0),k.setLinearLowerLimit(this.tmpBtVector3),this.tmpBtVector3.setValue(d.x||0,d.y||0,d.z||0),k.setLinearUpperLimit(this.tmpBtVector3),l?(this.tmpBtVector3.setValue(0,0,0),k.setAngularLowerLimit(this.tmpBtVector3),k.setAngularUpperLimit(this.tmpBtVector3)):(console.log(f,m),k.setAngularLowerLimit(this.toAmmoV3(f,-Math.PI)),k.setAngularUpperLimit(this.toAmmoV3(m,Math.PI)));for(let S=0;S<3;S++)k.enableSpring(S,y),k.setStiffness(S,o),k.setDamping(S,a);return this.physicsWorld.addConstraint(k,s),k}coneTwist(t,e,n,s=!0){const{frameA:o,frameB:a}=n,l=new Ammo.btTransform;l.setIdentity(),l.getOrigin().setValue((o==null?void 0:o.x)||0,(o==null?void 0:o.y)||0,(o==null?void 0:o.z)||0);const u=new Ammo.btTransform;u.setIdentity(),u.getOrigin().setValue((a==null?void 0:a.x)||0,(a==null?void 0:a.y)||0,(a==null?void 0:a.z)||0),this.getTransform(t.ammo,e.ammo);const d=new Ammo.btConeTwistConstraint(e.ammo,t.ammo,l,u);return d.setAngularOnly(!0),this.physicsWorld.addConstraint(d,s),d}dof(t,e,n={},s=!0){const{offset:o,center:a=!1}=n,l={x:0,y:0,z:0,...o},u=this.getTransform(t.ammo,e.ammo,l,a),d=new Ammo.btGeneric6DofConstraint(t.ammo,e.ammo,u.transformA,u.transformB,!0),{linearLowerLimit:f,linearUpperLimit:m,angularLowerLimit:g,angularUpperLimit:b}=n,y=this.toAmmoV3(f),v=this.toAmmoV3(m),w=this.toAmmoV3(g,-Math.PI),k=this.toAmmoV3(b,Math.PI);return d.setLinearLowerLimit(y),d.setLinearUpperLimit(v),d.setAngularLowerLimit(w),d.setAngularUpperLimit(k),Ammo.destroy(y),Ammo.destroy(v),Ammo.destroy(w),Ammo.destroy(k),this.physicsWorld.addConstraint(d,s),d}}/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */const FS=(i,t)=>{const{radius:e=1,tube:n=.4,tubularSegments:s=8}=i,o=Math.PI,a=s,l=Math.sqrt(2*n*n-2*n*n*Math.cos(2*o/a)),u=new Ammo.btVector3(n,o/a+.5*l,n),d=new Ammo.btCylinderShape(u);d.setMargin(.05);const f=new Ammo.btCompoundShape,m=new Ammo.btVector3(0,0,1),g=new Ammo.btVector3(0,e,0),b=new Ammo.btQuaternion(t.x,t.y,t.z,t.w);for(let y=0;y<a;y++){const v=y*2*o/a,w=g.rotate(m,v),k=new Ammo.btTransform;b.setRotation(m,v+Math.PI/2),k.setIdentity(),k.setOrigin(w),k.setRotation(b),f.addChildShape(k,d)}return f};/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */class $S extends Ao{addCollider(t,e,n){!t.body||!e.body||(t.body.checkCollisions=!0,e.body.checkCollisions=!0,this.on("collision",s=>{var l,u;const{bodies:o,event:a}=s;(l=o[0])!=null&&l.name&&((u=o[1])!=null&&u.name)&&(t!=null&&t.name)&&(e!=null&&e.name)&&(o[0].name===t.name&&o[1].name===e.name||o[1].name===t.name&&o[0].name===e.name)&&n(a)}))}}const Ad={NoDebug:0,DrawWireframe:1,DrawAabb:2,DrawFeaturesText:4,DrawContactPoints:8,NoDeactivation:16,NoHelpText:32,DrawText:64,ProfileTimings:128,EnableSatComparison:256,DisableBulletLCP:512,EnableCCD:1024,DrawConstraints:1<<11,DrawConstraintLimits:1<<12,FastWireframe:1<<13,DrawNormals:1<<14,DrawOnTop:1<<15,MAX_DEBUG_DRAW_MODE:4294967295};class HS{constructor(t,e,n={}){this.scene=t,this.world=e,this.options=n,this.debugDrawMode=n.debugDrawMode||Ad.DrawWireframe;const s=this.debugDrawMode&Ad.DrawOnTop||!1,o=n.maxBufferSize||1e6;this.geometry=new us;const a=new Float32Array(o*3),l=new Float32Array(o*3);this.geometry.setAttribute("position",new ts(a,3).setUsage(Pc)),this.geometry.setAttribute("color",new ts(l,3).setUsage(Pc)),this.index=0;const u=new gn({vertexColors:!0,depthTest:!s});this.mesh=new Co(this.geometry,u),s&&(this.mesh.renderOrder=999),this.mesh.frustumCulled=!1,this.enabled=!1,this.debugDrawer=new Ammo.DebugDrawer,this.debugDrawer.drawLine=this.drawLine.bind(this),this.debugDrawer.drawContactPoint=this.drawContactPoint.bind(this),this.debugDrawer.reportErrorWarning=this.reportErrorWarning.bind(this),this.debugDrawer.draw3dText=this.draw3dText.bind(this),this.debugDrawer.setDebugMode=this.setDebugMode.bind(this),this.debugDrawer.getDebugMode=this.getDebugMode.bind(this),this.world.setDebugDrawer(this.debugDrawer)}enable(){this.enabled=!0,this.scene.add(this.mesh)}disable(){this.enabled=!1,this.scene.remove(this.mesh)}update(){this.enabled&&(this.index!=0&&(this.geometry.attributes.position.needsUpdate=!0,this.geometry.attributes.color.needsUpdate=!0),this.index=0,this.world.debugDrawWorld(),this.geometry.setDrawRange(0,this.index))}drawLine(t,e,n){const s=Ammo.HEAPF32,o=s[(n+0)/4],a=s[(n+4)/4],l=s[(n+8)/4],u=s[(t+0)/4],d=s[(t+4)/4],f=s[(t+8)/4];this.geometry.attributes.position.setXYZ(this.index,u,d,f),this.geometry.attributes.color.setXYZ(this.index++,o,a,l);const m=s[(e+0)/4],g=s[(e+4)/4],b=s[(e+8)/4];this.geometry.attributes.position.setXYZ(this.index,m,g,b),this.geometry.attributes.color.setXYZ(this.index++,o,a,l)}drawContactPoint(t,e,n,s,o){const a=Ammo.HEAPF32,l=a[(o+0)/4],u=a[(o+4)/4],d=a[(o+8)/4],f=a[(t+0)/4],m=a[(t+4)/4],g=a[(t+8)/4];this.geometry.attributes.position.setXYZ(this.index,f,m,g),this.geometry.attributes.color.setXYZ(this.index++,l,u,d);const b=a[(e+0)/4]*n,y=a[(e+4)/4]*n,v=a[(e+8)/4]*n;this.geometry.attributes.position.setXYZ(this.index,f+b,m+y,g+v),this.geometry.attributes.color.setXYZ(this.index++,l,u,d)}reportErrorWarning(t){Ammo.hasOwnProperty("Pointer_stringify")?console.warn(Ammo.Pointer_stringify(t)):this.warnedOnce||(this.warnedOnce=!0,console.warn("Cannot print warningString, please rebuild Ammo.js using 'debug' flag"))}draw3dText(t,e){console.warn("TODO: draw3dText")}setDebugMode(t){this.debugDrawMode=t}getDebugMode(){return this.debugDrawMode}}const vm=(i,t)=>{typeof window<"u"&&(window.__loadPhysics=!0),n_(i,()=>{Ammo().then(()=>{t()})})};/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2020 Yannick Deubel; Project Url: https://github.com/enable3d/enable3d
 * @license      {@link https://github.com/enable3d/enable3d/blob/master/LICENSE|GNU GPLv3}
 */class WS extends Ao{constructor(t,e={}){super(),this.scene=t,this.config=e,this.rigidBodies=[],this.earlierDetectedCollisions=[],this.complexShapes=["plane","hull","hacd","vhacd","convexMesh","concaveMesh"],this.gravity=e.gravity||{x:0,y:-9.81,z:0},this.isHeadless=t==="headless",this.tmpEuler=new Qd,this.tmpQuaternion=new Ze,this.tmpVector3=new Tt,this.tmpVector3a=new Tt,this.tmpMatrix4=new Ri,this.tmpMatrix4a=new Ri,this.tmpBtVector3=new Ammo.btVector3,this.tmpBtQuaternion=new Ammo.btQuaternion(0,0,0,1),this.emptyV3=new Tt,this.impactPoint=new Tt,this.impactNormal=new Tt,t!=="headless"&&(this.defaultMaterial=new bm),this.start()}get tmpTrans(){return console.warn("Use worldTransform instead of tmpTrans."),this.worldTransform}set tmpTrans(t){console.warn("Use worldTransform instead of tmpTrans."),this.worldTransform=t}destroy(t){var o;const e=Object.keys(t).includes("body")?t.body:t;if(typeof(e==null?void 0:e.ammo)>"u")return;let n=e.ammo.threeObject;const s=n.name;if(s&&n&&(o=n==null?void 0:n.body)!=null&&o.ammo){n.body.isSoftBody?this.physicsWorld.removeSoftBody(n.body.ammo):this.physicsWorld.removeRigidBody(n.body.ammo),n.body.destructor(),n.body=void 0,n.hasBody=!1,delete e.ammo.threeObject;for(let a=0;a<this.rigidBodies.length;a++)this.rigidBodies[a].name===s&&(this.rigidBodies.splice(a,1),a--)}this.scene==="headless"&&n&&(n=null)}setup(){if(this.worldTransform=new Ammo.btTransform,typeof this.config.setupPhysicsWorld=="function"?this.physicsWorld=this.config.setupPhysicsWorld():this.physicsWorld=this.setupPhysicsWorld(),this.scene!=="headless"){this.convexBreaker=new s_,this.objectsToRemove=[],this.numObjectsToRemove=0;for(let t=0;t<500;t++)this.objectsToRemove[t]=null}this.collisionEvents=new $S,this.factory=new RS(this.scene),this.shapes=new jS(this.factory,(t,e)=>this.addExisting(t,e)),this.constraints=new NS(this.worldTransform,this.physicsWorld),this.scene!=="headless"&&(this.debugDrawer=new HS(this.scene,this.physicsWorld,{}))}updateDebugger(){this.scene!=="headless"&&this.debugDrawer&&this.debugDrawer.enabled&&this.debugDrawer.update()}setupPhysicsWorld(){const t=this.gravity,{softBodies:e=!1}=this.config;let n;if(!e){const s=new Ammo.btDefaultCollisionConfiguration,o=new Ammo.btCollisionDispatcher(s),a=new Ammo.btDbvtBroadphase,l=new Ammo.btSequentialImpulseConstraintSolver;n=new Ammo.btDiscreteDynamicsWorld(o,a,l,s)}if(e){const s=new Ammo.btSoftBodyRigidBodyCollisionConfiguration,o=new Ammo.btCollisionDispatcher(s),a=new Ammo.btDbvtBroadphase,l=new Ammo.btSequentialImpulseConstraintSolver,u=new Ammo.btDefaultSoftBodySolver;n=new Ammo.btSoftRigidDynamicsWorld(o,a,l,s,u)}return n.setGravity(new Ammo.btVector3(t.x,t.y,t.z)),n}createDebrisFromBreakableObject(t,e){this.scene!=="headless"&&(t.material=e.material,t.shape="hull",t.fragmentDepth=e.fragmentDepth+1,t.name=`${e.name}__DEBRIS_${t.id}`,this.scene.add(t),this.addExisting(t,{autoCenter:!0}),t.body.fractureImpulse=e.body.fractureImpulse,t.body.breakable=!1,setTimeout(()=>{t.body.breakable=!0},2500))}removeDebris(t){this.scene!=="headless"&&(this.scene.remove(t),this.destroy(t))}update(t){this.updatePhysics(t),this.detectCollisions()}updatePhysics(t){const e=t/1e3;this.physicsWorld.stepSimulation(e,this.config.maxSubSteps||4,this.config.fixedTimeStep||1/60);for(let n=0;n<this.rigidBodies.length;n++){const s=this.rigidBodies[n];s.body.impact=[];const a=s.body.ammo.getMotionState();if(a){if(a.getWorldTransform(this.worldTransform),s.body.didUpdate&&(s.body._emitUpdateEvents&&s.body.eventEmitter.emit("update"),s.body.didUpdate=!1),s.body.ammo.isKinematicObject()&&s.body.needUpdate)s.getWorldQuaternion(this.tmpQuaternion),s.getWorldPosition(this.tmpVector3),this.tmpBtVector3.setValue(this.tmpVector3.x,this.tmpVector3.y,this.tmpVector3.z),this.tmpBtQuaternion.setValue(this.tmpQuaternion.x,this.tmpQuaternion.y,this.tmpQuaternion.z,this.tmpQuaternion.w),this.worldTransform.setOrigin(this.tmpBtVector3),this.worldTransform.setRotation(this.tmpBtQuaternion),a.setWorldTransform(this.worldTransform),s.body.needUpdate=!1;else if(!s.body.skipUpdate){if(!s.body.ammo.isStaticObject()){const l=this.worldTransform.getOrigin(),u=this.worldTransform.getRotation(),d=s.body.offset;if(s.body.ignoreScale)this.tmpVector3a.set(s.scale.x,s.scale.y,s.scale.z);else{const f=s.body.ammo.getCollisionShape().getLocalScaling();this.tmpVector3a.set(f.x(),f.y(),f.z())}this.tmpVector3.set(l.x()+d.x,l.y()+d.y,l.z()+d.z),this.tmpQuaternion.set(u.x(),u.y(),u.z(),u.w()),this.tmpMatrix4.compose(this.tmpVector3,this.tmpQuaternion,this.tmpVector3a),s.parent?parseInt(Qg)>=123?this.tmpMatrix4a.copy(s.parent.matrixWorld).invert():this.tmpMatrix4a.getInverse(s.parent.matrixWorld):this.tmpMatrix4a.identity(),this.tmpMatrix4a.multiply(this.tmpMatrix4),this.tmpMatrix4a.decompose(s.position,s.quaternion,s.scale)}}}}}detectCollisions(){var s,o;const t=[];this.impactPoint.set(0,0,0),this.impactNormal.set(0,0,0);const e=this.physicsWorld.getDispatcher(),n=e.getNumManifolds();for(let a=0;a<n;a++){const l=e.getManifoldByIndexInternal(a),u=l.getNumContacts(),d=Ammo.castObject(l.getBody0(),Ammo.btRigidBody),f=Ammo.castObject(l.getBody1(),Ammo.btRigidBody),m=d.threeObject,g=f.threeObject;if(!m||!g||d.name===""&&f.name==="")continue;const b=(s=m.body)==null?void 0:s.checkCollisions,y=(o=g.body)==null?void 0:o.checkCollisions,v=m.body.breakable,w=g.body.breakable,k=m.body.fractureImpulse,S=g.body.fractureImpulse,O=b||y,E=v||w;if(typeof m.fragmentDepth>"u"&&(m.fragmentDepth=0),typeof g.fragmentDepth>"u"&&(g.fragmentDepth=0),!O&&!E)continue;let A=!1,D=0,z="start";for(let $=0;$<u;$++){const j=l.getContactPoint($);if(j.getDistance()<=0){A=!0;const U=j.getAppliedImpulse(),K=j.get_m_positionWorldOnB(),it=j.get_m_normalWorldOnB();if(b||y){const H=[m.uuid,g.uuid].sort(),X=`${H[0]}__${H[1]}`;if(this.earlierDetectedCollisions.find(rt=>rt.combinedName===X)&&(z="collision"),!t.find(rt=>rt.combinedName===X)){t.push({combinedName:X,collision:!0});const rt={x:K.x(),y:K.y(),z:K.z()},tt={x:it.x(),y:it.y(),z:it.z()};m.body.impact.push({impulse:U,point:rt,normal:tt,name:g.name}),g.body.impact.push({impulse:U,point:rt,normal:tt,name:m.name}),this.collisionEvents.emit("collision",{bodies:[m,g],event:z})}}U>=D&&(D=U,(v||w)&&(this.impactPoint.set(K.x(),K.y(),K.z()),this.impactNormal.set(it.x(),it.y(),it.z())));break}}if(!A||!E)continue;const N=2;if(this.emptyV3.set(0,0,0),m.userData.ammoPhysicsData={mass:1,velocity:this.emptyV3,angularVelocity:this.emptyV3,breakable:v,physicsBody:d},g.userData.ammoPhysicsData={mass:1,velocity:this.emptyV3,angularVelocity:this.emptyV3,breakable:w,physicsBody:f},v&&D>k&&m.fragmentDepth<N){const $=this.convexBreaker.subdivideByImpact(m,this.impactPoint,this.impactNormal,1,2),j=$.length;for(let Z=0;Z<j;Z++){const U=d.getLinearVelocity(),K=d.getAngularVelocity(),it=$[Z];it.userData.ammoPhysicsData.velocity.set(U.x(),U.y(),U.z()),it.userData.ammoPhysicsData.angularVelocity.set(K.x(),K.y(),K.z()),this.createDebrisFromBreakableObject(it,m)}this.objectsToRemove[this.numObjectsToRemove++]=m}if(w&&D>S&&g.fragmentDepth<N){const $=this.convexBreaker.subdivideByImpact(g,this.impactPoint,this.impactNormal,1,2),j=$.length;for(let Z=0;Z<j;Z++){const U=f.getLinearVelocity(),K=f.getAngularVelocity(),it=$[Z];it.userData.ammoPhysicsData.velocity.set(U.x(),U.y(),U.z()),it.userData.ammoPhysicsData.angularVelocity.set(K.x(),K.y(),K.z()),this.createDebrisFromBreakableObject(it,g)}this.objectsToRemove[this.numObjectsToRemove++]=g}}for(let a=0;a<this.numObjectsToRemove;a++)this.removeDebris(this.objectsToRemove[a]);this.numObjectsToRemove=0,this.earlierDetectedCollisions.forEach(a=>{const{combinedName:l}=a;if(!t.find(u=>u.combinedName===l)){const u=l.split("__"),d=this.rigidBodies.find(g=>g.uuid===u[0]),f=this.rigidBodies.find(g=>g.uuid===u[1]),m="end";d&&f&&this.collisionEvents.emit("collision",{bodies:[d,f],event:m})}}),this.earlierDetectedCollisions=[...t]}setGravity(t=0,e=-9.8,n=0){this.tmpBtVector3.setValue(t,e,n),this.physicsWorld.setGravity(this.tmpBtVector3)}get debug(){return this.isHeadless?null:{enable:()=>{this.debugDrawer.enable()},mode:(t=1)=>{this.debugDrawer.setDebugMode(t)},disable:()=>{this.debugDrawer.disable()}}}start(){if(typeof Ammo>"u"){go("Are you sure you included ammo.js?");return}typeof Ammo=="function"?Ammo().then(()=>{this.setup()}):this.setup()}get add(){return{collider:(t,e,n)=>this.collisionEvents.addCollider(t,e,n),constraints:this.constraints.addConstraints,existing:(t,e)=>this.addExisting(t,e),plane:(t={},e={})=>this.shapes.addPlane(t,e),sphere:(t={},e={})=>this.shapes.addSphere(t,e),ground:(t={},e={})=>this.shapes.addGround(t,e),box:(t={},e={})=>this.shapes.addBox(t,e),cylinder:(t={},e={})=>this.shapes.addCylinder(t,e),cone:(t={},e={})=>this.shapes.addCone(t,e),torus:(t={},e={})=>this.shapes.addTorus(t,e),extrude:(t,e={})=>this.shapes.addExtrude(t,e),raycaster:(t="closest")=>t==="closest"?new o_(this):new r_(this)}}prepareThreeObjectForCollisionShape(t,e={}){var u,d;const{autoCenter:n=!1}=e,s={width:1,height:1,depth:1,radius:1,radiusTop:1,radiusBottom:1,tube:.4,tubularSegments:6};let o="unknown";const a=((u=t.geometry)==null?void 0:u.type)||"unknown";/box/i.test(a)?o="box":/cone/i.test(a)?o="cone":/cylinder/i.test(a)?o="cylinder":/extrude/i.test(a)?o="extrude":/plane/i.test(a)?o="plane":/sphere/i.test(a)?o="sphere":/torus/i.test(a)&&(o="torus");let l={...s,...(d=t==null?void 0:t.geometry)==null?void 0:d.parameters};return e.shape?(l={...s,...e},o=e.shape):t.shape&&(o=t.shape),Object.keys(l).forEach(f=>{typeof l[f]>"u"&&s[f]&&(l[f]=s[f])}),n&&t.geometry.center(),o==="cylinder"&&(l.radius=e.radius||l.radiusTop),o==="extrude"&&(o="hacd"),(o==="mesh"||o==="convex")&&(o="convexMesh"),o==="concave"&&(o="concaveMesh"),o==="unknown"&&(go(`Shape for ${t==null?void 0:t.name} not recognized! Will fallback to box.`),o="box"),{shape:o,params:l,object:t}}createCollisionShape(t,e,n){const s=n!=null&&n.quaternion?n==null?void 0:n.quaternion:new Ze(0,0,0,1),{axis:o="y"}=e,a=new Ammo.btVector3,l=n==null?void 0:n.geometry;n&&(l!=null&&l.isGeometry)&&(n.geometry=new us().fromGeometry(l));const u=y=>{const v=new Ri().elements,w=[],k=[],S=[];return u_(y,{},(O,E,A)=>{w.push(O),k.push(E),S.push(A)}),{vertices:w,matrices:k,indexes:S,matrixWorld:v}};let d={};this.complexShapes.indexOf(t)!==-1&&(d=u(n));let f;switch(t){case"box":a.setValue(e.width/2,e.height/2,e.depth/2),f=new Ammo.btBoxShape(a);break;case"sphere":f=new Ammo.btSphereShape(e.radius);break;case"cylinder":switch(o){case"y":a.setValue(e.radius,e.height/2,e.radius),f=new Ammo.btCylinderShape(a);break;case"x":a.setValue(e.height/2,e.radius,e.radius),f=new Ammo.btCylinderShapeX(a);break;case"z":a.setValue(e.radius,e.radius,e.height/2),f=new Ammo.btCylinderShapeZ(a);break}break;case"cone":switch(o){case"y":f=new Ammo.btConeShape(e.radius,e.height);break;case"x":f=new Ammo.btConeShapeX(e.radius,e.height);break;case"z":f=new Ammo.btConeShapeZ(e.radius,e.height);break}break;case"capsule":switch(o){case"y":f=new Ammo.btCapsuleShape(e.radius,e.height);break;case"x":f=new Ammo.btCapsuleShapeX(e.radius,e.height);break;case"z":f=new Ammo.btCapsuleShapeZ(e.radius,e.height);break}break;case"torus":f=FS(e,s);break;case"plane":f=Vr(d.vertices,d.matrices,d.indexes,d.matrixWorld,{...e,concave:!1});break;case"hull":f=c_(d.vertices,d.matrices,d.matrixWorld,e);break;case"hacd":f=l_(d.vertices,d.matrices,d.indexes,d.matrixWorld,e);break;case"vhacd":f=a_(d.vertices,d.matrices,d.indexes,d.matrixWorld,e);break;case"convexMesh":f=Vr(d.vertices,d.matrices,d.indexes,d.matrixWorld,{...e,concave:!1});break;case"concaveMesh":f=Vr(d.vertices,d.matrices,d.indexes,d.matrixWorld,{...e,concave:!0});break}Ammo.destroy(a);const{x:m,y:g,z:b}=e;return(m||g||b)&&(f._compoundOffset={x:m||0,y:g||0,z:b||0}),Array.isArray(f)&&(f=this.mergeCollisionShapesToCompoundShape(f)),f}mergeCollisionShapesToCompoundShape(t){const e=new Ammo.btCompoundShape;return t.forEach(n=>{const{_childOffset:s,_compoundOffset:o}=n;if(s){const{pos:a,quat:l,scale:u,margin:d}=s,f=this.applyPosQuatScaleMargin(n,a,l,u,d);e.addChildShape(f,n)}else if(o){const a=new Ammo.btTransform;a.setIdentity(),a.setOrigin(new Ammo.btVector3(o.x,o.y,o.z)),e.addChildShape(a,n)}else{const a=new Ammo.btTransform;a.setIdentity(),e.addChildShape(a,n)}}),e}addExisting(t,e={}){const{hasBody:n}=t;if(n){go(`Object "${t.name}" already has a physical body!`);return}const s=new Tt,o=new Ze,a=new Tt;t.getWorldPosition(s),t.getWorldQuaternion(o),t.getWorldScale(a);const l=(e.collisionFlags||0).toString(2).slice(-1)==="1",u=(e.collisionFlags||0).toString(2).slice(-2,-1)==="1",{shape:d="unknown",compound:f=[],mass:m=l||u?0:1,collisionFlags:g=0,collisionGroup:b=1,collisionMask:y=-1,offset:v=void 0,breakable:w=!1,addChildren:k=!0,margin:S=.01,ignoreScale:O=!1,fractureImpulse:E=1}=e;if(O&&a.set(1,1,1),f.length>=1){const $=f.map(K=>this.createCollisionShape(K.shape,K)),j=this.mergeCollisionShapesToCompoundShape($),Z=this.applyPosQuatScaleMargin(j,s,o,a,S),U=this.collisionShapeToRigidBody(j,Z,m,u);this.addRigidBodyToWorld(t,U,g,b,y,v),t.body.breakable=w,t.body.fractureImpulse=E,t.body.ignoreScale=O;return}const A=[];if(d!=="unknown"||t.isMesh){const $=this.prepareThreeObjectForCollisionShape(t,e),j=this.createCollisionShape($.shape,$.params,$.object);A.push(j)}if(d==="unknown"&&k&&t.children.length>=1&&t.children.forEach($=>{if($.isMesh){const j=this.prepareThreeObjectForCollisionShape($),Z=this.createCollisionShape(j.shape,j.params,j.object);Z._childOffset={pos:$.position.clone(),quat:$.quaternion.clone(),scale:$.scale.clone(),margin:S},A.push(Z)}}),A.length===0){const $=this.prepareThreeObjectForCollisionShape(t,e),j=this.createCollisionShape($.shape,$.params,$.object);A.push(j)}const D=A.length===1?A[0]:this.mergeCollisionShapesToCompoundShape(A),z=this.applyPosQuatScaleMargin(D,s,o,a,S),N=this.collisionShapeToRigidBody(D,z,m,u);this.addRigidBodyToWorld(t,N,g,b,y,v),t.body.breakable=w,t.body.fractureImpulse=E,t.body.ignoreScale=O}addRigidBodyToWorld(t,e,n,s,o,a){this.rigidBodies.push(t),this.physicsWorld.addRigidBody(e,s,o);const l=Object.values(e)[0];t.name||(t.name=`object-${t.id}`),e.name=t.name,t.body=new BS(this,e),t.hasBody=!0,t.ptr=l,e.threeObject=t,a&&(t.body.offset={x:0,y:0,z:0,...a}),t.body.setCollisionFlags(n)}applyPosQuatScaleMargin(t,e=new Tt,n=new Ze,s=new Tt,o=.01){t.setMargin(o);const a=new Ammo.btQuaternion(0,0,0,1);a.setValue(n.x,n.y,n.z,n.w);const l=new Ammo.btTransform;l.setIdentity(),l.getOrigin().setValue(e.x,e.y,e.z),l.setRotation(a),Ammo.destroy(a);const u=new Ammo.btVector3(s.x,s.y,s.z);return t.setLocalScaling(u),Ammo.destroy(u),l}collisionShapeToRigidBody(t,e,n,s){const o=new Ammo.btDefaultMotionState(e),a=new Ammo.btVector3(0,0,0);n>0&&t.calculateLocalInertia(n,a);const l=new Ammo.btRigidBodyConstructionInfo(n,o,t,a),u=new Ammo.btRigidBody(l);return(n>0||s)&&u.setActivationState(4),u}}class US extends Yo{constructor(t,e){super(),this.textureID=e!==void 0?e:"tDiffuse",t instanceof Lc?(this.uniforms=t.uniforms,this.material=t):t&&(this.uniforms=Jg.clone(t.uniforms),this.material=new Lc({defines:Object.assign({},t.defines),uniforms:this.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader})),this.fsQuad=new d_(this.material)}render(t,e,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(t.setRenderTarget(null),this.fsQuad.render(t)):(t.setRenderTarget(e),this.clear&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),this.fsQuad.render(t))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class Ed extends Yo{constructor(t,e){super(),this.scene=t,this.camera=e,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(t,e,n){const s=t.getContext(),o=t.state;o.buffers.color.setMask(!1),o.buffers.depth.setMask(!1),o.buffers.color.setLocked(!0),o.buffers.depth.setLocked(!0);let a,l;this.inverse?(a=0,l=1):(a=1,l=0),o.buffers.stencil.setTest(!0),o.buffers.stencil.setOp(s.REPLACE,s.REPLACE,s.REPLACE),o.buffers.stencil.setFunc(s.ALWAYS,a,4294967295),o.buffers.stencil.setClear(l),o.buffers.stencil.setLocked(!0),t.setRenderTarget(n),this.clear&&t.clear(),t.render(this.scene,this.camera),t.setRenderTarget(e),this.clear&&t.clear(),t.render(this.scene,this.camera),o.buffers.color.setLocked(!1),o.buffers.depth.setLocked(!1),o.buffers.stencil.setLocked(!1),o.buffers.stencil.setFunc(s.EQUAL,1,4294967295),o.buffers.stencil.setOp(s.KEEP,s.KEEP,s.KEEP),o.buffers.stencil.setLocked(!0)}}class ZS extends Yo{constructor(){super(),this.needsSwap=!1}render(t){t.state.buffers.stencil.setLocked(!1),t.state.buffers.stencil.setTest(!1)}}class GS{constructor(t,e){if(this.renderer=t,e===void 0){const n=t.getSize(new re);this._pixelRatio=t.getPixelRatio(),this._width=n.width,this._height=n.height,e=new t_(this._width*this._pixelRatio,this._height*this._pixelRatio),e.texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=e.width,this._height=e.height;this.renderTarget1=e,this.renderTarget2=e.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new US(h_),this.clock=new Ua}swapBuffers(){const t=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=t}addPass(t){this.passes.push(t),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(t,e){this.passes.splice(e,0,t),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(t){const e=this.passes.indexOf(t);e!==-1&&this.passes.splice(e,1)}isLastEnabledPass(t){for(let e=t+1;e<this.passes.length;e++)if(this.passes[e].enabled)return!1;return!0}render(t){t===void 0&&(t=this.clock.getDelta());const e=this.renderer.getRenderTarget();let n=!1;for(let s=0,o=this.passes.length;s<o;s++){const a=this.passes[s];if(a.enabled!==!1){if(a.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(s),a.render(this.renderer,this.writeBuffer,this.readBuffer,t,n),a.needsSwap){if(n){const l=this.renderer.getContext(),u=this.renderer.state.buffers.stencil;u.setFunc(l.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,t),u.setFunc(l.EQUAL,1,4294967295)}this.swapBuffers()}Ed!==void 0&&(a instanceof Ed?n=!0:a instanceof ZS&&(n=!1))}}this.renderer.setRenderTarget(e)}reset(t){if(t===void 0){const e=this.renderer.getSize(new re);this._pixelRatio=this.renderer.getPixelRatio(),this._width=e.width,this._height=e.height,t=this.renderTarget1.clone(),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=t,this.renderTarget2=t.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(t,e){this._width=t,this._height=e;const n=this._width*this._pixelRatio,s=this._height*this._pixelRatio;this.renderTarget1.setSize(n,s),this.renderTarget2.setSize(n,s);for(let o=0;o<this.passes.length;o++)this.passes[o].setSize(n,s)}setPixelRatio(t){this._pixelRatio=t,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class YS extends Yo{constructor(t,e,n,s,o){super(),this.scene=t,this.camera=e,this.overrideMaterial=n,this.clearColor=s,this.clearAlpha=o!==void 0?o:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new Ke}render(t,e,n){const s=t.autoClear;t.autoClear=!1;let o,a;this.overrideMaterial!==void 0&&(a=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(t.getClearColor(this._oldClearColor),o=t.getClearAlpha(),t.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&t.clearDepth(),t.setRenderTarget(this.renderToScreen?null:n),this.clear&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),t.render(this.scene,this.camera),this.clearColor&&t.setClearColor(this._oldClearColor,o),this.overrideMaterial!==void 0&&(this.scene.overrideMaterial=a),t.autoClear=s}}const qS=P("a",{href:""},"Refresh",-1),KS={meta:{active:!1,icon:"mdi-cube",name:"Enable 3D",description:"Aplicao para gerar arquivos com tamanhos exatos",source:"https://github.com/labscriptdev/labscriptdev.github.io/tree/main/pages/lab/index/enable3d"}},ym=Object.assign(KS,{__name:"index",setup(i){const t=(s={})=>{s=da.merge({name:"no name",fps:60,frame:0,width:0,height:0,debug:!1,gridHelper:!1,orbitControls:!1,scene:0,global:{},prefabs:[],scenes:[],onSceneChange:()=>{}},s),s.scenes=s.scenes.map((a,l)=>da.merge({name:`scene-${l}`,children:[],onCreate:()=>{},onUpdate:()=>{},onProgress:()=>{},clock:!1,camera:!1,scene:!1,renderer:!1},a));const o=Qt({...s,init(a){this._element=a,this.width=a.offsetWidth,this.height=a.offsetHeight,this.frame=0,og(window,"resize",u=>{this.width=a.offsetWidth,this.height=a.offsetHeight});const l=()=>{this._timeout=setTimeout(()=>{this.sceneUpdate(),l()},1e3/this.fps)};l(),this.sceneCreate()},sceneCreate(){this._scene=this.scenes[this.scene]||this.scenes.filter(a=>a.name==this.scene).at(0),this._scene&&(this._scene.scene=new Jd,this._scene.camera=new Wa(50,this.width/this.height,1,1e3),this._scene.clock=new Ua,this._scene.renderer=new th,this._scene.renderer.setSize(this.width,this.height),this._element.innerHTML="",this._element.appendChild(this._scene.renderer.domElement))},sceneUpdate(){this.frame=this.frame+1,this._scene.renderer.render(this._scene.scene,this._scene.camera),this.orbitControls&&this.orbitControls.update(),this.options.debug&&this.physics.updateDebugger()}});return Bd(()=>{o.value&&o.value._timeout&&clearTimeout(o.value._timeout)}),o};Go(()=>{vm("/assets/ammo",()=>{n.value.init(e.value)})});const e=Qt(null),n=t({fps:30,orbitControls:!0,gridHelper:!0,scene:"scene-0",scenes:[{name:"scene-0"},{name:"scene-1"}]});return(s,o)=>{const a=I("v-col"),l=I("v-checkbox"),u=I("v-text-field"),d=I("v-row"),f=At;return F(),et(f,{"container-card":!1,"container-width":"100%"},{default:M(()=>[T(d,null,{default:M(()=>[T(a,{cols:"8"},{default:M(()=>[P("div",{ref_key:"gameRef",ref:e,style:{height:"200px",border:"solid 1px red"}},null,512),P("pre",null,"game: "+G(vt(n)),1)]),_:1}),T(a,{cols:"4"},{default:M(()=>[T(l,Et({modelValue:vt(n).debug,"onUpdate:modelValue":o[0]||(o[0]=m=>vt(n).debug=m)},{label:"Debug",hideDetails:!0}),null,16,["modelValue"]),T(l,Et({modelValue:vt(n).gridHelper,"onUpdate:modelValue":o[1]||(o[1]=m=>vt(n).gridHelper=m)},{label:"Grid helper",hideDetails:!0}),null,16,["modelValue"]),T(l,Et({modelValue:vt(n).orbitControls,"onUpdate:modelValue":o[2]||(o[2]=m=>vt(n).orbitControls=m)},{label:"Orbit controls",hideDetails:!0}),null,16,["modelValue"]),T(u,Et({modelValue:vt(n).fps,"onUpdate:modelValue":o[3]||(o[3]=m=>vt(n).fps=m),modelModifiers:{number:!0}},{label:"FPS",type:"number",min:1,hideDetails:!0}),null,16,["modelValue"])]),_:1})]),_:1}),qS]),_:1})}}}),IC=Object.freeze(Object.defineProperty({__proto__:null,default:ym},Symbol.toStringTag,{value:"Module"})),XS={meta:{active:!0,icon:"mdi-file-download-outline",name:"Gerador de arquivo",description:"Aplicao para gerar arquivos com tamanhos exatos",source:"https://github.com/labscriptdev/labscriptdev.github.io/tree/main/pages/lab/index/filesize-generator"},data:()=>({params:{size:10,name:"file",ext:{title:"TXT",value:"txt",mime:"text/plain"}},extensions:[{title:"AVI",value:"avi",mime:"video/x-msvideo"},{title:"BAT",value:"bat",mime:"text/plain"},{title:"BIN",value:"bin",mime:"application/octet-stream"},{title:"BMP",value:"bmp",mime:"image/x-ms-bmp"},{title:"DLL",value:"dll",mime:"application/octet-stream"},{title:"DOC",value:"doc",mime:"application/msword"},{title:"DVI",value:"dvi",mime:"application/x-dvi"},{title:"EML",value:"eml",mime:"message/rfc822"},{title:"EXE",value:"exe",mime:"application/octet-stream"},{title:"GIF",value:"gif",mime:"image/gif"},{title:"HTM",value:"htm",mime:"text/html"},{title:"HTML",value:"html",mime:"text/html"},{title:"JPEG",value:"jpeg",mime:"image/jpeg"},{title:"JPG",value:"jpg",mime:"image/jpeg"},{title:"JS",value:"js",mime:"application/x-javascript"},{title:"JSON",value:"json",mime:"application/json"},{title:"MOV",value:"mov",mime:"video/quicktime"},{title:"MOVIE",value:"movie",mime:"video/x-sgi-movie"},{title:"MP2",value:"mp2",mime:"audio/mpeg"},{title:"MP3",value:"mp3",mime:"audio/mpeg"},{title:"MP4",value:"mp4",mime:"video/mp4"},{title:"MPEG",value:"mpeg",mime:"video/mpeg"},{title:"MPG",value:"mpg",mime:"video/mpeg"},{title:"OBJ",value:"obj",mime:"application/octet-stream"},{title:"PDF",value:"pdf",mime:"application/pdf"},{title:"PNG",value:"png",mime:"image/png"},{title:"PPS",value:"pps",mime:"application/vnd.ms-powerpoint"},{title:"PPT",value:"ppt",mime:"application/vnd.ms-powerpoint"},{title:"PPTX",value:"pptx",mime:"application/vnd.ms-powerpoint"},{title:"PY",value:"py",mime:"text/x-python"},{title:"TAR",value:"tar",mime:"application/x-tar"},{title:"TIF",value:"tif",mime:"image/tiff"},{title:"TIFF",value:"tiff",mime:"image/tiff"},{title:"TXT",value:"txt",mime:"text/plain"},{title:"WAV",value:"wav",mime:"audio/x-wav"},{title:"WSDL",value:"wsdl",mime:"application/xml"},{title:"XLS",value:"xls",mime:"application/vnd.ms-excel"},{title:"XLSX",value:"xlsx",mime:"application/vnd.ms-excel"},{title:"XML",value:"xml",mime:"text/xml"},{title:"ZIP",value:"zip",mime:"application/zip"}]}),methods:{download(){const i="x".repeat(parseInt(this.params.size)*1024*1024),t=new Blob([i],{type:this.params.ext.mime});Object.assign(document.createElement("a"),{href:URL.createObjectURL(t),download:`${this.params.name}.${this.params.ext.value}`}).click()}}},QS={class:"d-flex mt-5"};function JS(i,t,e,n,s,o){const a=I("v-combobox"),l=I("v-col"),u=I("v-text-field"),d=I("v-row"),f=I("v-spacer"),m=I("v-btn"),g=At;return F(),et(g,Et({title:"Gerador de arquivos"},{drawerShow:!1,fluid:!1,containerStyle:"max-width:800px"}),{default:M(()=>[T(d,null,{default:M(()=>[T(l,{cols:"12",md:"4"},{default:M(()=>[T(a,{label:"Tipo de arquivo",items:i.extensions,modelValue:i.params.ext,"onUpdate:modelValue":t[0]||(t[0]=b=>i.params.ext=b),"hide-details":!0},null,8,["items","modelValue"])]),_:1}),T(l,{cols:"12",md:"4"},{default:M(()=>[T(u,{type:"number",label:"Tamanho do arquivo",modelValue:i.params.size,"onUpdate:modelValue":t[1]||(t[1]=b=>i.params.size=b),suffix:"MB","hide-details":!0},null,8,["modelValue"])]),_:1}),T(l,{cols:"12",md:"4"},{default:M(()=>[T(u,{label:"Nome",suffix:".json",modelValue:i.params.name,"onUpdate:modelValue":t[2]||(t[2]=b=>i.params.name=b),"hide-details":!0},null,8,["modelValue"])]),_:1})]),_:1}),P("div",QS,[T(f),T(m,{color:"success",onClick:t[3]||(t[3]=b=>o.download())},{default:M(()=>[J("Download")]),_:1})])]),_:1},16)}const xm=St(XS,[["render",JS]]),RC=Object.freeze(Object.defineProperty({__proto__:null,default:xm},Symbol.toStringTag,{value:"Module"})),tP={meta:{active:!1,icon:"mdi-laravel",name:"Gerador Laravel",description:"Criar arquivos para o frameworl Laravel baseado em estrutura de banco de dados",source:"https://github.com/labscriptdev/labscriptdev.github.io/tree/main/pages/lab/index/laramake"},data(){return{tab:"tables",tabDatabaseTable:!1,laramake:eP()}}},eP=()=>{const i=(a="")=>(a+[1e8]+0).replace(/[018]/g,l=>(l^crypto.getRandomValues(new Uint8Array(1))[0]&15>>l/4).toString(16)),t=(a={})=>({id:i("field-"),name:"",type:"",fk:{table:null,field:null},...a}),e=Qt({appName:""}),n=Qt({list:[],default(a={}){return a.fields=(Array.isArray(a.fields)?a.fields:[{name:"id",type:""},{name:"name",type:"varchar(255)"},{name:"created_at",type:"datetime"},{name:"updated_at",type:"datetime"},{name:"deleted_at",type:"datetime"}]).map(t),{id:i("table-"),name:"",fields:[],...a}},add(a={}){return a=this.default(a),this.list.push(a),a},remove(a){console.log(a)},fields(a){return a?this.list.filter(l=>l.name==a).at(0).fields.map(l=>l.name):[]}});n.value.add({name:"app_user"}),n.value.add({name:"app_group"}),n.value.add({name:"app_user_group",fields:[{name:"user_id",fk:{table:"app_user",field:"id"}},{name:"group_id",fk:{table:"app_group",field:"id"}}]});const s=a=>(a.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g)||[]).map(l=>(l||"").charAt(0).toUpperCase()+l.slice(1).toLowerCase()).join(""),o=Fa(()=>{let a=[];return n.value.list.forEach(l=>{const u=s(l.name);a.push({file:`/app/Models/${u}.php`,content:(()=>{const d=l.fields.filter(m=>!["id","created_at","updated_at","deleted_at"].includes(m.name)).map(m=>`'${m.name}'`).join(", "),f=["<?php","","namespace \\App\\Models;",""];return f.push("use Illuminate\\Database\\Eloquent\\Model;",""),f.push(`class ${u} extends Model {`),f.push(`  protected $table = '${l.name}';`),f.push(`  protected $fillable = [${d}];`),f.push("}",""),f})()})}),n.value.list.forEach(l=>{const u=s(l.name);a.push({file:`/app/Repositories/${u}Repository.php`,content:(()=>{const d=["<?php","","namespace \\App\\Repositories;",""];return d.push(`class ${u}Repository {`),d.push("}",""),d})()})}),n.value.list.forEach(l=>{const u=s(l.name);a.push({file:`/app/Http/Controllers/${u}Controller.php`,content:(()=>{const d=["<?php","","namespace \\App\\Http\\Controllers;",""];return d.push("use Illuminate\\Http\\Request;"),d.push(""),d.push(`class ${u}Controller extends Controller {`,""),d.push("  public function __construct() {"),d.push("    $this->middleware('auth:api', ["),d.push("      'except' => [],"),d.push("    ]);"),d.push("  }",""),d.push("  public function index() {"),d.push("  }",""),d.push("  public function show() {"),d.push("  }",""),d.push("  public function store() {"),d.push("  }",""),d.push("  public function update() {"),d.push("  }",""),d.push("  public function delete() {"),d.push("  }",""),d.push("}",""),d})()})}),a.push({file:"/routes/api.php",content:(()=>{const l=["<?php",""];return n.value.list.forEach(u=>{const d=s(u.name);l.push(`Route::apiResource('${u.name}', \\App\\Http\\Controllers\\${d}Controller::class);`)}),l.push(""),l})()}),a.map(l=>(Array.isArray(l.content)&&(l.content=l.content.join(`
`)),l))});return{settings:e,table:n,files:o}},iP=P("colgroup",null,[P("col",{width:"*"}),P("col",{width:"200px"}),P("col",{width:"100px"})],-1),nP=P("thead",null,[P("tr",null,[P("th",null,"Nome"),P("th",null,"FK"),P("th",null,"Aes")])],-1),sP={class:"pa-0"},oP={class:"pa-0"},rP={class:"d-flex"},aP=P("td",null,"--",-1),lP={class:"bg-primary pa-2"},cP={class:"bg-grey-darken-4 text-lime pa-2 overflow-auto"};function uP(i,t,e,n,s,o){const a=I("v-tab"),l=I("v-tabs"),u=I("v-btn"),d=I("v-col"),f=I("v-text-field"),m=I("v-select"),g=I("v-table"),b=I("v-window-item"),y=I("v-window"),v=I("v-row"),w=I("v-divider"),k=At;return F(),et(k,null,{default:M(()=>[T(l,{modelValue:s.tab,"onUpdate:modelValue":t[0]||(t[0]=S=>s.tab=S)},{default:M(()=>[T(a,{value:"tables"},{default:M(()=>[J("Tabelas")]),_:1})]),_:1},8,["modelValue"]),T(y,{modelValue:s.tab,"onUpdate:modelValue":t[4]||(t[4]=S=>s.tab=S)},{default:M(()=>[T(b,{value:"tables"},{default:M(()=>[T(v,null,{default:M(()=>[T(d,{cols:"12",lg:"3"},{default:M(()=>[T(l,{modelValue:s.tabDatabaseTable,"onUpdate:modelValue":t[1]||(t[1]=S=>s.tabDatabaseTable=S),direction:"vertical"},{default:M(()=>[(F(!0),q(dt,null,pt(s.laramake.table.list,S=>(F(),et(a,{value:S.id},{default:M(()=>[J(G(S.name||S.id),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"]),T(u,{block:"",onClick:t[2]||(t[2]=S=>s.tabDatabaseTable=s.laramake.table.add().id)},{default:M(()=>[J("Criar tabela")]),_:1})]),_:1}),T(d,{cols:"12",lg:"9"},{default:M(()=>[T(y,{modelValue:s.tabDatabaseTable,"onUpdate:modelValue":t[3]||(t[3]=S=>s.tabDatabaseTable=S)},{default:M(()=>[(F(!0),q(dt,null,pt(s.laramake.table.list,S=>(F(),et(b,{value:S.id},{default:M(()=>[T(f,{modelValue:S.name,"onUpdate:modelValue":O=>S.name=O},{"prepend-inner":M(()=>[J("Tabela:")]),_:2},1032,["modelValue","onUpdate:modelValue"]),T(g,null,{default:M(()=>[iP,nP,P("tbody",null,[(F(!0),q(dt,null,pt(S.fields,O=>(F(),q("tr",null,[P("td",sP,[T(f,Et({modelValue:O.name,"onUpdate:modelValue":E=>O.name=E},{hideDetails:!0}),null,16,["modelValue","onUpdate:modelValue"])]),P("td",oP,[P("div",rP,[T(m,Et({hideDetails:!0},{modelValue:O.fk.table,"onUpdate:modelValue":E=>O.fk.table=E,items:s.laramake.table.list.map(E=>E.name)}),null,16,["modelValue","onUpdate:modelValue","items"]),T(m,Et({hideDetails:!0},{modelValue:O.fk.field,"onUpdate:modelValue":E=>O.fk.field=E,items:s.laramake.table.fields(O.fk.table)}),null,16,["modelValue","onUpdate:modelValue","items"])])]),aP]))),256))])]),_:2},1024)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),T(w,{class:"my-5"}),T(v,{"no-gutters":""},{default:M(()=>[(F(!0),q(dt,null,pt(s.laramake.files,S=>(F(),et(d,{cols:"4",class:"pa-1"},{default:M(()=>[P("pre",lP,G(S.file),1),P("pre",cP,G(S.content),1)]),_:2},1024))),256))]),_:1})]),_:1})}const wm=St(tP,[["render",uP]]),VC=Object.freeze(Object.defineProperty({__proto__:null,default:wm},Symbol.toStringTag,{value:"Module"})),dP={meta:{active:!0,icon:"mdi-slot-machine",name:"Loteria",description:"Aplicao de simulao lotrica",source:"https://github.com/labscriptdev/labscriptdev.github.io/tree/main/pages/lab/index/lotto"},data(){return{lottoTypes:this.$request({url:"https://raw.githubusercontent.com/labscriptdev/static-api/main/data/loteria/index.json",autoSubmit:!0,response:[]}),lotto:{numberStart:1,numberFinal:60,numberLines:10,betMin:4,betMax:6,bets:[]}}},methods:{lottoBetToggle(i){const t=this.lotto.bets.indexOf(i);t>=0?this.lotto.bets.splice(t,1):this.lotto.bets.push(i)},calculate(){let i=this.lotto.betMax,t=this.lotto.numberFinal,e=this.lotto.bets.length;const n=l=>l<0?0:l==0||l==1?1:l*n(l-1),s=n(t)/n(t-i);console.log(s);const o=s/n(i);console.log(o);const a=n(e)/(n(i)*n(e-i));console.log(a)}},computed:{lottoNumbers(){const i=(n=0,s=10,o=1)=>Array.from({length:Math.ceil((s-n+1)/o)},(a,l)=>l*o+n),t=(n,s)=>Array.from({length:Math.ceil(n.length/s)},(o,a)=>n.slice(a*s,a*s+s));let e=i(this.lotto.numberStart,this.lotto.numberFinal).map(n=>{const s=this.lotto.bets.indexOf(n)>=0;return{number:n,selected:s}});return t(e,this.lotto.numberLines)}}};function hP(i,t,e,n,s,o){const a=Fi,l=I("v-card-title"),u=I("v-divider"),d=I("v-list-item"),f=I("v-list"),m=At;return F(),et(m,{title:"Loteria","container-width":"100%"},{drawer:M(()=>[T(l,null,{default:M(()=>[J("Loteria")]),_:1}),T(u),T(f,null,{default:M(()=>[(F(!0),q(dt,null,pt(s.lottoTypes.response,g=>(F(),et(d,{key:g.id,to:`/lab/lotto/${g.id}`},{default:M(()=>[J(G(g.name),1)]),_:2},1032,["to"]))),128))]),_:1})]),default:M(()=>[T(a)]),_:1})}const km=St(dP,[["render",hP]]),BC=Object.freeze(Object.defineProperty({__proto__:null,default:km},Symbol.toStringTag,{value:"Module"})),fP={meta:{active:!1,icon:"mdi-brain",name:"MBTI",description:"Teste MBTi",source:"https://github.com/labscriptdev/labscriptdev.github.io/tree/main/pages/lab/index/mbti"}};function mP(i,t,e,n,s,o){const a=At;return F(),et(a,null,{default:M(()=>[P("pre",null,G(i.$route.path),1)]),_:1})}const Tm=St(fP,[["render",mP]]),jC=Object.freeze(Object.defineProperty({__proto__:null,default:Tm},Symbol.toStringTag,{value:"Module"})),pP={meta:{active:!1,icon:"mdi-emoticon-poop",name:"Gerador de memes",description:"Aplicao para gerar memes de maneira rpida",source:"https://github.com/labscriptdev/labscriptdev.github.io/tree/main/pages/lab/index/meme"}};function gP(i,t,e,n,s,o){const a=At;return F(),et(a,null,{default:M(()=>[P("pre",null,G(i.$route.path),1)]),_:1})}const Mm=St(pP,[["render",gP]]),NC=Object.freeze(Object.defineProperty({__proto__:null,default:Mm},Symbol.toStringTag,{value:"Module"})),_P={meta:{active:!1,icon:"mdi-check",name:"OpenAPI",description:"Alternativa para visualizao e consumo de endpoints de API",source:"https://github.com/labscriptdev/labscriptdev.github.io/tree/main/pages/lab/index/openapi"}};function bP(i,t,e,n,s,o){const a=At;return F(),et(a,null,{default:M(()=>[P("pre",null,G(i.$route.path),1)]),_:1})}const Sm=St(_P,[["render",bP]]),FC=Object.freeze(Object.defineProperty({__proto__:null,default:Sm},Symbol.toStringTag,{value:"Module"})),vP={methods:{getMap(){let i=!1,t=this;for(;t&&!i;){if(t.map)return t.map;t=t.$parent}}}};var Zo={},yP={get exports(){return Zo},set exports(i){Zo=i}};/* @preserve
 * Leaflet 1.9.3, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(i,t){(function(e,n){n(t)})(Na,function(e){var n="1.9.3";function s(r){var c,h,p,_;for(h=1,p=arguments.length;h<p;h++){_=arguments[h];for(c in _)r[c]=_[c]}return r}var o=Object.create||function(){function r(){}return function(c){return r.prototype=c,new r}}();function a(r,c){var h=Array.prototype.slice;if(r.bind)return r.bind.apply(r,h.call(arguments,1));var p=h.call(arguments,2);return function(){return r.apply(c,p.length?p.concat(h.call(arguments)):arguments)}}var l=0;function u(r){return"_leaflet_id"in r||(r._leaflet_id=++l),r._leaflet_id}function d(r,c,h){var p,_,x,C;return C=function(){p=!1,_&&(x.apply(h,_),_=!1)},x=function(){p?_=arguments:(r.apply(h,arguments),setTimeout(C,c),p=!0)},x}function f(r,c,h){var p=c[1],_=c[0],x=p-_;return r===p&&h?r:((r-_)%x+x)%x+_}function m(){return!1}function g(r,c){if(c===!1)return r;var h=Math.pow(10,c===void 0?6:c);return Math.round(r*h)/h}function b(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function y(r){return b(r).split(/\s+/)}function v(r,c){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?o(r.options):{});for(var h in c)r.options[h]=c[h];return r.options}function w(r,c,h){var p=[];for(var _ in r)p.push(encodeURIComponent(h?_.toUpperCase():_)+"="+encodeURIComponent(r[_]));return(!c||c.indexOf("?")===-1?"?":"&")+p.join("&")}var k=/\{ *([\w_ -]+) *\}/g;function S(r,c){return r.replace(k,function(h,p){var _=c[p];if(_===void 0)throw new Error("No value provided for variable "+h);return typeof _=="function"&&(_=_(c)),_})}var O=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function E(r,c){for(var h=0;h<r.length;h++)if(r[h]===c)return h;return-1}var A="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function D(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var z=0;function N(r){var c=+new Date,h=Math.max(0,16-(c-z));return z=c+h,window.setTimeout(r,h)}var $=window.requestAnimationFrame||D("RequestAnimationFrame")||N,j=window.cancelAnimationFrame||D("CancelAnimationFrame")||D("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function Z(r,c,h){if(h&&$===N)r.call(c);else return $.call(window,a(r,c))}function U(r){r&&j.call(window,r)}var K={__proto__:null,extend:s,create:o,bind:a,get lastId(){return l},stamp:u,throttle:d,wrapNum:f,falseFn:m,formatNum:g,trim:b,splitWords:y,setOptions:v,getParamString:w,template:S,isArray:O,indexOf:E,emptyImageUrl:A,requestFn:$,cancelFn:j,requestAnimFrame:Z,cancelAnimFrame:U};function it(){}it.extend=function(r){var c=function(){v(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=c.__super__=this.prototype,p=o(h);p.constructor=c,c.prototype=p;for(var _ in this)Object.prototype.hasOwnProperty.call(this,_)&&_!=="prototype"&&_!=="__super__"&&(c[_]=this[_]);return r.statics&&s(c,r.statics),r.includes&&(H(r.includes),s.apply(null,[p].concat(r.includes))),s(p,r),delete p.statics,delete p.includes,p.options&&(p.options=h.options?o(h.options):{},s(p.options,r.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var x=0,C=p._initHooks.length;x<C;x++)p._initHooks[x].call(this)}},c},it.include=function(r){var c=this.prototype.options;return s(this.prototype,r),r.options&&(this.prototype.options=c,this.mergeOptions(r.options)),this},it.mergeOptions=function(r){return s(this.prototype.options,r),this},it.addInitHook=function(r){var c=Array.prototype.slice.call(arguments,1),h=typeof r=="function"?r:function(){this[r].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function H(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=O(r)?r:[r];for(var c=0;c<r.length;c++)r[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var X={on:function(r,c,h){if(typeof r=="object")for(var p in r)this._on(p,r[p],c);else{r=y(r);for(var _=0,x=r.length;_<x;_++)this._on(r[_],c,h)}return this},off:function(r,c,h){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var p in r)this._off(p,r[p],c);else{r=y(r);for(var _=arguments.length===1,x=0,C=r.length;x<C;x++)_?this._off(r[x]):this._off(r[x],c,h)}return this},_on:function(r,c,h,p){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(r,c,h)===!1){h===this&&(h=void 0);var _={fn:c,ctx:h};p&&(_.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(_)}},_off:function(r,c,h){var p,_,x;if(this._events&&(p=this._events[r],!!p)){if(arguments.length===1){if(this._firingCount)for(_=0,x=p.length;_<x;_++)p[_].fn=m;delete this._events[r];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var C=this._listens(r,c,h);if(C!==!1){var R=p[C];this._firingCount&&(R.fn=m,this._events[r]=p=p.slice()),p.splice(C,1)}}},fire:function(r,c,h){if(!this.listens(r,h))return this;var p=s({},c,{type:r,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var _=this._events[r];if(_){this._firingCount=this._firingCount+1||1;for(var x=0,C=_.length;x<C;x++){var R=_[x],B=R.fn;R.once&&this.off(r,B,R.ctx),B.call(R.ctx||this,p)}this._firingCount--}}return h&&this._propagateEvent(p),this},listens:function(r,c,h,p){typeof r!="string"&&console.warn('"string" type argument expected');var _=c;typeof c!="function"&&(p=!!c,_=void 0,h=void 0);var x=this._events&&this._events[r];if(x&&x.length&&this._listens(r,_,h)!==!1)return!0;if(p){for(var C in this._eventParents)if(this._eventParents[C].listens(r,c,h,p))return!0}return!1},_listens:function(r,c,h){if(!this._events)return!1;var p=this._events[r]||[];if(!c)return!!p.length;h===this&&(h=void 0);for(var _=0,x=p.length;_<x;_++)if(p[_].fn===c&&p[_].ctx===h)return _;return!1},once:function(r,c,h){if(typeof r=="object")for(var p in r)this._on(p,r[p],c,!0);else{r=y(r);for(var _=0,x=r.length;_<x;_++)this._on(r[_],c,h,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[u(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[u(r)],this},_propagateEvent:function(r){for(var c in this._eventParents)this._eventParents[c].fire(r.type,s({layer:r.target,propagatedFrom:r.target},r),!0)}};X.addEventListener=X.on,X.removeEventListener=X.clearAllEventListeners=X.off,X.addOneTimeEventListener=X.once,X.fireEvent=X.fire,X.hasEventListeners=X.listens;var rt=it.extend(X);function tt(r,c,h){this.x=h?Math.round(r):r,this.y=h?Math.round(c):c}var zt=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};tt.prototype={clone:function(){return new tt(this.x,this.y)},add:function(r){return this.clone()._add(st(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(st(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new tt(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new tt(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=zt(this.x),this.y=zt(this.y),this},distanceTo:function(r){r=st(r);var c=r.x-this.x,h=r.y-this.y;return Math.sqrt(c*c+h*h)},equals:function(r){return r=st(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=st(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function st(r,c,h){return r instanceof tt?r:O(r)?new tt(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new tt(r.x,r.y):new tt(r,c,h)}function lt(r,c){if(r)for(var h=c?[r,c]:r,p=0,_=h.length;p<_;p++)this.extend(h[p])}lt.prototype={extend:function(r){var c,h;if(!r)return this;if(r instanceof tt||typeof r[0]=="number"||"x"in r)c=h=st(r);else if(r=Rt(r),c=r.min,h=r.max,!c||!h)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=h.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(r){return st((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return st(this.min.x,this.max.y)},getTopRight:function(){return st(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var c,h;return typeof r[0]=="number"||r instanceof tt?r=st(r):r=Rt(r),r instanceof lt?(c=r.min,h=r.max):c=h=r,c.x>=this.min.x&&h.x<=this.max.x&&c.y>=this.min.y&&h.y<=this.max.y},intersects:function(r){r=Rt(r);var c=this.min,h=this.max,p=r.min,_=r.max,x=_.x>=c.x&&p.x<=h.x,C=_.y>=c.y&&p.y<=h.y;return x&&C},overlaps:function(r){r=Rt(r);var c=this.min,h=this.max,p=r.min,_=r.max,x=_.x>c.x&&p.x<h.x,C=_.y>c.y&&p.y<h.y;return x&&C},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var c=this.min,h=this.max,p=Math.abs(c.x-h.x)*r,_=Math.abs(c.y-h.y)*r;return Rt(st(c.x-p,c.y-_),st(h.x+p,h.y+_))},equals:function(r){return r?(r=Rt(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function Rt(r,c){return!r||r instanceof lt?r:new lt(r,c)}function Bt(r,c){if(r)for(var h=c?[r,c]:r,p=0,_=h.length;p<_;p++)this.extend(h[p])}Bt.prototype={extend:function(r){var c=this._southWest,h=this._northEast,p,_;if(r instanceof ft)p=r,_=r;else if(r instanceof Bt){if(p=r._southWest,_=r._northEast,!p||!_)return this}else return r?this.extend(_t(r)||Pt(r)):this;return!c&&!h?(this._southWest=new ft(p.lat,p.lng),this._northEast=new ft(_.lat,_.lng)):(c.lat=Math.min(p.lat,c.lat),c.lng=Math.min(p.lng,c.lng),h.lat=Math.max(_.lat,h.lat),h.lng=Math.max(_.lng,h.lng)),this},pad:function(r){var c=this._southWest,h=this._northEast,p=Math.abs(c.lat-h.lat)*r,_=Math.abs(c.lng-h.lng)*r;return new Bt(new ft(c.lat-p,c.lng-_),new ft(h.lat+p,h.lng+_))},getCenter:function(){return new ft((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ft(this.getNorth(),this.getWest())},getSouthEast:function(){return new ft(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof ft||"lat"in r?r=_t(r):r=Pt(r);var c=this._southWest,h=this._northEast,p,_;return r instanceof Bt?(p=r.getSouthWest(),_=r.getNorthEast()):p=_=r,p.lat>=c.lat&&_.lat<=h.lat&&p.lng>=c.lng&&_.lng<=h.lng},intersects:function(r){r=Pt(r);var c=this._southWest,h=this._northEast,p=r.getSouthWest(),_=r.getNorthEast(),x=_.lat>=c.lat&&p.lat<=h.lat,C=_.lng>=c.lng&&p.lng<=h.lng;return x&&C},overlaps:function(r){r=Pt(r);var c=this._southWest,h=this._northEast,p=r.getSouthWest(),_=r.getNorthEast(),x=_.lat>c.lat&&p.lat<h.lat,C=_.lng>c.lng&&p.lng<h.lng;return x&&C},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,c){return r?(r=Pt(r),this._southWest.equals(r.getSouthWest(),c)&&this._northEast.equals(r.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Pt(r,c){return r instanceof Bt?r:new Bt(r,c)}function ft(r,c,h){if(isNaN(r)||isNaN(c))throw new Error("Invalid LatLng object: ("+r+", "+c+")");this.lat=+r,this.lng=+c,h!==void 0&&(this.alt=+h)}ft.prototype={equals:function(r,c){if(!r)return!1;r=_t(r);var h=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return h<=(c===void 0?1e-9:c)},toString:function(r){return"LatLng("+g(this.lat,r)+", "+g(this.lng,r)+")"},distanceTo:function(r){return Se.distance(this,_t(r))},wrap:function(){return Se.wrapLatLng(this)},toBounds:function(r){var c=180*r/40075017,h=c/Math.cos(Math.PI/180*this.lat);return Pt([this.lat-c,this.lng-h],[this.lat+c,this.lng+h])},clone:function(){return new ft(this.lat,this.lng,this.alt)}};function _t(r,c,h){return r instanceof ft?r:O(r)&&typeof r[0]!="object"?r.length===3?new ft(r[0],r[1],r[2]):r.length===2?new ft(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new ft(r.lat,"lng"in r?r.lng:r.lon,r.alt):c===void 0?null:new ft(r,c,h)}var ye={latLngToPoint:function(r,c){var h=this.projection.project(r),p=this.scale(c);return this.transformation._transform(h,p)},pointToLatLng:function(r,c){var h=this.scale(c),p=this.transformation.untransform(r,h);return this.projection.unproject(p)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var c=this.projection.bounds,h=this.scale(r),p=this.transformation.transform(c.min,h),_=this.transformation.transform(c.max,h);return new lt(p,_)},infinite:!1,wrapLatLng:function(r){var c=this.wrapLng?f(r.lng,this.wrapLng,!0):r.lng,h=this.wrapLat?f(r.lat,this.wrapLat,!0):r.lat,p=r.alt;return new ft(h,c,p)},wrapLatLngBounds:function(r){var c=r.getCenter(),h=this.wrapLatLng(c),p=c.lat-h.lat,_=c.lng-h.lng;if(p===0&&_===0)return r;var x=r.getSouthWest(),C=r.getNorthEast(),R=new ft(x.lat-p,x.lng-_),B=new ft(C.lat-p,C.lng-_);return new Bt(R,B)}},Se=s({},ye,{wrapLng:[-180,180],R:6371e3,distance:function(r,c){var h=Math.PI/180,p=r.lat*h,_=c.lat*h,x=Math.sin((c.lat-r.lat)*h/2),C=Math.sin((c.lng-r.lng)*h/2),R=x*x+Math.cos(p)*Math.cos(_)*C*C,B=2*Math.atan2(Math.sqrt(R),Math.sqrt(1-R));return this.R*B}}),Sn=6378137,Wi={R:Sn,MAX_LATITUDE:85.0511287798,project:function(r){var c=Math.PI/180,h=this.MAX_LATITUDE,p=Math.max(Math.min(h,r.lat),-h),_=Math.sin(p*c);return new tt(this.R*r.lng*c,this.R*Math.log((1+_)/(1-_))/2)},unproject:function(r){var c=180/Math.PI;return new ft((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*c,r.x*c/this.R)},bounds:function(){var r=Sn*Math.PI;return new lt([-r,-r],[r,r])}()};function Ui(r,c,h,p){if(O(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=c,this._c=h,this._d=p}Ui.prototype={transform:function(r,c){return this._transform(r.clone(),c)},_transform:function(r,c){return c=c||1,r.x=c*(this._a*r.x+this._b),r.y=c*(this._c*r.y+this._d),r},untransform:function(r,c){return c=c||1,new tt((r.x/c-this._b)/this._a,(r.y/c-this._d)/this._c)}};function _i(r,c,h,p){return new Ui(r,c,h,p)}var Pn=s({},Se,{code:"EPSG:3857",projection:Wi,transformation:function(){var r=.5/(Math.PI*Wi.R);return _i(r,.5,-r,.5)}()}),Ms=s({},Pn,{code:"EPSG:900913"});function Zi(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Gi(r,c){var h="",p,_,x,C,R,B;for(p=0,x=r.length;p<x;p++){for(R=r[p],_=0,C=R.length;_<C;_++)B=R[_],h+=(_?"L":"M")+B.x+" "+B.y;h+=c?nt.svg?"z":"x":""}return h||"M0 0"}var Yi=document.documentElement.style,qi="ActiveXObject"in window,ar=qi&&!document.addEventListener,Ln="msLaunchUri"in navigator&&!("documentMode"in document),Ki=Le("webkit"),Ss=Le("android"),Ps=Le("android 2")||Le("android 3"),Ls=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),lr=Ss&&Le("Google")&&Ls<537&&!("AudioNode"in window),Xi=!!window.opera,Cn=!Ln&&Le("chrome"),Qi=Le("gecko")&&!Ki&&!Xi&&!qi,V=!Cn&&Le("safari"),ot=Le("phantom"),Ft="OTransition"in Yi,Yt=navigator.platform.indexOf("Win")===0,se=qi&&"transition"in Yi,Pe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ps,bi="MozPerspective"in Yi,Cs=!window.L_DISABLE_3D&&(se||Pe||bi)&&!Ft&&!ot,ne=typeof orientation<"u"||Le("mobile"),xe=ne&&Ki,jm=ne&&Pe,wl=!window.PointerEvent&&window.MSPointerEvent,kl=!!(window.PointerEvent||wl),Tl="ontouchstart"in window||!!window.TouchEvent,Nm=!window.L_NO_TOUCH&&(Tl||kl),Fm=ne&&Xi,$m=ne&&Qi,Hm=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Wm=function(){var r=!1;try{var c=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",m,c),window.removeEventListener("testPassiveEventSupport",m,c)}catch{}return r}(),Um=function(){return!!document.createElement("canvas").getContext}(),cr=!!(document.createElementNS&&Zi("svg").createSVGRect),Zm=!!cr&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Gm=!cr&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var c=r.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}}(),Ym=navigator.platform.indexOf("Mac")===0,qm=navigator.platform.indexOf("Linux")===0;function Le(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var nt={ie:qi,ielt9:ar,edge:Ln,webkit:Ki,android:Ss,android23:Ps,androidStock:lr,opera:Xi,chrome:Cn,gecko:Qi,safari:V,phantom:ot,opera12:Ft,win:Yt,ie3d:se,webkit3d:Pe,gecko3d:bi,any3d:Cs,mobile:ne,mobileWebkit:xe,mobileWebkit3d:jm,msPointer:wl,pointer:kl,touch:Nm,touchNative:Tl,mobileOpera:Fm,mobileGecko:$m,retina:Hm,passiveEvents:Wm,canvas:Um,svg:cr,vml:Gm,inlineSvg:Zm,mac:Ym,linux:qm},Ml=nt.msPointer?"MSPointerDown":"pointerdown",Sl=nt.msPointer?"MSPointerMove":"pointermove",Pl=nt.msPointer?"MSPointerUp":"pointerup",Ll=nt.msPointer?"MSPointerCancel":"pointercancel",ur={touchstart:Ml,touchmove:Sl,touchend:Pl,touchcancel:Ll},Cl={touchstart:ep,touchmove:As,touchend:As,touchcancel:As},Ji={},Al=!1;function Km(r,c,h){return c==="touchstart"&&tp(),Cl[c]?(h=Cl[c].bind(this,h),r.addEventListener(ur[c],h,!1),h):(console.warn("wrong event specified:",c),m)}function Xm(r,c,h){if(!ur[c]){console.warn("wrong event specified:",c);return}r.removeEventListener(ur[c],h,!1)}function Qm(r){Ji[r.pointerId]=r}function Jm(r){Ji[r.pointerId]&&(Ji[r.pointerId]=r)}function El(r){delete Ji[r.pointerId]}function tp(){Al||(document.addEventListener(Ml,Qm,!0),document.addEventListener(Sl,Jm,!0),document.addEventListener(Pl,El,!0),document.addEventListener(Ll,El,!0),Al=!0)}function As(r,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var h in Ji)c.touches.push(Ji[h]);c.changedTouches=[c],r(c)}}function ep(r,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&Xt(c),As(r,c)}function ip(r){var c={},h,p;for(p in r)h=r[p],c[p]=h&&h.bind?h.bind(r):h;return r=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var np=200;function sp(r,c){r.addEventListener("dblclick",c);var h=0,p;function _(x){if(x.detail!==1){p=x.detail;return}if(!(x.pointerType==="mouse"||x.sourceCapabilities&&!x.sourceCapabilities.firesTouchEvents)){var C=Rl(x);if(!(C.some(function(B){return B instanceof HTMLLabelElement&&B.attributes.for})&&!C.some(function(B){return B instanceof HTMLInputElement||B instanceof HTMLSelectElement}))){var R=Date.now();R-h<=np?(p++,p===2&&c(ip(x))):p=1,h=R}}}return r.addEventListener("click",_),{dblclick:c,simDblclick:_}}function op(r,c){r.removeEventListener("dblclick",c.dblclick),r.removeEventListener("click",c.simDblclick)}var dr=Ds(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),An=Ds(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ol=An==="webkitTransition"||An==="OTransition"?An+"End":"transitionend";function Dl(r){return typeof r=="string"?document.getElementById(r):r}function En(r,c){var h=r.style[c]||r.currentStyle&&r.currentStyle[c];if((!h||h==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(r,null);h=p?p[c]:null}return h==="auto"?null:h}function wt(r,c,h){var p=document.createElement(r);return p.className=c||"",h&&h.appendChild(p),p}function Vt(r){var c=r.parentNode;c&&c.removeChild(r)}function Es(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function tn(r){var c=r.parentNode;c&&c.lastChild!==r&&c.appendChild(r)}function en(r){var c=r.parentNode;c&&c.firstChild!==r&&c.insertBefore(r,c.firstChild)}function hr(r,c){if(r.classList!==void 0)return r.classList.contains(c);var h=Os(r);return h.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(h)}function ht(r,c){if(r.classList!==void 0)for(var h=y(c),p=0,_=h.length;p<_;p++)r.classList.add(h[p]);else if(!hr(r,c)){var x=Os(r);fr(r,(x?x+" ":"")+c)}}function $t(r,c){r.classList!==void 0?r.classList.remove(c):fr(r,b((" "+Os(r)+" ").replace(" "+c+" "," ")))}function fr(r,c){r.className.baseVal===void 0?r.className=c:r.className.baseVal=c}function Os(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function de(r,c){"opacity"in r.style?r.style.opacity=c:"filter"in r.style&&rp(r,c)}function rp(r,c){var h=!1,p="DXImageTransform.Microsoft.Alpha";try{h=r.filters.item(p)}catch{if(c===1)return}c=Math.round(c*100),h?(h.Enabled=c!==100,h.Opacity=c):r.style.filter+=" progid:"+p+"(opacity="+c+")"}function Ds(r){for(var c=document.documentElement.style,h=0;h<r.length;h++)if(r[h]in c)return r[h];return!1}function vi(r,c,h){var p=c||new tt(0,0);r.style[dr]=(nt.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(h?" scale("+h+")":"")}function Wt(r,c){r._leaflet_pos=c,nt.any3d?vi(r,c):(r.style.left=c.x+"px",r.style.top=c.y+"px")}function yi(r){return r._leaflet_pos||new tt(0,0)}var On,Dn,mr;if("onselectstart"in document)On=function(){ct(window,"selectstart",Xt)},Dn=function(){Lt(window,"selectstart",Xt)};else{var zn=Ds(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);On=function(){if(zn){var r=document.documentElement.style;mr=r[zn],r[zn]="none"}},Dn=function(){zn&&(document.documentElement.style[zn]=mr,mr=void 0)}}function pr(){ct(window,"dragstart",Xt)}function gr(){Lt(window,"dragstart",Xt)}var zs,_r;function br(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(Is(),zs=r,_r=r.style.outline,r.style.outline="none",ct(window,"keydown",Is))}function Is(){zs&&(zs.style.outline=_r,zs=void 0,_r=void 0,Lt(window,"keydown",Is))}function zl(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function vr(r){var c=r.getBoundingClientRect();return{x:c.width/r.offsetWidth||1,y:c.height/r.offsetHeight||1,boundingClientRect:c}}var ap={__proto__:null,TRANSFORM:dr,TRANSITION:An,TRANSITION_END:Ol,get:Dl,getStyle:En,create:wt,remove:Vt,empty:Es,toFront:tn,toBack:en,hasClass:hr,addClass:ht,removeClass:$t,setClass:fr,getClass:Os,setOpacity:de,testProp:Ds,setTransform:vi,setPosition:Wt,getPosition:yi,get disableTextSelection(){return On},get enableTextSelection(){return Dn},disableImageDrag:pr,enableImageDrag:gr,preventOutline:br,restoreOutline:Is,getSizedParentNode:zl,getScale:vr};function ct(r,c,h,p){if(c&&typeof c=="object")for(var _ in c)xr(r,_,c[_],h);else{c=y(c);for(var x=0,C=c.length;x<C;x++)xr(r,c[x],h,p)}return this}var Ce="_leaflet_events";function Lt(r,c,h,p){if(arguments.length===1)Il(r),delete r[Ce];else if(c&&typeof c=="object")for(var _ in c)wr(r,_,c[_],h);else if(c=y(c),arguments.length===2)Il(r,function(R){return E(c,R)!==-1});else for(var x=0,C=c.length;x<C;x++)wr(r,c[x],h,p);return this}function Il(r,c){for(var h in r[Ce]){var p=h.split(/\d/)[0];(!c||c(p))&&wr(r,p,null,null,h)}}var yr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function xr(r,c,h,p){var _=c+u(h)+(p?"_"+u(p):"");if(r[Ce]&&r[Ce][_])return this;var x=function(R){return h.call(p||r,R||window.event)},C=x;!nt.touchNative&&nt.pointer&&c.indexOf("touch")===0?x=Km(r,c,x):nt.touch&&c==="dblclick"?x=sp(r,x):"addEventListener"in r?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?r.addEventListener(yr[c]||c,x,nt.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(x=function(R){R=R||window.event,Tr(r,R)&&C(R)},r.addEventListener(yr[c],x,!1)):r.addEventListener(c,C,!1):r.attachEvent("on"+c,x),r[Ce]=r[Ce]||{},r[Ce][_]=x}function wr(r,c,h,p,_){_=_||c+u(h)+(p?"_"+u(p):"");var x=r[Ce]&&r[Ce][_];if(!x)return this;!nt.touchNative&&nt.pointer&&c.indexOf("touch")===0?Xm(r,c,x):nt.touch&&c==="dblclick"?op(r,x):"removeEventListener"in r?r.removeEventListener(yr[c]||c,x,!1):r.detachEvent("on"+c,x),r[Ce][_]=null}function xi(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function kr(r){return xr(r,"wheel",xi),this}function In(r){return ct(r,"mousedown touchstart dblclick contextmenu",xi),r._leaflet_disable_click=!0,this}function Xt(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function wi(r){return Xt(r),xi(r),this}function Rl(r){if(r.composedPath)return r.composedPath();for(var c=[],h=r.target;h;)c.push(h),h=h.parentNode;return c}function Vl(r,c){if(!c)return new tt(r.clientX,r.clientY);var h=vr(c),p=h.boundingClientRect;return new tt((r.clientX-p.left)/h.x-c.clientLeft,(r.clientY-p.top)/h.y-c.clientTop)}var lp=nt.linux&&nt.chrome?window.devicePixelRatio:nt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Bl(r){return nt.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/lp:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Tr(r,c){var h=c.relatedTarget;if(!h)return!0;try{for(;h&&h!==r;)h=h.parentNode}catch{return!1}return h!==r}var cp={__proto__:null,on:ct,off:Lt,stopPropagation:xi,disableScrollPropagation:kr,disableClickPropagation:In,preventDefault:Xt,stop:wi,getPropagationPath:Rl,getMousePosition:Vl,getWheelDelta:Bl,isExternalTarget:Tr,addListener:ct,removeListener:Lt},jl=rt.extend({run:function(r,c,h,p){this.stop(),this._el=r,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=yi(r),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Z(this._animate,this),this._step()},_step:function(r){var c=+new Date-this._startTime,h=this._duration*1e3;c<h?this._runFrame(this._easeOut(c/h),r):(this._runFrame(1),this._complete())},_runFrame:function(r,c){var h=this._startPos.add(this._offset.multiplyBy(r));c&&h._round(),Wt(this._el,h),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),bt=rt.extend({options:{crs:Pn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,c){c=v(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(_t(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=An&&nt.any3d&&!nt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ct(this._proxy,Ol,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,c,h){if(c=c===void 0?this._zoom:this._limitZoom(c),r=this._limitCenter(_t(r),c,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=s({animate:h.animate},h.zoom),h.pan=s({animate:h.animate,duration:h.duration},h.pan));var p=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,c,h.zoom):this._tryAnimatedPan(r,h.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(r,c,h.pan&&h.pan.noMoveStart),this},setZoom:function(r,c){return this._loaded?this.setView(this.getCenter(),r,{zoom:c}):(this._zoom=r,this)},zoomIn:function(r,c){return r=r||(nt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,c)},zoomOut:function(r,c){return r=r||(nt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,c)},setZoomAround:function(r,c,h){var p=this.getZoomScale(c),_=this.getSize().divideBy(2),x=r instanceof tt?r:this.latLngToContainerPoint(r),C=x.subtract(_).multiplyBy(1-1/p),R=this.containerPointToLatLng(_.add(C));return this.setView(R,c,{zoom:h})},_getBoundsCenterZoom:function(r,c){c=c||{},r=r.getBounds?r.getBounds():Pt(r);var h=st(c.paddingTopLeft||c.padding||[0,0]),p=st(c.paddingBottomRight||c.padding||[0,0]),_=this.getBoundsZoom(r,!1,h.add(p));if(_=typeof c.maxZoom=="number"?Math.min(c.maxZoom,_):_,_===1/0)return{center:r.getCenter(),zoom:_};var x=p.subtract(h).divideBy(2),C=this.project(r.getSouthWest(),_),R=this.project(r.getNorthEast(),_),B=this.unproject(C.add(R).divideBy(2).add(x),_);return{center:B,zoom:_}},fitBounds:function(r,c){if(r=Pt(r),!r.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(r,c);return this.setView(h.center,h.zoom,c)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,c){return this.setView(r,this._zoom,{pan:c})},panBy:function(r,c){if(r=st(r).round(),c=c||{},!r.x&&!r.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new jl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){ht(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,h,c.duration||.25,c.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,c,h){if(h=h||{},h.animate===!1||!nt.any3d)return this.setView(r,c,h);this._stop();var p=this.project(this.getCenter()),_=this.project(r),x=this.getSize(),C=this._zoom;r=_t(r),c=c===void 0?C:c;var R=Math.max(x.x,x.y),B=R*this.getZoomScale(C,c),W=_.distanceTo(p)||1,Y=1.42,at=Y*Y;function mt(Ut){var Ys=Ut?-1:1,Xp=Ut?B:R,Qp=B*B-R*R+Ys*at*at*W*W,Jp=2*Xp*at*W,Ir=Qp/Jp,vc=Math.sqrt(Ir*Ir+1)-Ir,tg=vc<1e-9?-18:Math.log(vc);return tg}function fe(Ut){return(Math.exp(Ut)-Math.exp(-Ut))/2}function Ti(Ut){return(Math.exp(Ut)+Math.exp(-Ut))/2}function Gs(Ut){return fe(Ut)/Ti(Ut)}var ni=mt(0);function zr(Ut){return R*(Ti(ni)/Ti(ni+Y*Ut))}function Gp(Ut){return R*(Ti(ni)*Gs(ni+Y*Ut)-fe(ni))/at}function Yp(Ut){return 1-Math.pow(1-Ut,1.5)}var qp=Date.now(),_c=(mt(1)-ni)/Y,Kp=h.duration?1e3*h.duration:1e3*_c*.8;function bc(){var Ut=(Date.now()-qp)/Kp,Ys=Yp(Ut)*_c;Ut<=1?(this._flyToFrame=Z(bc,this),this._move(this.unproject(p.add(_.subtract(p).multiplyBy(Gp(Ys)/W)),C),this.getScaleZoom(R/zr(Ys),C),{flyTo:!0})):this._move(r,c)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),bc.call(this),this},flyToBounds:function(r,c){var h=this._getBoundsCenterZoom(r,c);return this.flyTo(h.center,h.zoom,c)},setMaxBounds:function(r){return r=Pt(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var c=this.options.minZoom;return this.options.minZoom=r,this._loaded&&c!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var c=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&c!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,c){this._enforcingBounds=!0;var h=this.getCenter(),p=this._limitCenter(h,this._zoom,Pt(r));return h.equals(p)||this.panTo(p,c),this._enforcingBounds=!1,this},panInside:function(r,c){c=c||{};var h=st(c.paddingTopLeft||c.padding||[0,0]),p=st(c.paddingBottomRight||c.padding||[0,0]),_=this.project(this.getCenter()),x=this.project(r),C=this.getPixelBounds(),R=Rt([C.min.add(h),C.max.subtract(p)]),B=R.getSize();if(!R.contains(x)){this._enforcingBounds=!0;var W=x.subtract(R.getCenter()),Y=R.extend(x).getSize().subtract(B);_.x+=W.x<0?-Y.x:Y.x,_.y+=W.y<0?-Y.y:Y.y,this.panTo(this.unproject(_),c),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=s({animate:!1,pan:!0},r===!0?{animate:!0}:r);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),p=c.divideBy(2).round(),_=h.divideBy(2).round(),x=p.subtract(_);return!x.x&&!x.y?this:(r.animate&&r.pan?this.panBy(x):(r.pan&&this._rawPanBy(x),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=s({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=a(this._handleGeolocationResponse,this),h=a(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,h,r):navigator.geolocation.getCurrentPosition(c,h,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var c=r.code,h=r.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var c=r.coords.latitude,h=r.coords.longitude,p=new ft(c,h),_=p.toBounds(r.coords.accuracy*2),x=this._locateOptions;if(x.setView){var C=this.getBoundsZoom(_);this.setView(p,x.maxZoom?Math.min(C,x.maxZoom):C)}var R={latlng:p,bounds:_,timestamp:r.timestamp};for(var B in r.coords)typeof r.coords[B]=="number"&&(R[B]=r.coords[B]);this.fire("locationfound",R)}},addHandler:function(r,c){if(!c)return this;var h=this[r]=new c(this);return this._handlers.push(h),this.options[r]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Vt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Vt(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,c){var h="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),p=wt("div",h,c||this._mapPane);return r&&(this._panes[r]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),c=this.unproject(r.getBottomLeft()),h=this.unproject(r.getTopRight());return new Bt(c,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,c,h){r=Pt(r),h=st(h||[0,0]);var p=this.getZoom()||0,_=this.getMinZoom(),x=this.getMaxZoom(),C=r.getNorthWest(),R=r.getSouthEast(),B=this.getSize().subtract(h),W=Rt(this.project(R,p),this.project(C,p)).getSize(),Y=nt.any3d?this.options.zoomSnap:1,at=B.x/W.x,mt=B.y/W.y,fe=c?Math.max(at,mt):Math.min(at,mt);return p=this.getScaleZoom(fe,p),Y&&(p=Math.round(p/(Y/100))*(Y/100),p=c?Math.ceil(p/Y)*Y:Math.floor(p/Y)*Y),Math.max(_,Math.min(x,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new tt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,c){var h=this._getTopLeftPoint(r,c);return new lt(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,c){var h=this.options.crs;return c=c===void 0?this._zoom:c,h.scale(r)/h.scale(c)},getScaleZoom:function(r,c){var h=this.options.crs;c=c===void 0?this._zoom:c;var p=h.zoom(r*h.scale(c));return isNaN(p)?1/0:p},project:function(r,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(_t(r),c)},unproject:function(r,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(st(r),c)},layerPointToLatLng:function(r){var c=st(r).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(r){var c=this.project(_t(r))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(_t(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(Pt(r))},distance:function(r,c){return this.options.crs.distance(_t(r),_t(c))},containerPointToLayerPoint:function(r){return st(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return st(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var c=this.containerPointToLayerPoint(st(r));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(_t(r)))},mouseEventToContainerPoint:function(r){return Vl(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var c=this._container=Dl(r);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ct(c,"scroll",this._onScroll,this),this._containerId=u(c)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&nt.any3d,ht(r,"leaflet-container"+(nt.touch?" leaflet-touch":"")+(nt.retina?" leaflet-retina":"")+(nt.ielt9?" leaflet-oldie":"")+(nt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=En(r,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Wt(this._mapPane,new tt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ht(r.markerPane,"leaflet-zoom-hide"),ht(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,c,h){Wt(this._mapPane,new tt(0,0));var p=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var _=this._zoom!==c;this._moveStart(_,h)._move(r,c)._moveEnd(_),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(r,c){return r&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(r,c,h,p){c===void 0&&(c=this._zoom);var _=this._zoom!==c;return this._zoom=c,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),p?h&&h.pinch&&this.fire("zoom",h):((_||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){Wt(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[u(this._container)]=this;var c=r?Lt:ct;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),nt.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=Z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,c){for(var h=[],p,_=c==="mouseout"||c==="mouseover",x=r.target||r.srcElement,C=!1;x;){if(p=this._targets[u(x)],p&&(c==="click"||c==="preclick")&&this._draggableMoved(p)){C=!0;break}if(p&&p.listens(c,!0)&&(_&&!Tr(x,r)||(h.push(p),_))||x===this._container)break;x=x.parentNode}return!h.length&&!C&&!_&&this.listens(c,!0)&&(h=[this]),h},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var c=r.target||r.srcElement;if(!(!this._loaded||c._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(c))){var h=r.type;h==="mousedown"&&br(c),this._fireDOMEvent(r,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,c,h){if(r.type==="click"){var p=s({},r);p.type="preclick",this._fireDOMEvent(p,p.type,h)}var _=this._findEventTargets(r,c);if(h){for(var x=[],C=0;C<h.length;C++)h[C].listens(c,!0)&&x.push(h[C]);_=x.concat(_)}if(_.length){c==="contextmenu"&&Xt(r);var R=_[0],B={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var W=R.getLatLng&&(!R._radius||R._radius<=10);B.containerPoint=W?this.latLngToContainerPoint(R.getLatLng()):this.mouseEventToContainerPoint(r),B.layerPoint=this.containerPointToLayerPoint(B.containerPoint),B.latlng=W?R.getLatLng():this.layerPointToLatLng(B.layerPoint)}for(C=0;C<_.length;C++)if(_[C].fire(c,B,!0),B.originalEvent._stopped||_[C].options.bubblingMouseEvents===!1&&E(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,c=this._handlers.length;r<c;r++)this._handlers[r].disable()},whenReady:function(r,c){return this._loaded?r.call(c||this,{target:this}):this.on("load",r,c),this},_getMapPanePos:function(){return yi(this._mapPane)||new tt(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,c){var h=r&&c!==void 0?this._getNewPixelOrigin(r,c):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,c){var h=this.getSize()._divideBy(2);return this.project(r,c)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,c,h){var p=this._getNewPixelOrigin(h,c);return this.project(r,c)._subtract(p)},_latLngBoundsToNewLayerBounds:function(r,c,h){var p=this._getNewPixelOrigin(h,c);return Rt([this.project(r.getSouthWest(),c)._subtract(p),this.project(r.getNorthWest(),c)._subtract(p),this.project(r.getSouthEast(),c)._subtract(p),this.project(r.getNorthEast(),c)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,c,h){if(!h)return r;var p=this.project(r,c),_=this.getSize().divideBy(2),x=new lt(p.subtract(_),p.add(_)),C=this._getBoundsOffset(x,h,c);return Math.abs(C.x)<=1&&Math.abs(C.y)<=1?r:this.unproject(p.add(C),c)},_limitOffset:function(r,c){if(!c)return r;var h=this.getPixelBounds(),p=new lt(h.min.add(r),h.max.add(r));return r.add(this._getBoundsOffset(p,c))},_getBoundsOffset:function(r,c,h){var p=Rt(this.project(c.getNorthEast(),h),this.project(c.getSouthWest(),h)),_=p.min.subtract(r.min),x=p.max.subtract(r.max),C=this._rebound(_.x,-x.x),R=this._rebound(_.y,-x.y);return new tt(C,R)},_rebound:function(r,c){return r+c>0?Math.round(r-c)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(c))},_limitZoom:function(r){var c=this.getMinZoom(),h=this.getMaxZoom(),p=nt.any3d?this.options.zoomSnap:1;return p&&(r=Math.round(r/p)*p),Math.max(c,Math.min(h,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){$t(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,c){var h=this._getCenterOffset(r)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,c),!0)},_createAnimProxy:function(){var r=this._proxy=wt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(c){var h=dr,p=this._proxy.style[h];vi(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),p===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Vt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),c=this.getZoom();vi(this._proxy,this.project(r,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,c,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(c),_=this._getCenterOffset(r)._divideBy(1-1/p);return h.animate!==!0&&!this.getSize().contains(_)?!1:(Z(function(){this._moveStart(!0,!1)._animateZoom(r,c,!0)},this),!0)},_animateZoom:function(r,c,h,p){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=c,ht(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:c,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&$t(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function up(r,c){return new bt(r,c)}var we=it.extend({options:{position:"topright"},initialize:function(r){v(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var c=this._map;return c&&c.removeControl(this),this.options.position=r,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var c=this._container=this.onAdd(r),h=this.getPosition(),p=r._controlCorners[h];return ht(c,"leaflet-control"),h.indexOf("bottom")!==-1?p.insertBefore(c,p.firstChild):p.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Vt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),Rn=function(r){return new we(r)};bt.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},c="leaflet-",h=this._controlContainer=wt("div",c+"control-container",this._container);function p(_,x){var C=c+_+" "+c+x;r[_+x]=wt("div",C,h)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Vt(this._controlCorners[r]);Vt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Nl=we.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,c,h,p){return h<p?-1:p<h?1:0}},initialize:function(r,c,h){v(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var p in r)this._addLayer(r[p],p);for(p in c)this._addLayer(c[p],p,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return we.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,c){return this._addLayer(r,c),this._map?this._update():this},addOverlay:function(r,c){return this._addLayer(r,c,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var c=this._getLayer(u(r));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){ht(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(ht(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):$t(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return $t(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",c=this._container=wt("div",r),h=this.options.collapsed;c.setAttribute("aria-haspopup",!0),In(c),kr(c);var p=this._section=wt("section",r+"-list");h&&(this._map.on("click",this.collapse,this),ct(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var _=this._layersLink=wt("a",r+"-toggle",c);_.href="#",_.title="Layers",_.setAttribute("role","button"),ct(_,{keydown:function(x){x.keyCode===13&&this._expandSafely()},click:function(x){Xt(x),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=wt("div",r+"-base",p),this._separator=wt("div",r+"-separator",p),this._overlaysList=wt("div",r+"-overlays",p),c.appendChild(p)},_getLayer:function(r){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&u(this._layers[c].layer)===r)return this._layers[c]},_addLayer:function(r,c,h){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:c,overlay:h}),this.options.sortLayers&&this._layers.sort(a(function(p,_){return this.options.sortFunction(p.layer,_.layer,p.name,_.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Es(this._baseLayersList),Es(this._overlaysList),this._layerControlInputs=[];var r,c,h,p,_=0;for(h=0;h<this._layers.length;h++)p=this._layers[h],this._addItem(p),c=c||p.overlay,r=r||!p.overlay,_+=p.overlay?0:1;return this.options.hideSingleBase&&(r=r&&_>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=c&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var c=this._getLayer(u(r.target)),h=c.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;h&&this._map.fire(h,c)},_createRadioElement:function(r,c){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(c?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=h,p.firstChild},_addItem:function(r){var c=document.createElement("label"),h=this._map.hasLayer(r.layer),p;r.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=h):p=this._createRadioElement("leaflet-base-layers_"+u(this),h),this._layerControlInputs.push(p),p.layerId=u(r.layer),ct(p,"click",this._onInputClick,this);var _=document.createElement("span");_.innerHTML=" "+r.name;var x=document.createElement("span");c.appendChild(x),x.appendChild(p),x.appendChild(_);var C=r.overlay?this._overlaysList:this._baseLayersList;return C.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){var r=this._layerControlInputs,c,h,p=[],_=[];this._handlingClick=!0;for(var x=r.length-1;x>=0;x--)c=r[x],h=this._getLayer(c.layerId).layer,c.checked?p.push(h):c.checked||_.push(h);for(x=0;x<_.length;x++)this._map.hasLayer(_[x])&&this._map.removeLayer(_[x]);for(x=0;x<p.length;x++)this._map.hasLayer(p[x])||this._map.addLayer(p[x]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,c,h,p=this._map.getZoom(),_=r.length-1;_>=0;_--)c=r[_],h=this._getLayer(c.layerId).layer,c.disabled=h.options.minZoom!==void 0&&p<h.options.minZoom||h.options.maxZoom!==void 0&&p>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;ct(r,"click",Xt),this.expand(),setTimeout(function(){Lt(r,"click",Xt)})}}),dp=function(r,c,h){return new Nl(r,c,h)},Mr=we.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var c="leaflet-control-zoom",h=wt("div",c+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,c+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,c+"-out",h,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,c,h,p,_){var x=wt("a",h,p);return x.innerHTML=r,x.href="#",x.title=c,x.setAttribute("role","button"),x.setAttribute("aria-label",c),In(x),ct(x,"click",wi),ct(x,"click",_,this),ct(x,"click",this._refocusOnMap,this),x},_updateDisabled:function(){var r=this._map,c="leaflet-disabled";$t(this._zoomInButton,c),$t(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(ht(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(ht(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});bt.mergeOptions({zoomControl:!0}),bt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Mr,this.addControl(this.zoomControl))});var hp=function(r){return new Mr(r)},Fl=we.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var c="leaflet-control-scale",h=wt("div",c),p=this.options;return this._addScales(p,c+"-line",h),r.on(p.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),h},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,c,h){r.metric&&(this._mScale=wt("div",c,h)),r.imperial&&(this._iScale=wt("div",c,h))},_update:function(){var r=this._map,c=r.getSize().y/2,h=r.distance(r.containerPointToLatLng([0,c]),r.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(h)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var c=this._getRoundNum(r),h=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,h,c/r)},_updateImperial:function(r){var c=r*3.2808399,h,p,_;c>5280?(h=c/5280,p=this._getRoundNum(h),this._updateScale(this._iScale,p+" mi",p/h)):(_=this._getRoundNum(c),this._updateScale(this._iScale,_+" ft",_/c))},_updateScale:function(r,c,h){r.style.width=Math.round(this.options.maxWidth*h)+"px",r.innerHTML=c},_getRoundNum:function(r){var c=Math.pow(10,(Math.floor(r)+"").length-1),h=r/c;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,c*h}}),fp=function(r){return new Fl(r)},mp='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Sr=we.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(nt.inlineSvg?mp+" ":"")+"Leaflet</a>"},initialize:function(r){v(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=wt("div","leaflet-control-attribution"),In(this._container);for(var c in r._layers)r._layers[c].getAttribution&&this.addAttribution(r._layers[c].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var c in this._attributions)this._attributions[c]&&r.push(c);var h=[];this.options.prefix&&h.push(this.options.prefix),r.length&&h.push(r.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});bt.mergeOptions({attributionControl:!0}),bt.addInitHook(function(){this.options.attributionControl&&new Sr().addTo(this)});var pp=function(r){return new Sr(r)};we.Layers=Nl,we.Zoom=Mr,we.Scale=Fl,we.Attribution=Sr,Rn.layers=dp,Rn.zoom=hp,Rn.scale=fp,Rn.attribution=pp;var Ae=it.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ae.addTo=function(r,c){return r.addHandler(c,this),this};var gp={Events:X},$l=nt.touch?"touchstart mousedown":"mousedown",ei=rt.extend({options:{clickTolerance:3},initialize:function(r,c,h,p){v(this,p),this._element=r,this._dragStartTarget=c||r,this._preventOutline=h},enable:function(){this._enabled||(ct(this._dragStartTarget,$l,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ei._dragging===this&&this.finishDrag(!0),Lt(this._dragStartTarget,$l,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!hr(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){ei._dragging===this&&this.finishDrag();return}if(!(ei._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(ei._dragging=this,this._preventOutline&&br(this._element),pr(),On(),!this._moving)){this.fire("down");var c=r.touches?r.touches[0]:r,h=zl(this._element);this._startPoint=new tt(c.clientX,c.clientY),this._startPos=yi(this._element),this._parentScale=vr(h);var p=r.type==="mousedown";ct(document,p?"mousemove":"touchmove",this._onMove,this),ct(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var c=r.touches&&r.touches.length===1?r.touches[0]:r,h=new tt(c.clientX,c.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,Xt(r),this._moved||(this.fire("dragstart"),this._moved=!0,ht(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ht(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),Wt(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){$t(document.body,"leaflet-dragging"),this._lastTarget&&($t(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Lt(document,"mousemove touchmove",this._onMove,this),Lt(document,"mouseup touchend touchcancel",this._onUp,this),gr(),Dn(),this._moved&&this._moving&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,ei._dragging=!1}});function Hl(r,c){if(!c||!r.length)return r.slice();var h=c*c;return r=vp(r,h),r=bp(r,h),r}function Wl(r,c,h){return Math.sqrt(Vn(r,c,h,!0))}function _p(r,c,h){return Vn(r,c,h)}function bp(r,c){var h=r.length,p=typeof Uint8Array!=void 0+""?Uint8Array:Array,_=new p(h);_[0]=_[h-1]=1,Pr(r,_,c,0,h-1);var x,C=[];for(x=0;x<h;x++)_[x]&&C.push(r[x]);return C}function Pr(r,c,h,p,_){var x=0,C,R,B;for(R=p+1;R<=_-1;R++)B=Vn(r[R],r[p],r[_],!0),B>x&&(C=R,x=B);x>h&&(c[C]=1,Pr(r,c,h,p,C),Pr(r,c,h,C,_))}function vp(r,c){for(var h=[r[0]],p=1,_=0,x=r.length;p<x;p++)yp(r[p],r[_])>c&&(h.push(r[p]),_=p);return _<x-1&&h.push(r[x-1]),h}var Ul;function Zl(r,c,h,p,_){var x=p?Ul:ki(r,h),C=ki(c,h),R,B,W;for(Ul=C;;){if(!(x|C))return[r,c];if(x&C)return!1;R=x||C,B=Rs(r,c,R,h,_),W=ki(B,h),R===x?(r=B,x=W):(c=B,C=W)}}function Rs(r,c,h,p,_){var x=c.x-r.x,C=c.y-r.y,R=p.min,B=p.max,W,Y;return h&8?(W=r.x+x*(B.y-r.y)/C,Y=B.y):h&4?(W=r.x+x*(R.y-r.y)/C,Y=R.y):h&2?(W=B.x,Y=r.y+C*(B.x-r.x)/x):h&1&&(W=R.x,Y=r.y+C*(R.x-r.x)/x),new tt(W,Y,_)}function ki(r,c){var h=0;return r.x<c.min.x?h|=1:r.x>c.max.x&&(h|=2),r.y<c.min.y?h|=4:r.y>c.max.y&&(h|=8),h}function yp(r,c){var h=c.x-r.x,p=c.y-r.y;return h*h+p*p}function Vn(r,c,h,p){var _=c.x,x=c.y,C=h.x-_,R=h.y-x,B=C*C+R*R,W;return B>0&&(W=((r.x-_)*C+(r.y-x)*R)/B,W>1?(_=h.x,x=h.y):W>0&&(_+=C*W,x+=R*W)),C=r.x-_,R=r.y-x,p?C*C+R*R:new tt(_,x)}function he(r){return!O(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function Gl(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),he(r)}function Yl(r,c){var h,p,_,x,C,R,B,W;if(!r||r.length===0)throw new Error("latlngs not passed");he(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Y=[];for(var at in r)Y.push(c.project(_t(r[at])));var mt=Y.length;for(h=0,p=0;h<mt-1;h++)p+=Y[h].distanceTo(Y[h+1])/2;if(p===0)W=Y[0];else for(h=0,x=0;h<mt-1;h++)if(C=Y[h],R=Y[h+1],_=C.distanceTo(R),x+=_,x>p){B=(x-p)/_,W=[R.x-B*(R.x-C.x),R.y-B*(R.y-C.y)];break}return c.unproject(st(W))}var xp={__proto__:null,simplify:Hl,pointToSegmentDistance:Wl,closestPointOnSegment:_p,clipSegment:Zl,_getEdgeIntersection:Rs,_getBitCode:ki,_sqClosestPointOnSegment:Vn,isFlat:he,_flat:Gl,polylineCenter:Yl};function ql(r,c,h){var p,_=[1,4,2,8],x,C,R,B,W,Y,at,mt;for(x=0,Y=r.length;x<Y;x++)r[x]._code=ki(r[x],c);for(R=0;R<4;R++){for(at=_[R],p=[],x=0,Y=r.length,C=Y-1;x<Y;C=x++)B=r[x],W=r[C],B._code&at?W._code&at||(mt=Rs(W,B,at,c,h),mt._code=ki(mt,c),p.push(mt)):(W._code&at&&(mt=Rs(W,B,at,c,h),mt._code=ki(mt,c),p.push(mt)),p.push(B));r=p}return r}function Kl(r,c){var h,p,_,x,C,R,B,W,Y;if(!r||r.length===0)throw new Error("latlngs not passed");he(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var at=[];for(var mt in r)at.push(c.project(_t(r[mt])));var fe=at.length;for(R=B=W=0,h=0,p=fe-1;h<fe;p=h++)_=at[h],x=at[p],C=_.y*x.x-x.y*_.x,B+=(_.x+x.x)*C,W+=(_.y+x.y)*C,R+=C*3;return R===0?Y=at[0]:Y=[B/R,W/R],c.unproject(st(Y))}var wp={__proto__:null,clipPolygon:ql,polygonCenter:Kl},Lr={project:function(r){return new tt(r.lng,r.lat)},unproject:function(r){return new ft(r.y,r.x)},bounds:new lt([-180,-90],[180,90])},Cr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new lt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var c=Math.PI/180,h=this.R,p=r.lat*c,_=this.R_MINOR/h,x=Math.sqrt(1-_*_),C=x*Math.sin(p),R=Math.tan(Math.PI/4-p/2)/Math.pow((1-C)/(1+C),x/2);return p=-h*Math.log(Math.max(R,1e-10)),new tt(r.lng*c*h,p)},unproject:function(r){for(var c=180/Math.PI,h=this.R,p=this.R_MINOR/h,_=Math.sqrt(1-p*p),x=Math.exp(-r.y/h),C=Math.PI/2-2*Math.atan(x),R=0,B=.1,W;R<15&&Math.abs(B)>1e-7;R++)W=_*Math.sin(C),W=Math.pow((1-W)/(1+W),_/2),B=Math.PI/2-2*Math.atan(x*W)-C,C+=B;return new ft(C*c,r.x*c/h)}},kp={__proto__:null,LonLat:Lr,Mercator:Cr,SphericalMercator:Wi},Tp=s({},Se,{code:"EPSG:3395",projection:Cr,transformation:function(){var r=.5/(Math.PI*Cr.R);return _i(r,.5,-r,.5)}()}),Xl=s({},Se,{code:"EPSG:4326",projection:Lr,transformation:_i(1/180,1,-1/180,.5)}),Mp=s({},ye,{projection:Lr,transformation:_i(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,c){var h=c.lng-r.lng,p=c.lat-r.lat;return Math.sqrt(h*h+p*p)},infinite:!0});ye.Earth=Se,ye.EPSG3395=Tp,ye.EPSG3857=Pn,ye.EPSG900913=Ms,ye.EPSG4326=Xl,ye.Simple=Mp;var ke=rt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[u(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[u(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var c=r.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var h=this.getEvents();c.on(h,this),this.once("remove",function(){c.off(h,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});bt.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var c=u(r);return this._layers[c]?this:(this._layers[c]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var c=u(r);return this._layers[c]?(this._loaded&&r.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return u(r)in this._layers},eachLayer:function(r,c){for(var h in this._layers)r.call(c,this._layers[h]);return this},_addLayers:function(r){r=r?O(r)?r:[r]:[];for(var c=0,h=r.length;c<h;c++)this.addLayer(r[c])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[u(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var c=u(r);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,c=-1/0,h=this._getZoomSpan();for(var p in this._zoomBoundLayers){var _=this._zoomBoundLayers[p].options;r=_.minZoom===void 0?r:Math.min(r,_.minZoom),c=_.maxZoom===void 0?c:Math.max(c,_.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=r===1/0?void 0:r,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var nn=ke.extend({initialize:function(r,c){v(this,c),this._layers={};var h,p;if(r)for(h=0,p=r.length;h<p;h++)this.addLayer(r[h])},addLayer:function(r){var c=this.getLayerId(r);return this._layers[c]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var c=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(r){var c=typeof r=="number"?r:this.getLayerId(r);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var c=Array.prototype.slice.call(arguments,1),h,p;for(h in this._layers)p=this._layers[h],p[r]&&p[r].apply(p,c);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,c){for(var h in this._layers)r.call(c,this._layers[h]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return u(r)}}),Sp=function(r,c){return new nn(r,c)},Ve=nn.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),nn.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),nn.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new Bt;for(var c in this._layers){var h=this._layers[c];r.extend(h.getBounds?h.getBounds():h.getLatLng())}return r}}),Pp=function(r,c){return new Ve(r,c)},sn=it.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){v(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,c){var h=this._getIconUrl(r);if(!h){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(h,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(p,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(r,c){var h=this.options,p=h[c+"Size"];typeof p=="number"&&(p=[p,p]);var _=st(p),x=st(c==="shadow"&&h.shadowAnchor||h.iconAnchor||_&&_.divideBy(2,!0));r.className="leaflet-marker-"+c+" "+(h.className||""),x&&(r.style.marginLeft=-x.x+"px",r.style.marginTop=-x.y+"px"),_&&(r.style.width=_.x+"px",r.style.height=_.y+"px")},_createImg:function(r,c){return c=c||document.createElement("img"),c.src=r,c},_getIconUrl:function(r){return nt.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function Lp(r){return new sn(r)}var Bn=sn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof Bn.imagePath!="string"&&(Bn.imagePath=this._detectIconPath()),(this.options.imagePath||Bn.imagePath)+sn.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var c=function(h,p,_){var x=p.exec(h);return x&&x[_]};return r=c(r,/^url\((['"])?(.+)\1\)$/,2),r&&c(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=wt("div","leaflet-default-icon-path",document.body),c=En(r,"background-image")||En(r,"backgroundImage");if(document.body.removeChild(r),c=this._stripUrl(c),c)return c;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),Ql=Ae.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new ei(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ht(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&$t(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var c=this._marker,h=c._map,p=this._marker.options.autoPanSpeed,_=this._marker.options.autoPanPadding,x=yi(c._icon),C=h.getPixelBounds(),R=h.getPixelOrigin(),B=Rt(C.min._subtract(R).add(_),C.max._subtract(R).subtract(_));if(!B.contains(x)){var W=st((Math.max(B.max.x,x.x)-B.max.x)/(C.max.x-B.max.x)-(Math.min(B.min.x,x.x)-B.min.x)/(C.min.x-B.min.x),(Math.max(B.max.y,x.y)-B.max.y)/(C.max.y-B.max.y)-(Math.min(B.min.y,x.y)-B.min.y)/(C.min.y-B.min.y)).multiplyBy(p);h.panBy(W,{animate:!1}),this._draggable._newPos._add(W),this._draggable._startPos._add(W),Wt(c._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=Z(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=Z(this._adjustPan.bind(this,r)))},_onDrag:function(r){var c=this._marker,h=c._shadow,p=yi(c._icon),_=c._map.layerPointToLatLng(p);h&&Wt(h,p),c._latlng=_,r.latlng=_,r.oldLatLng=this._oldLatLng,c.fire("move",r).fire("drag",r)},_onDragEnd:function(r){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),Vs=ke.extend({options:{icon:new Bn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,c){v(this,c),this._latlng=_t(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var c=this._latlng;return this._latlng=_t(r),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=r.icon.createIcon(this._icon),p=!1;h!==this._icon&&(this._icon&&this._removeIcon(),p=!0,r.title&&(h.title=r.title),h.tagName==="IMG"&&(h.alt=r.alt||"")),ht(h,c),r.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ct(h,"focus",this._panOnFocus,this);var _=r.icon.createShadow(this._shadow),x=!1;_!==this._shadow&&(this._removeShadow(),x=!0),_&&(ht(_,c),_.alt=""),this._shadow=_,r.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),_&&x&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Lt(this._icon,"focus",this._panOnFocus,this),Vt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Vt(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&Wt(this._icon,r),this._shadow&&Wt(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var c=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(ht(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ql)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ql(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&de(this._icon,r),this._shadow&&de(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var c=this.options.icon.options,h=c.iconSize?st(c.iconSize):st(0,0),p=c.iconAnchor?st(c.iconAnchor):st(0,0);r.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:h.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Cp(r,c){return new Vs(r,c)}var ii=ke.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return v(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Bs=ii.extend({options:{fill:!0,radius:10},initialize:function(r,c){v(this,c),this._latlng=_t(r),this._radius=this.options.radius},setLatLng:function(r){var c=this._latlng;return this._latlng=_t(r),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var c=r&&r.radius||this._radius;return ii.prototype.setStyle.call(this,r),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,c=this._radiusY||r,h=this._clickTolerance(),p=[r+h,c+h];this._pxBounds=new lt(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ap(r,c){return new Bs(r,c)}var Ar=Bs.extend({initialize:function(r,c,h){if(typeof c=="number"&&(c=s({},h,{radius:c})),v(this,c),this._latlng=_t(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new Bt(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:ii.prototype.setStyle,_project:function(){var r=this._latlng.lng,c=this._latlng.lat,h=this._map,p=h.options.crs;if(p.distance===Se.distance){var _=Math.PI/180,x=this._mRadius/Se.R/_,C=h.project([c+x,r]),R=h.project([c-x,r]),B=C.add(R).divideBy(2),W=h.unproject(B).lat,Y=Math.acos((Math.cos(x*_)-Math.sin(c*_)*Math.sin(W*_))/(Math.cos(c*_)*Math.cos(W*_)))/_;(isNaN(Y)||Y===0)&&(Y=x/Math.cos(Math.PI/180*c)),this._point=B.subtract(h.getPixelOrigin()),this._radius=isNaN(Y)?0:B.x-h.project([W,r-Y]).x,this._radiusY=B.y-C.y}else{var at=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(at).x}this._updateBounds()}});function Ep(r,c,h){return new Ar(r,c,h)}var Be=ii.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,c){v(this,c),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var c=1/0,h=null,p=Vn,_,x,C=0,R=this._parts.length;C<R;C++)for(var B=this._parts[C],W=1,Y=B.length;W<Y;W++){_=B[W-1],x=B[W];var at=p(r,_,x,!0);at<c&&(c=at,h=p(r,_,x))}return h&&(h.distance=Math.sqrt(c)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Yl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,c){return c=c||this._defaultShape(),r=_t(r),c.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new Bt,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return he(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var c=[],h=he(r),p=0,_=r.length;p<_;p++)h?(c[p]=_t(r[p]),this._bounds.extend(c[p])):c[p]=this._convertLatLngs(r[p]);return c},_project:function(){var r=new lt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),c=new tt(r,r);this._rawPxBounds&&(this._pxBounds=new lt([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(r,c,h){var p=r[0]instanceof ft,_=r.length,x,C;if(p){for(C=[],x=0;x<_;x++)C[x]=this._map.latLngToLayerPoint(r[x]),h.extend(C[x]);c.push(C)}else for(x=0;x<_;x++)this._projectLatlngs(r[x],c,h)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,h,p,_,x,C,R,B;for(h=0,_=0,x=this._rings.length;h<x;h++)for(B=this._rings[h],p=0,C=B.length;p<C-1;p++)R=Zl(B[p],B[p+1],r,p,!0),R&&(c[_]=c[_]||[],c[_].push(R[0]),(R[1]!==B[p+1]||p===C-2)&&(c[_].push(R[1]),_++))}},_simplifyPoints:function(){for(var r=this._parts,c=this.options.smoothFactor,h=0,p=r.length;h<p;h++)r[h]=Hl(r[h],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,c){var h,p,_,x,C,R,B=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(h=0,x=this._parts.length;h<x;h++)for(R=this._parts[h],p=0,C=R.length,_=C-1;p<C;_=p++)if(!(!c&&p===0)&&Wl(r,R[_],R[p])<=B)return!0;return!1}});function Op(r,c){return new Be(r,c)}Be._flat=Gl;var on=Be.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Kl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var c=Be.prototype._convertLatLngs.call(this,r),h=c.length;return h>=2&&c[0]instanceof ft&&c[0].equals(c[h-1])&&c.pop(),c},_setLatLngs:function(r){Be.prototype._setLatLngs.call(this,r),he(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return he(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,c=this.options.weight,h=new tt(c,c);if(r=new lt(r.min.subtract(h),r.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,_=this._rings.length,x;p<_;p++)x=ql(this._rings[p],r,!0),x.length&&this._parts.push(x)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var c=!1,h,p,_,x,C,R,B,W;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(x=0,B=this._parts.length;x<B;x++)for(h=this._parts[x],C=0,W=h.length,R=W-1;C<W;R=C++)p=h[C],_=h[R],p.y>r.y!=_.y>r.y&&r.x<(_.x-p.x)*(r.y-p.y)/(_.y-p.y)+p.x&&(c=!c);return c||Be.prototype._containsPoint.call(this,r,!0)}});function Dp(r,c){return new on(r,c)}var je=Ve.extend({initialize:function(r,c){v(this,c),this._layers={},r&&this.addData(r)},addData:function(r){var c=O(r)?r:r.features,h,p,_;if(c){for(h=0,p=c.length;h<p;h++)_=c[h],(_.geometries||_.geometry||_.features||_.coordinates)&&this.addData(_);return this}var x=this.options;if(x.filter&&!x.filter(r))return this;var C=js(r,x);return C?(C.feature=$s(r),C.defaultOptions=C.options,this.resetStyle(C),x.onEachFeature&&x.onEachFeature(r,C),this.addLayer(C)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=s({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(c){this._setLayerStyle(c,r)},this)},_setLayerStyle:function(r,c){r.setStyle&&(typeof c=="function"&&(c=c(r.feature)),r.setStyle(c))}});function js(r,c){var h=r.type==="Feature"?r.geometry:r,p=h?h.coordinates:null,_=[],x=c&&c.pointToLayer,C=c&&c.coordsToLatLng||Er,R,B,W,Y;if(!p&&!h)return null;switch(h.type){case"Point":return R=C(p),Jl(x,r,R,c);case"MultiPoint":for(W=0,Y=p.length;W<Y;W++)R=C(p[W]),_.push(Jl(x,r,R,c));return new Ve(_);case"LineString":case"MultiLineString":return B=Ns(p,h.type==="LineString"?0:1,C),new Be(B,c);case"Polygon":case"MultiPolygon":return B=Ns(p,h.type==="Polygon"?1:2,C),new on(B,c);case"GeometryCollection":for(W=0,Y=h.geometries.length;W<Y;W++){var at=js({geometry:h.geometries[W],type:"Feature",properties:r.properties},c);at&&_.push(at)}return new Ve(_);case"FeatureCollection":for(W=0,Y=h.features.length;W<Y;W++){var mt=js(h.features[W],c);mt&&_.push(mt)}return new Ve(_);default:throw new Error("Invalid GeoJSON object.")}}function Jl(r,c,h,p){return r?r(c,h):new Vs(h,p&&p.markersInheritOptions&&p)}function Er(r){return new ft(r[1],r[0],r[2])}function Ns(r,c,h){for(var p=[],_=0,x=r.length,C;_<x;_++)C=c?Ns(r[_],c-1,h):(h||Er)(r[_]),p.push(C);return p}function Or(r,c){return r=_t(r),r.alt!==void 0?[g(r.lng,c),g(r.lat,c),g(r.alt,c)]:[g(r.lng,c),g(r.lat,c)]}function Fs(r,c,h,p){for(var _=[],x=0,C=r.length;x<C;x++)_.push(c?Fs(r[x],he(r[x])?0:c-1,h,p):Or(r[x],p));return!c&&h&&_.push(_[0].slice()),_}function rn(r,c){return r.feature?s({},r.feature,{geometry:c}):$s(c)}function $s(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var Dr={toGeoJSON:function(r){return rn(this,{type:"Point",coordinates:Or(this.getLatLng(),r)})}};Vs.include(Dr),Ar.include(Dr),Bs.include(Dr),Be.include({toGeoJSON:function(r){var c=!he(this._latlngs),h=Fs(this._latlngs,c?1:0,!1,r);return rn(this,{type:(c?"Multi":"")+"LineString",coordinates:h})}}),on.include({toGeoJSON:function(r){var c=!he(this._latlngs),h=c&&!he(this._latlngs[0]),p=Fs(this._latlngs,h?2:c?1:0,!0,r);return c||(p=[p]),rn(this,{type:(h?"Multi":"")+"Polygon",coordinates:p})}}),nn.include({toMultiPoint:function(r){var c=[];return this.eachLayer(function(h){c.push(h.toGeoJSON(r).geometry.coordinates)}),rn(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(r){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(r);var h=c==="GeometryCollection",p=[];return this.eachLayer(function(_){if(_.toGeoJSON){var x=_.toGeoJSON(r);if(h)p.push(x.geometry);else{var C=$s(x);C.type==="FeatureCollection"?p.push.apply(p,C.features):p.push(C)}}}),h?rn(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function tc(r,c){return new je(r,c)}var zp=tc,Hs=ke.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,c,h){this._url=r,this._bounds=Pt(c),v(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ht(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Vt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&tn(this._image),this},bringToBack:function(){return this._map&&en(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=Pt(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",c=this._image=r?this._url:wt("img");if(ht(c,"leaflet-image-layer"),this._zoomAnimated&&ht(c,"leaflet-zoom-animated"),this.options.className&&ht(c,this.options.className),c.onselectstart=m,c.onmousemove=m,c.onload=a(this.fire,this,"load"),c.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(r){var c=this._map.getZoomScale(r.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;vi(this._image,h,c)},_reset:function(){var r=this._image,c=new lt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=c.getSize();Wt(r,c.min),r.style.width=h.x+"px",r.style.height=h.y+"px"},_updateOpacity:function(){de(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),Ip=function(r,c,h){return new Hs(r,c,h)},ec=Hs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",c=this._image=r?this._url:wt("video");if(ht(c,"leaflet-image-layer"),this._zoomAnimated&&ht(c,"leaflet-zoom-animated"),this.options.className&&ht(c,this.options.className),c.onselectstart=m,c.onmousemove=m,c.onloadeddata=a(this.fire,this,"load"),r){for(var h=c.getElementsByTagName("source"),p=[],_=0;_<h.length;_++)p.push(h[_].src);this._url=h.length>0?p:[c.src];return}O(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var x=0;x<this._url.length;x++){var C=wt("source");C.src=this._url[x],c.appendChild(C)}}});function Rp(r,c,h){return new ec(r,c,h)}var ic=Hs.extend({_initImage:function(){var r=this._image=this._url;ht(r,"leaflet-image-layer"),this._zoomAnimated&&ht(r,"leaflet-zoom-animated"),this.options.className&&ht(r,this.options.className),r.onselectstart=m,r.onmousemove=m}});function Vp(r,c,h){return new ic(r,c,h)}var Ee=ke.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,c){r&&(r instanceof ft||O(r))?(this._latlng=_t(r),v(this,c)):(v(this,r),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&de(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&de(this._container,1),this.bringToFront(),this.options.interactive&&(ht(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(de(this._container,0),this._removeTimeout=setTimeout(a(Vt,void 0,this._container),200)):Vt(this._container),this.options.interactive&&($t(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=_t(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&tn(this._container),this},bringToBack:function(){return this._map&&en(this._container),this},_prepareOpen:function(r){var c=this._source;if(!c._map)return!1;if(c instanceof Ve){c=null;var h=this._source._layers;for(var p in h)if(h[p]._map){c=h[p];break}if(!c)return!1;this._source=c}if(!r)if(c.getCenter)r=c.getCenter();else if(c.getLatLng)r=c.getLatLng();else if(c.getBounds)r=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")r.innerHTML=c;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),c=st(this.options.offset),h=this._getAnchor();this._zoomAnimated?Wt(this._container,r.add(h)):c=c.add(r).add(h);var p=this._containerBottom=-c.y,_=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=p+"px",this._container.style.left=_+"px"}},_getAnchor:function(){return[0,0]}});bt.include({_initOverlay:function(r,c,h,p){var _=c;return _ instanceof r||(_=new r(p).setContent(c)),h&&_.setLatLng(h),_}}),ke.include({_initOverlay:function(r,c,h,p){var _=h;return _ instanceof r?(v(_,p),_._source=this):(_=c&&!p?c:new r(p,this),_.setContent(h)),_}});var Ws=Ee.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,Ee.prototype.openOn.call(this,r)},onAdd:function(r){Ee.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ii||this._source.on("preclick",xi))},onRemove:function(r){Ee.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ii||this._source.off("preclick",xi))},getEvents:function(){var r=Ee.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",c=this._container=wt("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=wt("div",r+"-content-wrapper",c);if(this._contentNode=wt("div",r+"-content",h),In(c),kr(this._contentNode),ct(c,"contextmenu",xi),this._tipContainer=wt("div",r+"-tip-container",c),this._tip=wt("div",r+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=wt("a",r+"-close-button",c);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',ct(p,"click",function(_){Xt(_),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,c=r.style;c.width="",c.whiteSpace="nowrap";var h=r.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),c.width=h+1+"px",c.whiteSpace="",c.height="";var p=r.offsetHeight,_=this.options.maxHeight,x="leaflet-popup-scrolled";_&&p>_?(c.height=_+"px",ht(r,x)):$t(r,x),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var c=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),h=this._getAnchor();Wt(this._container,c.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,c=parseInt(En(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+c,p=this._containerWidth,_=new tt(this._containerLeft,-h-this._containerBottom);_._add(yi(this._container));var x=r.layerPointToContainerPoint(_),C=st(this.options.autoPanPadding),R=st(this.options.autoPanPaddingTopLeft||C),B=st(this.options.autoPanPaddingBottomRight||C),W=r.getSize(),Y=0,at=0;x.x+p+B.x>W.x&&(Y=x.x+p-W.x+B.x),x.x-Y-R.x<0&&(Y=x.x-R.x),x.y+h+B.y>W.y&&(at=x.y+h-W.y+B.y),x.y-at-R.y<0&&(at=x.y-R.y),(Y||at)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([Y,at]))}},_getAnchor:function(){return st(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Bp=function(r,c){return new Ws(r,c)};bt.mergeOptions({closePopupOnClick:!0}),bt.include({openPopup:function(r,c,h){return this._initOverlay(Ws,r,c,h).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),ke.include({bindPopup:function(r,c){return this._popup=this._initOverlay(Ws,this._popup,r,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof Ve||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){wi(r);var c=r.layer||r.target;if(this._popup._source===c&&!(c instanceof ii)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=c,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var Us=Ee.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){Ee.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){Ee.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=Ee.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",c=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=wt("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var c,h,p=this._map,_=this._container,x=p.latLngToContainerPoint(p.getCenter()),C=p.layerPointToContainerPoint(r),R=this.options.direction,B=_.offsetWidth,W=_.offsetHeight,Y=st(this.options.offset),at=this._getAnchor();R==="top"?(c=B/2,h=W):R==="bottom"?(c=B/2,h=0):R==="center"?(c=B/2,h=W/2):R==="right"?(c=0,h=W/2):R==="left"?(c=B,h=W/2):C.x<x.x?(R="right",c=0,h=W/2):(R="left",c=B+(Y.x+at.x)*2,h=W/2),r=r.subtract(st(c,h,!0)).add(Y).add(at),$t(_,"leaflet-tooltip-right"),$t(_,"leaflet-tooltip-left"),$t(_,"leaflet-tooltip-top"),$t(_,"leaflet-tooltip-bottom"),ht(_,"leaflet-tooltip-"+R),Wt(_,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&de(this._container,r)},_animateZoom:function(r){var c=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(c)},_getAnchor:function(){return st(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),jp=function(r,c){return new Us(r,c)};bt.include({openTooltip:function(r,c,h){return this._initOverlay(Us,r,c,h).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),ke.include({bindTooltip:function(r,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Us,this._tooltip,r,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var c=r?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[c](h),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof Ve||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var c=r.getElement();c&&(ct(c,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),ct(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var c=r.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0))},_moveTooltip:function(r){var c=r.latlng,h,p;this._tooltip.options.sticky&&r.originalEvent&&(h=this._map.mouseEventToContainerPoint(r.originalEvent),p=this._map.containerPointToLayerPoint(h),c=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(c)}});var nc=sn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var c=r&&r.tagName==="DIV"?r:document.createElement("div"),h=this.options;if(h.html instanceof Element?(Es(c),c.appendChild(h.html)):c.innerHTML=h.html!==!1?h.html:"",h.bgPos){var p=st(h.bgPos);c.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function Np(r){return new nc(r)}sn.Default=Bn;var jn=ke.extend({options:{tileSize:256,opacity:1,updateWhenIdle:nt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){v(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Vt(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(tn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(en(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof tt?r:new tt(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var c=this.getPane().children,h=-r(-1/0,1/0),p=0,_=c.length,x;p<_;p++)x=c[p].style.zIndex,c[p]!==this._container&&x&&(h=r(h,+x));isFinite(h)&&(this.options.zIndex=h+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!nt.ielt9){de(this._container,this.options.opacity);var r=+new Date,c=!1,h=!1;for(var p in this._tiles){var _=this._tiles[p];if(!(!_.current||!_.loaded)){var x=Math.min(1,(r-_.loaded)/200);de(_.el,x),x<1?c=!0:(_.active?h=!0:this._onOpaqueTile(_),_.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),c&&(U(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=wt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,c=this.options.maxZoom;if(r!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===r?(this._levels[h].el.style.zIndex=c-Math.abs(r-h),this._onUpdateLevel(h)):(Vt(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var p=this._levels[r],_=this._map;return p||(p=this._levels[r]={},p.el=wt("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=c,p.origin=_.project(_.unproject(_.getPixelOrigin()),r).round(),p.zoom=r,this._setZoomTransform(p,_.getCenter(),_.getZoom()),m(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var r,c,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)c=this._tiles[r],c.retain=c.current;for(r in this._tiles)if(c=this._tiles[r],c.current&&!c.active){var p=c.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var c in this._tiles)this._tiles[c].coords.z===r&&this._removeTile(c)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Vt(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,c,h,p){var _=Math.floor(r/2),x=Math.floor(c/2),C=h-1,R=new tt(+_,+x);R.z=+C;var B=this._tileCoordsToKey(R),W=this._tiles[B];return W&&W.active?(W.retain=!0,!0):(W&&W.loaded&&(W.retain=!0),C>p?this._retainParent(_,x,C,p):!1)},_retainChildren:function(r,c,h,p){for(var _=2*r;_<2*r+2;_++)for(var x=2*c;x<2*c+2;x++){var C=new tt(_,x);C.z=h+1;var R=this._tileCoordsToKey(C),B=this._tiles[R];if(B&&B.active){B.retain=!0;continue}else B&&B.loaded&&(B.retain=!0);h+1<p&&this._retainChildren(_,x,h+1,p)}},_resetView:function(r){var c=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var c=this.options;return c.minNativeZoom!==void 0&&r<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<r?c.maxNativeZoom:r},_setView:function(r,c,h,p){var _=Math.round(c);this.options.maxZoom!==void 0&&_>this.options.maxZoom||this.options.minZoom!==void 0&&_<this.options.minZoom?_=void 0:_=this._clampZoom(_);var x=this.options.updateWhenZooming&&_!==this._tileZoom;(!p||x)&&(this._tileZoom=_,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),_!==void 0&&this._update(r),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(r,c)},_setZoomTransforms:function(r,c){for(var h in this._levels)this._setZoomTransform(this._levels[h],r,c)},_setZoomTransform:function(r,c,h){var p=this._map.getZoomScale(h,r.zoom),_=r.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(c,h)).round();nt.any3d?vi(r.el,_,p):Wt(r.el,_)},_resetGrid:function(){var r=this._map,c=r.options.crs,h=this._tileSize=this.getTileSize(),p=this._tileZoom,_=this._map.getPixelWorldBounds(this._tileZoom);_&&(this._globalTileRange=this._pxBoundsToTileRange(_)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,c.wrapLng[0]],p).x/h.x),Math.ceil(r.project([0,c.wrapLng[1]],p).x/h.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([c.wrapLat[0],0],p).y/h.x),Math.ceil(r.project([c.wrapLat[1],0],p).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var c=this._map,h=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),p=c.getZoomScale(h,this._tileZoom),_=c.project(r,this._tileZoom).floor(),x=c.getSize().divideBy(p*2);return new lt(_.subtract(x),_.add(x))},_update:function(r){var c=this._map;if(c){var h=this._clampZoom(c.getZoom());if(r===void 0&&(r=c.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(r),_=this._pxBoundsToTileRange(p),x=_.getCenter(),C=[],R=this.options.keepBuffer,B=new lt(_.getBottomLeft().subtract([R,-R]),_.getTopRight().add([R,-R]));if(!(isFinite(_.min.x)&&isFinite(_.min.y)&&isFinite(_.max.x)&&isFinite(_.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var W in this._tiles){var Y=this._tiles[W].coords;(Y.z!==this._tileZoom||!B.contains(new tt(Y.x,Y.y)))&&(this._tiles[W].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(r,h);return}for(var at=_.min.y;at<=_.max.y;at++)for(var mt=_.min.x;mt<=_.max.x;mt++){var fe=new tt(mt,at);if(fe.z=this._tileZoom,!!this._isValidTile(fe)){var Ti=this._tiles[this._tileCoordsToKey(fe)];Ti?Ti.current=!0:C.push(fe)}}if(C.sort(function(ni,zr){return ni.distanceTo(x)-zr.distanceTo(x)}),C.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Gs=document.createDocumentFragment();for(mt=0;mt<C.length;mt++)this._addTile(C[mt],Gs);this._level.el.appendChild(Gs)}}}},_isValidTile:function(r){var c=this._map.options.crs;if(!c.infinite){var h=this._globalTileRange;if(!c.wrapLng&&(r.x<h.min.x||r.x>h.max.x)||!c.wrapLat&&(r.y<h.min.y||r.y>h.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(r);return Pt(this.options.bounds).overlaps(p)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var c=this._map,h=this.getTileSize(),p=r.scaleBy(h),_=p.add(h),x=c.unproject(p,r.z),C=c.unproject(_,r.z);return[x,C]},_tileCoordsToBounds:function(r){var c=this._tileCoordsToNwSe(r),h=new Bt(c[0],c[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var c=r.split(":"),h=new tt(+c[0],+c[1]);return h.z=+c[2],h},_removeTile:function(r){var c=this._tiles[r];c&&(Vt(c.el),delete this._tiles[r],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){ht(r,"leaflet-tile");var c=this.getTileSize();r.style.width=c.x+"px",r.style.height=c.y+"px",r.onselectstart=m,r.onmousemove=m,nt.ielt9&&this.options.opacity<1&&de(r,this.options.opacity)},_addTile:function(r,c){var h=this._getTilePos(r),p=this._tileCoordsToKey(r),_=this.createTile(this._wrapCoords(r),a(this._tileReady,this,r));this._initTile(_),this.createTile.length<2&&Z(a(this._tileReady,this,r,null,_)),Wt(_,h),this._tiles[p]={el:_,coords:r,current:!0},c.appendChild(_),this.fire("tileloadstart",{tile:_,coords:r})},_tileReady:function(r,c,h){c&&this.fire("tileerror",{error:c,tile:h,coords:r});var p=this._tileCoordsToKey(r);h=this._tiles[p],h&&(h.loaded=+new Date,this._map._fadeAnimated?(de(h.el,0),U(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),c||(ht(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),nt.ielt9||!this._map._fadeAnimated?Z(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var c=new tt(this._wrapX?f(r.x,this._wrapX):r.x,this._wrapY?f(r.y,this._wrapY):r.y);return c.z=r.z,c},_pxBoundsToTileRange:function(r){var c=this.getTileSize();return new lt(r.min.unscaleBy(c).floor(),r.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function Fp(r){return new jn(r)}var an=jn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,c){this._url=r,c=v(this,c),c.detectRetina&&nt.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,c){return this._url===r&&c===void 0&&(c=!0),this._url=r,c||this.redraw(),this},createTile:function(r,c){var h=document.createElement("img");return ct(h,"load",a(this._tileOnLoad,this,c,h)),ct(h,"error",a(this._tileOnError,this,c,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(r),h},getTileUrl:function(r){var c={r:nt.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-r.y;this.options.tms&&(c.y=h),c["-y"]=h}return S(this._url,s(c,this.options))},_tileOnLoad:function(r,c){nt.ielt9?setTimeout(a(r,this,null,c),0):r(null,c)},_tileOnError:function(r,c,h){var p=this.options.errorTileUrl;p&&c.getAttribute("src")!==p&&(c.src=p),r(h,c)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,c=this.options.maxZoom,h=this.options.zoomReverse,p=this.options.zoomOffset;return h&&(r=c-r),r+p},_getSubdomain:function(r){var c=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var r,c;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(c=this._tiles[r].el,c.onload=m,c.onerror=m,!c.complete)){c.src=A;var h=this._tiles[r].coords;Vt(c),delete this._tiles[r],this.fire("tileabort",{tile:c,coords:h})}},_removeTile:function(r){var c=this._tiles[r];if(c)return c.el.setAttribute("src",A),jn.prototype._removeTile.call(this,r)},_tileReady:function(r,c,h){if(!(!this._map||h&&h.getAttribute("src")===A))return jn.prototype._tileReady.call(this,r,c,h)}});function sc(r,c){return new an(r,c)}var oc=an.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,c){this._url=r;var h=s({},this.defaultWmsParams);for(var p in c)p in this.options||(h[p]=c[p]);c=v(this,c);var _=c.detectRetina&&nt.retina?2:1,x=this.getTileSize();h.width=x.x*_,h.height=x.y*_,this.wmsParams=h},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,an.prototype.onAdd.call(this,r)},getTileUrl:function(r){var c=this._tileCoordsToNwSe(r),h=this._crs,p=Rt(h.project(c[0]),h.project(c[1])),_=p.min,x=p.max,C=(this._wmsVersion>=1.3&&this._crs===Xl?[_.y,_.x,x.y,x.x]:[_.x,_.y,x.x,x.y]).join(","),R=an.prototype.getTileUrl.call(this,r);return R+w(this.wmsParams,R,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+C},setParams:function(r,c){return s(this.wmsParams,r),c||this.redraw(),this}});function $p(r,c){return new oc(r,c)}an.WMS=oc,sc.wms=$p;var Ne=ke.extend({options:{padding:.1},initialize:function(r){v(this,r),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&ht(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,c){var h=this._map.getZoomScale(c,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),_=this._map.project(this._center,c),x=p.multiplyBy(-h).add(_).subtract(this._map._getNewPixelOrigin(r,c));nt.any3d?vi(this._container,x,h):Wt(this._container,x)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,c=this._map.getSize(),h=this._map.containerPointToLayerPoint(c.multiplyBy(-r)).round();this._bounds=new lt(h,h.add(c.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),rc=Ne.extend({options:{tolerance:0},getEvents:function(){var r=Ne.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ne.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");ct(r,"mousemove",this._onMouseMove,this),ct(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ct(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,Vt(this._container),Lt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var c in this._layers)r=this._layers[c],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ne.prototype._update.call(this);var r=this._bounds,c=this._container,h=r.getSize(),p=nt.retina?2:1;Wt(c,r.min),c.width=p*h.x,c.height=p*h.y,c.style.width=h.x+"px",c.style.height=h.y+"px",nt.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Ne.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[u(r)]=r;var c=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var c=r._order,h=c.next,p=c.prev;h?h.prev=p:this._drawLast=p,p?p.next=h:this._drawFirst=h,delete r._order,delete this._layers[u(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var c=r.options.dashArray.split(/[, ]+/),h=[],p,_;for(_=0;_<c.length;_++){if(p=Number(c[_]),isNaN(p))return;h.push(p)}r.options._dashArray=h}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||Z(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var c=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new lt,this._redrawBounds.extend(r._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(r._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var c=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,c=this._redrawBounds;if(this._ctx.save(),c){var h=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)r=p.layer,(!c||r._pxBounds&&r._pxBounds.intersects(c))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,c){if(this._drawing){var h,p,_,x,C=r._parts,R=C.length,B=this._ctx;if(R){for(B.beginPath(),h=0;h<R;h++){for(p=0,_=C[h].length;p<_;p++)x=C[h][p],B[p?"lineTo":"moveTo"](x.x,x.y);c&&B.closePath()}this._fillStroke(B,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var c=r._point,h=this._ctx,p=Math.max(Math.round(r._radius),1),_=(Math.max(Math.round(r._radiusY),1)||p)/p;_!==1&&(h.save(),h.scale(1,_)),h.beginPath(),h.arc(c.x,c.y/_,p,0,Math.PI*2,!1),_!==1&&h.restore(),this._fillStroke(h,r)}},_fillStroke:function(r,c){var h=c.options;h.fill&&(r.globalAlpha=h.fillOpacity,r.fillStyle=h.fillColor||h.color,r.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(r.setLineDash&&r.setLineDash(c.options&&c.options._dashArray||[]),r.globalAlpha=h.opacity,r.lineWidth=h.weight,r.strokeStyle=h.color,r.lineCap=h.lineCap,r.lineJoin=h.lineJoin,r.stroke())},_onClick:function(r){for(var c=this._map.mouseEventToLayerPoint(r),h,p,_=this._drawFirst;_;_=_.next)h=_.layer,h.options.interactive&&h._containsPoint(c)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(h))&&(p=h);this._fireEvent(p?[p]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,c)}},_handleMouseOut:function(r){var c=this._hoveredLayer;c&&($t(this._container,"leaflet-interactive"),this._fireEvent([c],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,c){if(!this._mouseHoverThrottled){for(var h,p,_=this._drawFirst;_;_=_.next)h=_.layer,h.options.interactive&&h._containsPoint(c)&&(p=h);p!==this._hoveredLayer&&(this._handleMouseOut(r),p&&(ht(this._container,"leaflet-interactive"),this._fireEvent([p],r,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,c,h){this._map._fireDOMEvent(c,h||c.type,r)},_bringToFront:function(r){var c=r._order;if(c){var h=c.next,p=c.prev;if(h)h.prev=p;else return;p?p.next=h:h&&(this._drawFirst=h),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(r)}},_bringToBack:function(r){var c=r._order;if(c){var h=c.next,p=c.prev;if(p)p.next=h;else return;h?h.prev=p:p&&(this._drawLast=p),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(r)}}});function ac(r){return nt.canvas?new rc(r):null}var Nn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Hp={_initContainer:function(){this._container=wt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ne.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var c=r._container=Nn("shape");ht(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",r._path=Nn("path"),c.appendChild(r._path),this._updateStyle(r),this._layers[u(r)]=r},_addPath:function(r){var c=r._container;this._container.appendChild(c),r.options.interactive&&r.addInteractiveTarget(c)},_removePath:function(r){var c=r._container;Vt(c),r.removeInteractiveTarget(c),delete this._layers[u(r)]},_updateStyle:function(r){var c=r._stroke,h=r._fill,p=r.options,_=r._container;_.stroked=!!p.stroke,_.filled=!!p.fill,p.stroke?(c||(c=r._stroke=Nn("stroke")),_.appendChild(c),c.weight=p.weight+"px",c.color=p.color,c.opacity=p.opacity,p.dashArray?c.dashStyle=O(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=p.lineCap.replace("butt","flat"),c.joinstyle=p.lineJoin):c&&(_.removeChild(c),r._stroke=null),p.fill?(h||(h=r._fill=Nn("fill")),_.appendChild(h),h.color=p.fillColor||p.color,h.opacity=p.fillOpacity):h&&(_.removeChild(h),r._fill=null)},_updateCircle:function(r){var c=r._point.round(),h=Math.round(r._radius),p=Math.round(r._radiusY||h);this._setPath(r,r._empty()?"M0 0":"AL "+c.x+","+c.y+" "+h+","+p+" 0,"+65535*360)},_setPath:function(r,c){r._path.v=c},_bringToFront:function(r){tn(r._container)},_bringToBack:function(r){en(r._container)}},Zs=nt.vml?Nn:Zi,Fn=Ne.extend({_initContainer:function(){this._container=Zs("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Zs("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Vt(this._container),Lt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ne.prototype._update.call(this);var r=this._bounds,c=r.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,h.setAttribute("width",c.x),h.setAttribute("height",c.y)),Wt(h,r.min),h.setAttribute("viewBox",[r.min.x,r.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(r){var c=r._path=Zs("path");r.options.className&&ht(c,r.options.className),r.options.interactive&&ht(c,"leaflet-interactive"),this._updateStyle(r),this._layers[u(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Vt(r._path),r.removeInteractiveTarget(r._path),delete this._layers[u(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var c=r._path,h=r.options;c&&(h.stroke?(c.setAttribute("stroke",h.color),c.setAttribute("stroke-opacity",h.opacity),c.setAttribute("stroke-width",h.weight),c.setAttribute("stroke-linecap",h.lineCap),c.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?c.setAttribute("stroke-dasharray",h.dashArray):c.removeAttribute("stroke-dasharray"),h.dashOffset?c.setAttribute("stroke-dashoffset",h.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),h.fill?(c.setAttribute("fill",h.fillColor||h.color),c.setAttribute("fill-opacity",h.fillOpacity),c.setAttribute("fill-rule",h.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(r,c){this._setPath(r,Gi(r._parts,c))},_updateCircle:function(r){var c=r._point,h=Math.max(Math.round(r._radius),1),p=Math.max(Math.round(r._radiusY),1)||h,_="a"+h+","+p+" 0 1,0 ",x=r._empty()?"M0 0":"M"+(c.x-h)+","+c.y+_+h*2+",0 "+_+-h*2+",0 ";this._setPath(r,x)},_setPath:function(r,c){r._path.setAttribute("d",c)},_bringToFront:function(r){tn(r._path)},_bringToBack:function(r){en(r._path)}});nt.vml&&Fn.include(Hp);function lc(r){return nt.svg||nt.vml?new Fn(r):null}bt.include({getRenderer:function(r){var c=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var c=this._paneRenderers[r];return c===void 0&&(c=this._createRenderer({pane:r}),this._paneRenderers[r]=c),c},_createRenderer:function(r){return this.options.preferCanvas&&ac(r)||lc(r)}});var cc=on.extend({initialize:function(r,c){on.prototype.initialize.call(this,this._boundsToLatLngs(r),c)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=Pt(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function Wp(r,c){return new cc(r,c)}Fn.create=Zs,Fn.pointsToPath=Gi,je.geometryToLayer=js,je.coordsToLatLng=Er,je.coordsToLatLngs=Ns,je.latLngToCoords=Or,je.latLngsToCoords=Fs,je.getFeature=rn,je.asFeature=$s,bt.mergeOptions({boxZoom:!0});var uc=Ae.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){ct(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Lt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Vt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),On(),pr(),this._startPoint=this._map.mouseEventToContainerPoint(r),ct(document,{contextmenu:wi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=wt("div","leaflet-zoom-box",this._container),ht(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var c=new lt(this._point,this._startPoint),h=c.getSize();Wt(this._box,c.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(Vt(this._box),$t(this._container,"leaflet-crosshair")),Dn(),gr(),Lt(document,{contextmenu:wi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var c=new Bt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});bt.addInitHook("addHandler","boxZoom",uc),bt.mergeOptions({doubleClickZoom:!0});var dc=Ae.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var c=this._map,h=c.getZoom(),p=c.options.zoomDelta,_=r.originalEvent.shiftKey?h-p:h+p;c.options.doubleClickZoom==="center"?c.setZoom(_):c.setZoomAround(r.containerPoint,_)}});bt.addInitHook("addHandler","doubleClickZoom",dc),bt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var hc=Ae.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new ei(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}ht(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){$t(this._map._container,"leaflet-grab"),$t(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=Pt(this._map.options.maxBounds);this._offsetLimit=Rt(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var c=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(c),this._prunePositions(c)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,c){return r-(r-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;r.x<c.min.x&&(r.x=this._viscousLimit(r.x,c.min.x)),r.y<c.min.y&&(r.y=this._viscousLimit(r.y,c.min.y)),r.x>c.max.x&&(r.x=this._viscousLimit(r.x,c.max.x)),r.y>c.max.y&&(r.y=this._viscousLimit(r.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,c=Math.round(r/2),h=this._initialWorldOffset,p=this._draggable._newPos.x,_=(p-c+h)%r+c-h,x=(p+c+h)%r-c-h,C=Math.abs(_+h)<Math.abs(x+h)?_:x;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=C},_onDragEnd:function(r){var c=this._map,h=c.options,p=!h.inertia||r.noInertia||this._times.length<2;if(c.fire("dragend",r),p)c.fire("moveend");else{this._prunePositions(+new Date);var _=this._lastPos.subtract(this._positions[0]),x=(this._lastTime-this._times[0])/1e3,C=h.easeLinearity,R=_.multiplyBy(C/x),B=R.distanceTo([0,0]),W=Math.min(h.inertiaMaxSpeed,B),Y=R.multiplyBy(W/B),at=W/(h.inertiaDeceleration*C),mt=Y.multiplyBy(-at/2).round();!mt.x&&!mt.y?c.fire("moveend"):(mt=c._limitOffset(mt,c.options.maxBounds),Z(function(){c.panBy(mt,{duration:at,easeLinearity:C,noMoveStart:!0,animate:!0})}))}}});bt.addInitHook("addHandler","dragging",hc),bt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var fc=Ae.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),ct(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Lt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,c=document.documentElement,h=r.scrollTop||c.scrollTop,p=r.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(p,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var c=this._panKeys={},h=this.keyCodes,p,_;for(p=0,_=h.left.length;p<_;p++)c[h.left[p]]=[-1*r,0];for(p=0,_=h.right.length;p<_;p++)c[h.right[p]]=[r,0];for(p=0,_=h.down.length;p<_;p++)c[h.down[p]]=[0,r];for(p=0,_=h.up.length;p<_;p++)c[h.up[p]]=[0,-1*r]},_setZoomDelta:function(r){var c=this._zoomKeys={},h=this.keyCodes,p,_;for(p=0,_=h.zoomIn.length;p<_;p++)c[h.zoomIn[p]]=r;for(p=0,_=h.zoomOut.length;p<_;p++)c[h.zoomOut[p]]=-r},_addHooks:function(){ct(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Lt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var c=r.keyCode,h=this._map,p;if(c in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(p=this._panKeys[c],r.shiftKey&&(p=st(p).multiplyBy(3)),h.options.maxBounds&&(p=h._limitOffset(st(p),h.options.maxBounds)),h.options.worldCopyJump){var _=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(p)));h.panTo(_)}else h.panBy(p)}else if(c in this._zoomKeys)h.setZoom(h.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;wi(r)}}});bt.addInitHook("addHandler","keyboard",fc),bt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var mc=Ae.extend({addHooks:function(){ct(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Lt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var c=Bl(r),h=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var p=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),p),wi(r)},_performZoom:function(){var r=this._map,c=r.getZoom(),h=this._map.options.zoomSnap||0;r._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),_=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,x=h?Math.ceil(_/h)*h:_,C=r._limitZoom(c+(this._delta>0?x:-x))-c;this._delta=0,this._startTime=null,C&&(r.options.scrollWheelZoom==="center"?r.setZoom(c+C):r.setZoomAround(this._lastMousePos,c+C))}});bt.addInitHook("addHandler","scrollWheelZoom",mc);var Up=600;bt.mergeOptions({tapHold:nt.touchNative&&nt.safari&&nt.mobile,tapTolerance:15});var pc=Ae.extend({addHooks:function(){ct(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Lt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var c=r.touches[0];this._startPos=this._newPos=new tt(c.clientX,c.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(ct(document,"touchend",Xt),ct(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),Up),ct(document,"touchend touchcancel contextmenu",this._cancel,this),ct(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){Lt(document,"touchend",Xt),Lt(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),Lt(document,"touchend touchcancel contextmenu",this._cancel,this),Lt(document,"touchmove",this._onMove,this)},_onMove:function(r){var c=r.touches[0];this._newPos=new tt(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,c){var h=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});h._simulated=!0,c.target.dispatchEvent(h)}});bt.addInitHook("addHandler","tapHold",pc),bt.mergeOptions({touchZoom:nt.touch,bounceAtZoomLimits:!0});var gc=Ae.extend({addHooks:function(){ht(this._map._container,"leaflet-touch-zoom"),ct(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){$t(this._map._container,"leaflet-touch-zoom"),Lt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var c=this._map;if(!(!r.touches||r.touches.length!==2||c._animatingZoom||this._zooming)){var h=c.mouseEventToContainerPoint(r.touches[0]),p=c.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(h.add(p)._divideBy(2))),this._startDist=h.distanceTo(p),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),ct(document,"touchmove",this._onTouchMove,this),ct(document,"touchend touchcancel",this._onTouchEnd,this),Xt(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var c=this._map,h=c.mouseEventToContainerPoint(r.touches[0]),p=c.mouseEventToContainerPoint(r.touches[1]),_=h.distanceTo(p)/this._startDist;if(this._zoom=c.getScaleZoom(_,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&_<1||this._zoom>c.getMaxZoom()&&_>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,_===1)return}else{var x=h._add(p)._divideBy(2)._subtract(this._centerPoint);if(_===1&&x.x===0&&x.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(x),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var C=a(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Z(C,this,!0),Xt(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),Lt(document,"touchmove",this._onTouchMove,this),Lt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});bt.addInitHook("addHandler","touchZoom",gc),bt.BoxZoom=uc,bt.DoubleClickZoom=dc,bt.Drag=hc,bt.Keyboard=fc,bt.ScrollWheelZoom=mc,bt.TapHold=pc,bt.TouchZoom=gc,e.Bounds=lt,e.Browser=nt,e.CRS=ye,e.Canvas=rc,e.Circle=Ar,e.CircleMarker=Bs,e.Class=it,e.Control=we,e.DivIcon=nc,e.DivOverlay=Ee,e.DomEvent=cp,e.DomUtil=ap,e.Draggable=ei,e.Evented=rt,e.FeatureGroup=Ve,e.GeoJSON=je,e.GridLayer=jn,e.Handler=Ae,e.Icon=sn,e.ImageOverlay=Hs,e.LatLng=ft,e.LatLngBounds=Bt,e.Layer=ke,e.LayerGroup=nn,e.LineUtil=xp,e.Map=bt,e.Marker=Vs,e.Mixin=gp,e.Path=ii,e.Point=tt,e.PolyUtil=wp,e.Polygon=on,e.Polyline=Be,e.Popup=Ws,e.PosAnimation=jl,e.Projection=kp,e.Rectangle=cc,e.Renderer=Ne,e.SVG=Fn,e.SVGOverlay=ic,e.TileLayer=an,e.Tooltip=Us,e.Transformation=Ui,e.Util=K,e.VideoOverlay=ec,e.bind=a,e.bounds=Rt,e.canvas=ac,e.circle=Ep,e.circleMarker=Ap,e.control=Rn,e.divIcon=Np,e.extend=s,e.featureGroup=Pp,e.geoJSON=tc,e.geoJson=zp,e.gridLayer=Fp,e.icon=Lp,e.imageOverlay=Ip,e.latLng=_t,e.latLngBounds=Pt,e.layerGroup=Sp,e.map=up,e.marker=Cp,e.point=st,e.polygon=Dp,e.polyline=Op,e.popup=Bp,e.rectangle=Wp,e.setOptions=v,e.stamp=u,e.svg=lc,e.svgOverlay=Vp,e.tileLayer=sc,e.tooltip=jp,e.transformation=_i,e.version=n,e.videoOverlay=Rp;var Zp=window.L;e.noConflict=function(){return window.L=Zp,this},window.L=e})})(yP,Zo);const Od=Zo,xP={extends:vP,props:{center:{type:Array,default:()=>[0,0]},zoom:{type:Number,default:5},tileLayer:{type:[String],default:"https://tile.openstreetmap.org/{z}/{x}/{y}.png"},bounds:{type:Array,default:()=>[0,0,0,0]}},watch:{$props:{deep:!0,handler(i){i.zoom!=this.map.getZoom()&&this.map.setZoom(i.zoom),i.tileLayer!=this.mapTileLayer._url&&this.mapTileLayer.setUrl(i.tileLayer)}}},methods:{mapInit(){this.map=Od.map(this.$el,{center:this.center,zoom:this.zoom}),this.mapTileLayer=Od.tileLayer(this.tileLayer,{}).addTo(this.map),this.map.on("moveend",async t=>{const e=Object.values(this.map.getCenter());this.$emit("update:center",e),this.$emit("update:bounds",this.getBounds())}),this.map.on("zoomend",async t=>{this.$emit("update:zoom",this.map.getZoom()),this.$emit("update:bounds",this.getBounds())}),["zoomlevelschange","resize","unload","viewreset","load","zoomstart","movestart","zoom","move","zoomend","moveend","popupopen","popupclose","autopanstart","tooltipopen","tooltipclose","locationerror","locationfound","click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","contextmenu","keypress","keydown","keyup","preclick","zoomanim"].forEach(t=>{this.map.on(t,e=>{this.emitMerge(`map:${t}`,{event:e}),this.emitMerge("map:any",{event:e})})});const i=new Event("init");this.emitMerge("map:init",{event:i}),this.emitMerge("map:any",{event:i})},emitMerge(i,t={}){this.$emit(i,{type:i,map:this.map,zoom:this.map.getZoom(),center:this.map.getCenter(),bounds:this.getBounds(),osmUrl:this.getOsmUrl(),xy:this.getXY(),...t})},getOsmUrl(){return`https://api.openstreetmap.org/api/0.6/map?[out:json];out;&bbox=${this.getBounds().join(",")}`},getBounds(){const i=this.map.getBounds();return[i.getWest(),i.getSouth(),i.getEast(),i.getNorth()]},getXY(){const[i,t]=this.center,e=this.map.getZoom(),n=Math.floor((1-Math.log(Math.tan(i*Math.PI/180)+1/Math.cos(i*Math.PI/180))/Math.PI)/2*Math.pow(2,e)),s=Math.floor((t+180)/360*Math.pow(2,e));return{x:n,y:s}}},data(){return{map:!1,mapTileLayer:!1}},mounted(){this.mapInit()}},wP={style:{height:"400px"}};function kP(i,t,e,n,s,o){return F(),q("div",wP)}const TP=St(xP,[["render",kP]]),MP=/^[og]\s*(.+)?/,SP=/^mtllib /,PP=/^usemtl /,LP=/^usemap /,Dd=/\s+/,zd=new Tt,ca=new Tt,Id=new Tt,Rd=new Tt,pe=new Tt,fo=new Ke;function CP(){const i={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(t,e){if(this.object&&this.object.fromDeclaration===!1){this.object.name=t,this.object.fromDeclaration=e!==!1;return}const n=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:t||"",fromDeclaration:e!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(s,o){const a=this._finalize(!1);a&&(a.inherited||a.groupCount<=0)&&this.materials.splice(a.index,1);const l={index:this.materials.length,name:s||"",mtllib:Array.isArray(o)&&o.length>0?o[o.length-1]:"",smooth:a!==void 0?a.smooth:this.smooth,groupStart:a!==void 0?a.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(u){const d={index:typeof u=="number"?u:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return d.clone=this.clone.bind(d),d}};return this.materials.push(l),l},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(s){const o=this.currentMaterial();if(o&&o.groupEnd===-1&&(o.groupEnd=this.geometry.vertices.length/3,o.groupCount=o.groupEnd-o.groupStart,o.inherited=!1),s&&this.materials.length>1)for(let a=this.materials.length-1;a>=0;a--)this.materials[a].groupCount<=0&&this.materials.splice(a,1);return s&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),o}},n&&n.name&&typeof n.clone=="function"){const s=n.clone(0);s.inherited=!0,this.object.materials.push(s)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(t,e){const n=parseInt(t,10);return(n>=0?n-1:n+e/3)*3},parseNormalIndex:function(t,e){const n=parseInt(t,10);return(n>=0?n-1:n+e/3)*3},parseUVIndex:function(t,e){const n=parseInt(t,10);return(n>=0?n-1:n+e/2)*2},addVertex:function(t,e,n){const s=this.vertices,o=this.object.geometry.vertices;o.push(s[t+0],s[t+1],s[t+2]),o.push(s[e+0],s[e+1],s[e+2]),o.push(s[n+0],s[n+1],s[n+2])},addVertexPoint:function(t){const e=this.vertices;this.object.geometry.vertices.push(e[t+0],e[t+1],e[t+2])},addVertexLine:function(t){const e=this.vertices;this.object.geometry.vertices.push(e[t+0],e[t+1],e[t+2])},addNormal:function(t,e,n){const s=this.normals,o=this.object.geometry.normals;o.push(s[t+0],s[t+1],s[t+2]),o.push(s[e+0],s[e+1],s[e+2]),o.push(s[n+0],s[n+1],s[n+2])},addFaceNormal:function(t,e,n){const s=this.vertices,o=this.object.geometry.normals;zd.fromArray(s,t),ca.fromArray(s,e),Id.fromArray(s,n),pe.subVectors(Id,ca),Rd.subVectors(zd,ca),pe.cross(Rd),pe.normalize(),o.push(pe.x,pe.y,pe.z),o.push(pe.x,pe.y,pe.z),o.push(pe.x,pe.y,pe.z)},addColor:function(t,e,n){const s=this.colors,o=this.object.geometry.colors;s[t]!==void 0&&o.push(s[t+0],s[t+1],s[t+2]),s[e]!==void 0&&o.push(s[e+0],s[e+1],s[e+2]),s[n]!==void 0&&o.push(s[n+0],s[n+1],s[n+2])},addUV:function(t,e,n){const s=this.uvs,o=this.object.geometry.uvs;o.push(s[t+0],s[t+1]),o.push(s[e+0],s[e+1]),o.push(s[n+0],s[n+1])},addDefaultUV:function(){const t=this.object.geometry.uvs;t.push(0,0),t.push(0,0),t.push(0,0)},addUVLine:function(t){const e=this.uvs;this.object.geometry.uvs.push(e[t+0],e[t+1])},addFace:function(t,e,n,s,o,a,l,u,d){const f=this.vertices.length;let m=this.parseVertexIndex(t,f),g=this.parseVertexIndex(e,f),b=this.parseVertexIndex(n,f);if(this.addVertex(m,g,b),this.addColor(m,g,b),l!==void 0&&l!==""){const y=this.normals.length;m=this.parseNormalIndex(l,y),g=this.parseNormalIndex(u,y),b=this.parseNormalIndex(d,y),this.addNormal(m,g,b)}else this.addFaceNormal(m,g,b);if(s!==void 0&&s!==""){const y=this.uvs.length;m=this.parseUVIndex(s,y),g=this.parseUVIndex(o,y),b=this.parseUVIndex(a,y),this.addUV(m,g,b),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(t){this.object.geometry.type="Points";const e=this.vertices.length;for(let n=0,s=t.length;n<s;n++){const o=this.parseVertexIndex(t[n],e);this.addVertexPoint(o),this.addColor(o)}},addLineGeometry:function(t,e){this.object.geometry.type="Line";const n=this.vertices.length,s=this.uvs.length;for(let o=0,a=t.length;o<a;o++)this.addVertexLine(this.parseVertexIndex(t[o],n));for(let o=0,a=e.length;o<a;o++)this.addUVLine(this.parseUVIndex(e[o],s))}};return i.startObject("",!1),i}class AP extends jd{constructor(t){super(t),this.materials=null}load(t,e,n,s){const o=this,a=new $a(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(t,function(l){try{e(o.parse(l))}catch(u){s?s(u):console.error(u),o.manager.itemError(t)}},n,s)}setMaterials(t){return this.materials=t,this}parse(t){const e=new CP;t.indexOf(`\r
`)!==-1&&(t=t.replace(/\r\n/g,`
`)),t.indexOf(`\\
`)!==-1&&(t=t.replace(/\\\n/g,""));const n=t.split(`
`);let s=[];for(let l=0,u=n.length;l<u;l++){const d=n[l].trimStart();if(d.length===0)continue;const f=d.charAt(0);if(f!=="#")if(f==="v"){const m=d.split(Dd);switch(m[0]){case"v":e.vertices.push(parseFloat(m[1]),parseFloat(m[2]),parseFloat(m[3])),m.length>=7?(fo.setRGB(parseFloat(m[4]),parseFloat(m[5]),parseFloat(m[6])).convertSRGBToLinear(),e.colors.push(fo.r,fo.g,fo.b)):e.colors.push(void 0,void 0,void 0);break;case"vn":e.normals.push(parseFloat(m[1]),parseFloat(m[2]),parseFloat(m[3]));break;case"vt":e.uvs.push(parseFloat(m[1]),parseFloat(m[2]));break}}else if(f==="f"){const g=d.slice(1).trim().split(Dd),b=[];for(let v=0,w=g.length;v<w;v++){const k=g[v];if(k.length>0){const S=k.split("/");b.push(S)}}const y=b[0];for(let v=1,w=b.length-1;v<w;v++){const k=b[v],S=b[v+1];e.addFace(y[0],k[0],S[0],y[1],k[1],S[1],y[2],k[2],S[2])}}else if(f==="l"){const m=d.substring(1).trim().split(" ");let g=[];const b=[];if(d.indexOf("/")===-1)g=m;else for(let y=0,v=m.length;y<v;y++){const w=m[y].split("/");w[0]!==""&&g.push(w[0]),w[1]!==""&&b.push(w[1])}e.addLineGeometry(g,b)}else if(f==="p"){const g=d.slice(1).trim().split(" ");e.addPointGeometry(g)}else if((s=MP.exec(d))!==null){const m=(" "+s[0].slice(1).trim()).slice(1);e.startObject(m)}else if(PP.test(d))e.object.startMaterial(d.substring(7).trim(),e.materialLibraries);else if(SP.test(d))e.materialLibraries.push(d.substring(7).trim());else if(LP.test(d))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(f==="s"){if(s=d.split(" "),s.length>1){const g=s[1].trim().toLowerCase();e.object.smooth=g!=="0"&&g!=="off"}else e.object.smooth=!0;const m=e.object.currentMaterial();m&&(m.smooth=e.object.smooth)}else{if(d==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+d+'"')}}e.finalize();const o=new po;if(o.materialLibraries=[].concat(e.materialLibraries),!(e.objects.length===1&&e.objects[0].geometry.vertices.length===0)===!0)for(let l=0,u=e.objects.length;l<u;l++){const d=e.objects[l],f=d.geometry,m=d.materials,g=f.type==="Line",b=f.type==="Points";let y=!1;if(f.vertices.length===0)continue;const v=new us;v.setAttribute("position",new un(f.vertices,3)),f.normals.length>0&&v.setAttribute("normal",new un(f.normals,3)),f.colors.length>0&&(y=!0,v.setAttribute("color",new un(f.colors,3))),f.hasUVIndices===!0&&v.setAttribute("uv",new un(f.uvs,2));const w=[];for(let S=0,O=m.length;S<O;S++){const E=m[S],A=E.name+"_"+E.smooth+"_"+y;let D=e.materials[A];if(this.materials!==null){if(D=this.materials.create(E.name),g&&D&&!(D instanceof gn)){const z=new gn;es.prototype.copy.call(z,D),z.color.copy(D.color),D=z}else if(b&&D&&!(D instanceof pn)){const z=new pn({size:10,sizeAttenuation:!1});es.prototype.copy.call(z,D),z.color.copy(D.color),z.map=D.map,D=z}}D===void 0&&(g?D=new gn:b?D=new pn({size:1,sizeAttenuation:!1}):D=new Xd,D.name=E.name,D.flatShading=!E.smooth,D.vertexColors=y,e.materials[A]=D),w.push(D)}let k;if(w.length>1){for(let S=0,O=m.length;S<O;S++){const E=m[S];v.addGroup(E.groupStart,E.groupCount,S)}g?k=new Co(v,w):b?k=new is(v,w):k=new Lo(v,w)}else g?k=new Co(v,w[0]):b?k=new is(v,w[0]):k=new Lo(v,w[0]);k.name=d.name,o.add(k)}else if(e.vertices.length>0){const l=new pn({size:1,sizeAttenuation:!1}),u=new us;u.setAttribute("position",new un(e.vertices,3)),e.colors.length>0&&e.colors[0]!==void 0&&(u.setAttribute("color",new un(e.colors,3)),l.vertexColors=!0);const d=new is(u,l);o.add(d)}return o}}const EP={props:{modelValue:{type:[Object,Function],default:()=>({})}},data(){return{}},methods:{init(){vm("/assets/ammo",()=>{var d,f;console.clear();const i=m=>{this.$emit("update:modelValue",m),this.$parent.$forceUpdate()},t=()=>({width:this.$el.offsetWidth,height:this.$el.offsetHeight});let e={loaded:0,options:{},preload:()=>({}),onProgress:()=>{},onCreate:()=>{},onUpdate:()=>{},...this.modelValue,input:{}};e.options={fps:60,debug:!1,gridHelper:!1,orbitControls:!1,...e.options};const{width:n,height:s}=t();e.canvas={wrapper:this.$el,width:n,height:s},e.scene=new Jd,e.camera=new Wa(50,n/s,1,1e3),e.clock=new Ua,e.scene.add(e.light=new Nd(16777215,5)),e.renderer=(()=>{const{width:m,height:g}=t(),b=new th;return b.setSize(m,g),this.$el.appendChild(b.domElement),b.domElement.style.width="100%",b.domElement.style.height="100%",b})(),e.effectComposer=new GS(e.renderer),e.effectComposer.addPass(new YS(e.scene,e.camera)),e.physics=new WS(e.scene),e.options.debug&&((d=e.physics.debug)==null||d.enable(),(f=e.physics.debug)==null||f.mode(2048+4096)),e.options.gridHelper&&e.scene.add(e.gridHelper=new e_(10,10)),e.orbitControls=(()=>e.options.orbitControls?(e.camera.position.set(5,5,5),new VS(e.camera,e.renderer.domElement)):!1)(),e.getData=function(){return this};const o=()=>{const{width:m,height:g}=t();e.canvas.width=m,e.canvas.height=g,e.renderer.setSize(m,g),e.camera.aspect=m/g,e.camera.updateProjectionMatrix(),i(e)},a=m=>{m.type=="keydown"?(e.input[m.key]=!0,e.input[m.code]=!0,e.input[m.keyCode]=!0):(e.input[m.key]=!1,e.input[m.code]=!1,e.input[m.keyCode]=!1),i(e)},l=()=>{e.onUpdate(),e.scene.traverse(m=>{const g=m.onUpdate||m.userData.onUpdate||!1;typeof g=="function"&&g.call(m)}),e.physics.update(e.clock.getDelta()*1e3),e.renderer.render(e.scene,e.camera),e.orbitControls&&e.orbitControls.update(),e.options.debug&&e.physics.updateDebugger(),e.effectComposer.render(),i(e)},u=()=>{e.onCreate(),e.scene.traverse(g=>{const b=g.onCreate||g.userData.onCreate||!1;typeof b=="function"&&b.call(g)});const m=setInterval(l,1e3/e.options.fps);window.addEventListener("resize",o),window.addEventListener("keyup",a),window.addEventListener("keydown",a),this.onBeforeUnmount=()=>{window.removeEventListener("resize",o),window.removeEventListener("keyup",o),window.removeEventListener("keydown",o),clearInterval(m)}};(()=>{if(i(e),Object.keys(e.preload()).length==0)return e.loaded=1,u();const m=Object.assign(new i_,{onStart:(g,b,y)=>{},onProgress:(g,b,y)=>{const v=b/y;e.loaded=v,i(e),e.onProgress({percent:v,url:g,itemsLoaded:b,itemsTotal:y})},onError:g=>{},onLoad:()=>{e.loaded=1,u()}});for(let[g,b]of Object.entries(e.preload()))b={type:!1,url:"",onLoad:y=>y,...b,loader:!1},b.type=="obj"?(b.loader=new AP(m),b.loader.load(b.url,y=>{b.onLoad(y),e[g]=y,i(e)})):b.type=="gltf"?(b.loader=new sS(m),b.loader.load(b.url,y=>{y=y.scene.children[0],b.onLoad(y),e[g]=y,i(e)})):b.type=="texture"&&(b.loader=new $d(m),b.loader.load(b.url,y=>{b.onLoad(y),e[g]=y,i(e)}))})()})},onAnimate:()=>({}),onBeforeUnmount:()=>({})},mounted(){this.init()},beforeUnmount(){this.onBeforeUnmount()}},OP={style:{position:"relative",width:"100%",height:"600px"}};function DP(i,t,e,n,s,o){return F(),q("div",OP,[Oi(i.$slots,"default",{game:e.modelValue})])}const zP=St(EP,[["render",DP]]),IP={meta:{active:!1,icon:"mdi-map",name:"OSM",description:"Open Street Map",source:"https://github.com/labscriptdev/labscriptdev.github.io/tree/main/pages/lab/index/osm"},data(){return{osm:new RP,scene:new VP,tileLayers:[{title:"Default",value:"https://tile.openstreetmap.org/{z}/{x}/{y}.png"},{title:"OSM Humanitarian",value:"http://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png"},{title:"World Imagery",value:"http://services.arcgisonline.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"},{title:"World Topo Map",value:"http://services.arcgisonline.com/arcgis/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}"},{title:"Dark Matter",value:"http://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png"},{title:"Toner",value:"http://tile.stamen.com/toner/{z}/{x}/{y}.png"},{title:"Watercolor",value:"http://tile.stamen.com/watercolor/{z}/{x}/{y}.png"},{title:"aaa",value:"https://tile.mapzen.com/mapzen/terrain/v1/normal/{z}/{x}/{y}.png"}]}}};class RP{constructor(){this.tileLayer="https://tile.openstreetmap.org/{z}/{x}/{y}.png",this.zoom=18,this.center=[-19.920421630138943,-43.936042785661876],this.bounds=[0,0,0,0],this.xy=[0,0],this.xyUrl="https://tile.openstreetmap.org/18/99080/145879.png",this.osmBuildings={},this.coords={lat:0,lng:0},this.osmUrl=!1,this.osmData={elements:[]},this._t={}}onMapEvent(t){this.osmUrl=t.osmUrl,this.bounds=t.bounds,this.xy=t.xy,this.xyUrl=`https://tile.openstreetmap.org/${this.zoom}/${this.xy.y}/${this.xy.x}.png`,this.debounce(1e3,async()=>{if(this.zoom>=15&&this.zoom<=16){const{data:e}=await ua.get(`https://c.data.osmbuildings.org/0.2/dixw8kmb/tile/${this.zoom}/${this.xy.y}/${this.xy.x}.json`);this.osmBuildings=e}if(this.zoom==18){const{data:e}=await ua.get(this.osmUrl);this.osmData=e}})}debounce(t,e){const n=btoa(e.toString());this._t[n]&&clearTimeout(this._t[n]),this._t[n]=setTimeout(e,t)}}class VP{constructor(){this.options={gridHelper:!0,orbitControls:!0}}}function BP(i,t,e,n,s,o){const a=TP,l=I("v-select"),u=I("v-col"),d=zP,f=I("v-row"),m=At;return F(),et(m,null,{default:M(()=>[T(f,{"no-gutters":""},{default:M(()=>[T(u,{cols:"6"},{default:M(()=>[T(a,{tileLayer:s.osm.tileLayer,"onUpdate:tileLayer":t[0]||(t[0]=g=>s.osm.tileLayer=g),zoom:s.osm.zoom,"onUpdate:zoom":t[1]||(t[1]=g=>s.osm.zoom=g),center:s.osm.center,"onUpdate:center":t[2]||(t[2]=g=>s.osm.center=g),bounds:s.osm.bounds,"onUpdate:bounds":t[3]||(t[3]=g=>s.osm.bounds=g),"onMap:any":t[4]||(t[4]=g=>s.osm.onMapEvent(g)),style:{height:"500px"}},null,8,["tileLayer","zoom","center","bounds"]),T(l,{modelValue:s.osm.tileLayer,"onUpdate:modelValue":t[5]||(t[5]=g=>s.osm.tileLayer=g),items:s.tileLayers,"item-title":"title","item-value":"value"},null,8,["modelValue","items"])]),_:1}),T(u,{cols:"6"},{default:M(()=>[T(d,{modelValue:s.scene,"onUpdate:modelValue":t[6]||(t[6]=g=>s.scene=g),style:{height:"500px"}},null,8,["modelValue"])]),_:1})]),_:1}),P("pre",null,"zoom: "+G(s.osm.zoom),1),P("pre",null,"osm.center: "+G(s.osm.center),1),P("pre",null,"osm.bounds: "+G(s.osm.bounds),1)]),_:1})}const Pm=St(IP,[["render",BP]]),$C=Object.freeze(Object.defineProperty({__proto__:null,default:Pm},Symbol.toStringTag,{value:"Module"})),jP={meta:{active:!1,icon:"mdi-content-paste",name:"Paste",description:"Cole, edite e baixe arquivos de maneira rpida",source:"https://github.com/labscriptdev/labscriptdev.github.io/tree/main/pages/lab/index/paste"}};function NP(i,t,e,n,s,o){const a=At;return F(),et(a,null,{default:M(()=>[P("pre",null,G(i.$route.path),1)]),_:1})}const Lm=St(jP,[["render",NP]]),HC=Object.freeze(Object.defineProperty({__proto__:null,default:Lm},Symbol.toStringTag,{value:"Module"})),FP={meta:{active:!1,icon:"mdi-cube",name:"Print 3D Simulator",description:"Aplicao para simular artes em ambientes tridimensionais",source:"https://github.com/labscriptdev/labscriptdev.github.io/tree/main/pages/lab/index/print3d"}};function $P(i,t,e,n,s,o){const a=At;return F(),et(a,null,{default:M(()=>[P("pre",null,G(i.$route.path),1)]),_:1})}const Cm=St(FP,[["render",$P]]),WC=Object.freeze(Object.defineProperty({__proto__:null,default:Cm},Symbol.toStringTag,{value:"Module"})),HP={props:{modelValue:{default:""},size:{default:"300x300"}},data(){return{qrcodeUrl:this.getQrcodeUrl(this.modelValue),timeout:!1}},watch:{modelValue(i){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.qrcodeUrl=this.getQrcodeUrl(i)},1e3)}},methods:{getQrcodeUrl(i){return`https://chart.googleapis.com/chart?cht=qr&chs=${this.size}&chl=${i}`}}};function WP(i,t,e,n,s,o){const a=I("v-img");return F(),et(a,{src:s.qrcodeUrl,alt:""},null,8,["src"])}const UP=St(HP,[["render",WP]]),ZP={meta:{active:!0,icon:"mdi-qrcode",name:"QR Code",description:"Gerador dos principais tipos de QRcode",source:"https://github.com/labscriptdev/labscriptdev.github.io/tree/main/pages/lab/index/qrcode"},computed:{type:{get(){let i=this.$route.query.type||"text";return this.types.filter(e=>e.id==i)[0]||!1},set(){}}},methods:{log:console.log},data(){return{qrtext:"",types:[{id:"text",name:"Texto",icon:"mdi-format-color-text",text:"Hello World :)",onChange:i=>{this.qrtext=i.text}},{id:"url",name:"URL",icon:"mdi-link",url:"",onChange:i=>{this.qrtext=i.url}},{id:"wifi",name:"WIFI",icon:"mdi-wifi",ssid:"",type:"WPA",pass:"",onChange:i=>{this.qrtext=`WIFI:S:${i.ssid};T:${i.type};P:${i.pass};;`}},{id:"vcard",name:"Carto de contato",icon:"mdi-card-account-details",firstName:"",lastName:"",companyName:"",jobTitle:"",address:"",city:"",state:"",zipcode:"",country:"",phone:"",mobile:"",email:"",website:"",onChange:i=>{this.qrtext=["BEGIN:VCARD","VERSION:3.0",`N:${i.lastName};${i.firstName}`,`FN:${i.firstName} ${i.lastName}`,`ORG:${i.companyName}`,`TITLE:${i.jobTitle}`,`ADR:;;${i.address};${i.city};${i.state};${i.zipcode};${i.country}`,`TEL;WORK;VOICE:${i.phone}`,`TEL;CELL:${i.mobile}`,"TEL;FAX:",`EMAIL;WORK;INTERNET:${i.email}`,`URL:${i.website}`,"END:VCARD"].join(`
`)}},{id:"event",name:"Evento",icon:"mdi-calendar",summary:"",dateStart:"",dateFinal:"",onChange:i=>{this.qrtext=["BEGIN:VEVENT","SUMMARY:Independence Day Parades","DTSTART:20150323T090000","DTEND:20150323T110000","END:VEVENT"].join(`
`)}},{id:"sms",name:"SMS",icon:"mdi-check",mobile:"",message:"",onChange:i=>{this.qrtext=`SMSTO:+${i.mobile.replace(/[^0-9]/g,"")}:${i.message}`}},{id:"phone",name:"Ligao",icon:"mdi-message-processing",phone:"",onChange:i=>{this.qrtext=`tel:${i.phone.replace(/[^0-9]/g,"")}`}},{id:"geo",name:"Geo posicionamento",icon:"mdi-map-marker",lat:0,lng:0,onChange:i=>{this.qrtext=`geo:${i.lat},${i.lng}`},getGeolocation:async i=>{navigator.geolocation.getCurrentPosition(t=>{i.lat=t.coords.latitude,i.lng=t.coords.longitude,this.generate()},()=>{},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})},onMapMove:(i,t)=>{t.lat=i.latlng.lat,t.lng=i.latlng.lng,this.generate()}},{id:"pix",name:"PIX",icon:"mdi-currency-usd",key:"john@doe.com",city:"Braslia",fullName:"John Doe",value:"100.00",message:"Presentinho pra voc :)",onChange:i=>{this.qrtext=this.pixClass(i)}}]}}},GP={class:"ms-3"};function YP(i,t,e,n,s,o){const a=I("v-icon"),l=I("v-toolbar-title"),u=I("v-text-field"),d=I("v-window-item"),f=I("v-window"),m=I("v-col"),g=UP,b=I("v-row"),y=I("v-list-item"),v=I("v-list"),w=At;return F(),et(w,{"container-card":!1,"container-style":"max-width: 1000px;"},{appbar:M(()=>[T(l,null,{default:M(()=>[T(a,null,{default:M(()=>[J(G(o.type.icon),1)]),_:1}),P("span",GP,G(o.type.name),1)]),_:1})]),drawer:M(()=>[T(v,null,{default:M(()=>[(F(!0),q(dt,null,pt(s.types,k=>(F(),et(y,{key:k.id,to:{...i.$route,query:{type:k.id}},"prepend-icon":k.icon,active:k.id==(i.$route.query.type||"text")},{default:M(()=>[J(G(k.name),1)]),_:2},1032,["to","prepend-icon","active"]))),128))]),_:1})]),default:M(()=>[T(b,{class:"align-center"},{default:M(()=>[T(m,{cols:"12",md:"7"},{default:M(()=>[T(f,{"model-value":i.$route.query.type||"text","onUpdate:modelValue":t[11]||(t[11]=k=>o.type.onChange(o.type)),class:"pt-1"},{default:M(()=>[T(d,{value:"text","onGroup:selected":t[2]||(t[2]=k=>o.type.onChange(o.type))},{default:M(()=>[T(u,{modelValue:o.type.text,"onUpdate:modelValue":t[0]||(t[0]=k=>o.type.text=k),label:"Texto",onInput:t[1]||(t[1]=k=>o.type.onChange(o.type))},null,8,["modelValue"])]),_:1}),T(d,{value:"url"},{default:M(()=>[T(u,{modelValue:o.type.url,"onUpdate:modelValue":t[3]||(t[3]=k=>o.type.url=k),label:"URL",onInput:t[4]||(t[4]=k=>o.type.onChange(o.type))},null,8,["modelValue"])]),_:1}),T(d,{value:"wifi"},{default:M(()=>[T(u,{modelValue:o.type.ssid,"onUpdate:modelValue":t[5]||(t[5]=k=>o.type.ssid=k),label:"SSID",onInput:t[6]||(t[6]=k=>o.type.onChange(o.type))},null,8,["modelValue"]),T(u,{modelValue:o.type.type,"onUpdate:modelValue":t[7]||(t[7]=k=>o.type.type=k),label:"Type",onInput:t[8]||(t[8]=k=>o.type.onChange(o.type))},null,8,["modelValue"]),T(u,{modelValue:o.type.pass,"onUpdate:modelValue":t[9]||(t[9]=k=>o.type.pass=k),label:"Password",type:"password",onInput:t[10]||(t[10]=k=>o.type.onChange(o.type))},null,8,["modelValue"])]),_:1}),T(d,{value:"vcard"},{default:M(()=>[P("pre",null,"vcard: "+G(o.type),1)]),_:1}),T(d,{value:"event"},{default:M(()=>[P("pre",null,"event: "+G(o.type),1)]),_:1}),T(d,{value:"sms"},{default:M(()=>[P("pre",null,"sms: "+G(o.type),1)]),_:1}),T(d,{value:"phone"},{default:M(()=>[P("pre",null,"phone: "+G(o.type),1)]),_:1}),T(d,{value:"geo"},{default:M(()=>[P("pre",null,"geo: "+G(o.type),1)]),_:1}),T(d,{value:"pix"},{default:M(()=>[P("pre",null,"pix: "+G(o.type),1)]),_:1})]),_:1},8,["model-value"])]),_:1}),T(m,{cols:"12",md:"5"},{default:M(()=>[T(g,{modelValue:s.qrtext,"onUpdate:modelValue":t[12]||(t[12]=k=>s.qrtext=k),width:"100%"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})}const Am=St(ZP,[["render",YP]]),UC=Object.freeze(Object.defineProperty({__proto__:null,default:Am},Symbol.toStringTag,{value:"Module"})),qP={meta:{active:!1,icon:"mdi-magnify",name:"Busca global",description:"Ferramenta para auxiliar na busca de qualquer coisa: de pessoas  produtos",source:"https://github.com/labscriptdev/labscriptdev.github.io/tree/main/pages/lab/index/search"},data(){return{params:{search:"",place:""}}},computed:{result(){const i=encodeURIComponent(this.params.search);encodeURIComponent(this.params.place);const t=encodeURIComponent([this.params.search,this.params.place].filter(s=>!!s).join(" ")),e=[{id:"general",name:"Geral"},{id:"people",name:"Pessoas"},{id:"shop",name:"Compras"},{id:"dev",name:"Desenvolvimento"},{id:"social",name:"Redes sociais"}],n=[{icon:"mdi-google",name:"Google",url:`https://www.google.com/search?q=${t}`,categories:["general"]},{icon:"mdi-twitter",name:"Twitter",url:`https://twitter.com/search?q=${t}&src=typed_query`,categories:["social"]},{icon:"mdi-facebook",name:"Facebook",url:`https://www.facebook.com/search/people/?q=${t}`,categories:["social"]},{icon:"mdi-linkedin",name:"Linkedin",url:`https://www.linkedin.com/search/results/all/?keywords=${t}&origin=GLOBAL_SEARCH_HEADER&sid=9Do`,categories:["social"]},{icon:"mdi-cart",name:"OLX",url:`https://www.olx.com.br/brasil?q=${t}`,categories:["shop"]},{icon:"mdi-xml",name:"Can I Use?",url:`http://caniuse.com/#search=${i}`,categories:["dev"]},{icon:"mdi-codepen",name:"Codepen",url:`https://codepen.io/search/pens?q=${i}`,categories:["dev"]}];return{categories:e,searchs:n}}}},KP={class:"text-center"},XP={class:"mt-3"};function QP(i,t,e,n,s,o){const a=I("v-text-field"),l=I("v-col"),u=I("v-row"),d=I("v-icon"),f=I("v-btn"),m=At;return F(),et(m,{title:"Buscas"},{default:M(()=>[T(u,null,{default:M(()=>[T(l,{cols:"12",lg:"6"},{default:M(()=>[T(a,{label:"Termo",modelValue:s.params.search,"onUpdate:modelValue":t[0]||(t[0]=g=>s.params.search=g),"append-inner-icon":"mdi-magnify","hide-details":!0},null,8,["modelValue"])]),_:1}),T(l,{cols:"12",lg:"6"},{default:M(()=>[T(a,{label:"Local",modelValue:s.params.place,"onUpdate:modelValue":t[1]||(t[1]=g=>s.params.place=g),"append-inner-icon":"mdi-map-marker","hide-details":!0},null,8,["modelValue"])]),_:1})]),_:1}),T(u,null,{default:M(()=>[(F(!0),q(dt,null,pt(o.result.searchs,g=>(F(),et(l,{cols:"6",sm:"4",md:"3",lg:"2"},{default:M(()=>[T(f,{class:"d-flex align-center justify-center",style:{display:"block",width:"100%",height:"100px"},href:g.url,target:"_blank"},{default:M(()=>[P("div",KP,[T(d,{class:"text-h4"},{default:M(()=>[J(G(g.icon),1)]),_:2},1024),P("div",XP,G(g.name),1)])]),_:2},1032,["href"])]),_:2},1024))),256))]),_:1})]),_:1})}const Em=St(qP,[["render",QP]]),ZC=Object.freeze(Object.defineProperty({__proto__:null,default:Em},Symbol.toStringTag,{value:"Module"})),JP={meta:{active:!1,icon:"mdi-head-dots-horizontal",name:"Tensorflow",description:"Tensorflow",source:"https://github.com/labscriptdev/labscriptdev.github.io/tree/main/pages/lab/index/base"},data(){return{pages:(()=>Object.entries(Object.assign({"./index/index.vue":f_,"./index/page-1/index.vue":m_})).filter(([t,e])=>!!e.meta).map(([t,e])=>({slug:t.split("/").at(-2).replace(/^index$/g,""),icon:"mdi-circle",name:"Default",active:!1,order:0,...e.meta||{}})).sort((t,e)=>t.order<e.order?-1:t.order>e.order?1:0))()}}};function tL(i,t,e,n,s,o){const a=Fi,l=I("v-list-item"),u=I("v-list"),d=At;return F(),et(d,null,{drawer:M(()=>[T(u,null,{default:M(()=>[(F(!0),q(dt,null,pt(s.pages,f=>(F(),et(l,{key:f.slug,title:f.name,"prepend-icon":f.icon,to:`/lab/tensorflow/${f.slug}`,exact:!0},null,8,["title","prepend-icon","to"]))),128))]),_:1})]),default:M(()=>[T(a)]),_:1})}const Om=St(JP,[["render",tL]]),GC=Object.freeze(Object.defineProperty({__proto__:null,default:Om},Symbol.toStringTag,{value:"Module"})),eL={meta:{active:!0,icon:"mdi-text-box-edit-outline",name:"Ferramentas de texto",description:"Conversores, analisadores e ferramentas teis para gerencimento de texto",source:"https://github.com/labscriptdev/labscriptdev.github.io/tree/main/pages/lab/index/text"},data(){return{text:"",demos:(()=>{let i=Object.entries(Object.assign({"./index/case/info.js":p_,"./index/extract/info.js":g_}));return i=i.map(([t,e])=>({icon:!1,to:t.replace(/.+index\/(.+?)\/.+/g,"/lab/text/$1"),name:"",...e})),i})()}}};function iL(i,t,e,n,s,o){const a=I("v-textarea"),l=Fi,u=I("v-list-item-title"),d=I("v-list-item"),f=I("v-list"),m=At;return F(),et(m,{title:"Ferramentas de texto",fluid:!1,"container-style":"max-width:1000px;"},{drawer:M(()=>[T(f,null,{default:M(()=>[(F(!0),q(dt,null,pt(s.demos,(g,b)=>(F(),et(d,{key:b,"prepend-icon":g.icon,to:g.to},{default:M(()=>[T(u,null,{default:M(()=>[J(G(g.name),1)]),_:2},1024)]),_:2},1032,["prepend-icon","to"]))),128))]),_:1})]),default:M(()=>[T(a,{modelValue:s.text,"onUpdate:modelValue":t[0]||(t[0]=g=>s.text=g),label:"Texto"},null,8,["modelValue"]),T(l,{text:s.text},null,8,["text"])]),_:1})}const Dm=St(eL,[["render",iL]]),YC=Object.freeze(Object.defineProperty({__proto__:null,default:Dm},Symbol.toStringTag,{value:"Module"})),nL=P("br",null,null,-1),sL=P("thead",null,[P("tr",null,[P("th",{width:"10px"}),P("th",null,"Team"),P("th",{width:"10px"})])],-1),oL={style:{"font-family":"monospace"}},rL=P("thead",null,[P("tr",null,[P("th"),P("th",null,"Group"),P("th",null,"Teams"),P("th",null,"Matches")])],-1),aL={style:{"font-family":"monospace"}},lL={width:"10px"},cL=P("br",null,null,-1),uL={class:"d-flex mb-2"},dL={class:"font-weight-bold text-uppercase text-center"},hL={class:"d-flex align-center"},fL=P("div",{class:"mt-1"},null,-1),mL=P("br",null,null,-1),pL=P("thead",null,[P("tr",null,[P("th"),P("th",null,"ID"),P("th",null,"Parent"),P("th",null,"Match"),P("th",null,"Step"),P("th",null,"Group")])],-1),gL={style:{"font-family":"monospace"}},_L={width:"10px"},bL={width:"50px"},vL={class:"py-1"},yL={class:"py-1"},xL={meta:{active:!1,icon:"mdi-tournament",name:"Tournament",description:"Tournament bracket generator",source:"https://github.com/labscriptdev/labscriptdev.github.io/tree/main/pages/lab/index/tournament"}},zm=Object.assign(xL,{__name:"index",setup(i){const e=(()=>{const n=Qt({uuid(){return"10000".replace(/[018]/g,s=>(s^crypto.getRandomValues(new Uint8Array(1))[0]&15>>s/4).toString(16))},team:{data:[],add(s){this.data.push({uuid:n.value.uuid(),name:[kc.word.conjunction(),kc.word.adjective()].join(" "),...s})},remove(s){const o=this.data.indexOf(s);this.data.splice(o,1)}},match:{options:{groupMaxTeams:4},groups:[],brackets:[],matches:[],default(s={}){return{uuid:n.value.uuid(),name:"",team1_id:null,team1_points:0,team2_id:null,team2_points:0,parent1_id:null,parent2_id:null,bracket_step:null,group:null,...s}},isBracketable(s=null){return s===null&&(s=n.value.team.data.length),Array.isArray(s)&&(s=s.length),[2,4,8,16].includes(s)},bracketStepName(s){return["Final","Semifinal","Quartas de final","Oitavas de final"][s]||!1},createGroups(s,o=[]){Array.isArray(s)&&(s=s.length);let a=[...Array(Math.ceil(s/this.options.groupMaxTeams)).keys()].map(u=>({name:`Grupo ${u+1}`,teams:[],matches:[]}));for(let u=0;u<s;u++){const d=u%a.length;a[d].teams.push(null)}a.forEach((u,d)=>{for(let f=0;f<u.teams.length;f++)for(let m=f;m<u.teams.length;m++)f!=m&&u.matches.push(this.default({group:d,_teams:[f,m]}))});let l=[];return a.forEach(u=>{u.matches.forEach(d=>{l.push(d)})}),{groups:a,matches:l}},createBrackets(s,o=[]){if(Array.isArray(s)&&(s=s.length),!this.isBracketable(s))return[];let a=[],l=s,u=-1;for(;l/2>1;){u++,l=l/2;for(let d=0;d<l;d++){let f=u==0&&o[d*2]||null,m=u==0&&o[d*2+1]||null;a.push(this.default({team1_id:f?f.uuid:null,team2_id:m?m.uuid:null,bracket_step:[0,1,1,2,2,2,2,3,3,3,3,3,3,3,3][l]}))}}return a.push(this.default({bracket_step:0})),{matches:a}},generate(){const s=f=>{if(f===null)return null;let m=Object.assign({},f);return Object.keys(m).forEach(g=>m[g]=typeof f[g]=="object"?s(f[g]):f[g]),Array.isArray(f)?(m.length=f.length,Array.from(m)):m};let a=(([...f])=>{let m=f.length;for(;m;){const g=Math.floor(Math.random()*m--);[f[m],f[g]]=[f[g],f[m]]}return f})(s(n.value.team.data));console.clear();let{matches:l,groups:u}=this.isBracketable()?this.createBrackets(a,a):this.createGroups(a,a);l.length>1&&u&&(this.isBracketable(u)?l=[...l,...this.createBrackets(u).matches]:l=[...l,...this.createGroups(u).matches]);let d=(l[0]?[...Array(l[0].bracket_step).keys()].reverse():[]).map(f=>({uuid:n.value.uuid(),name:this.bracketStepName(f),matches:l.filter(m=>m.bracket_step==f)}));this.groups=u||[],this.brackets=d||[],this.matches=l||[]}}});return ls([n.value.team.data],([s])=>{n.value.match.generate()}),n})();for(let n=1;n<=16;n++)e.value.team.add();return(n,s)=>{const o=I("v-btn"),a=I("v-table"),l=I("v-col"),u=I("v-select"),d=I("v-row"),f=At;return F(),et(f,null,{default:M(()=>[T(d,null,{default:M(()=>[T(l,{cols:"12",lg:"3",class:"border"},{default:M(()=>[T(o,{block:"",onClick:s[0]||(s[0]=m=>vt(e).team.add())},{default:M(()=>[J("team add")]),_:1}),nL,T(a,{class:"border rounded"},{default:M(()=>[sL,P("tbody",oL,[(F(!0),q(dt,null,pt(vt(e).team.data,(m,g)=>(F(),q("tr",null,[P("td",null,G(g+1),1),P("td",null,G(m.name),1),P("td",null,[T(o,{flat:"",size:"x-small",icon:"mdi-close",onClick:b=>vt(e).team.remove(m)},null,8,["onClick"])])]))),256))])]),_:1})]),_:1}),T(l,{cols:"12",lg:"3",class:"border"},{default:M(()=>[P("pre",null,G(vt(e).match),1)]),_:1}),T(l,{cols:"12",lg:"6",class:"border"},{default:M(()=>[T(a,{class:"border"},{default:M(()=>[rL,P("tbody",aL,[(F(!0),q(dt,null,pt(vt(e).match.groups,(m,g)=>(F(),q("tr",null,[P("td",lL,G(g+1),1),P("td",null,G(m.name),1),P("td",null,G(m.teams.length),1),P("td",null,G(m.matches.length),1)]))),256))])]),_:1}),vt(e).match.brackets.length?(F(),q(dt,{key:0},[cL,P("div",uL,[(F(!0),q(dt,null,pt(vt(e).match.brackets,m=>(F(),q("div",{class:"flex-grow-1",style:Ie(`max-width:${100/vt(e).match.brackets.length}%;`),key:m.uuid},[P("div",dL,G(m.name),1)],4))),128))]),P("div",hL,[(F(!0),q(dt,null,pt(vt(e).match.brackets,m=>(F(),q("div",{class:"flex-grow-1",style:Ie(`max-width:${100/vt(e).match.brackets.length}%;`),key:m.uuid},[(F(!0),q(dt,null,pt(m.matches,g=>(F(),q("div",{class:"my-1 pa-1",key:g.uuid},[T(u,Et({modelValue:g.team1_id,"onUpdate:modelValue":b=>g.team1_id=b,items:vt(e).team.data},{itemValue:"uuid",itemTitle:"name",hideDetails:!0,density:"compact"}),null,16,["modelValue","onUpdate:modelValue","items"]),fL,T(u,Et({modelValue:g.team2_id,"onUpdate:modelValue":b=>g.team2_id=b,items:vt(e).team.data},{itemValue:"uuid",itemTitle:"name",hideDetails:!0,density:"compact"}),null,16,["modelValue","onUpdate:modelValue","items"])]))),128))],4))),128))])],64)):Zt("",!0),P("pre",null,G(vt(e).match.brackets),1),mL,T(a,{class:"border"},{default:M(()=>[pL,P("tbody",gL,[(F(!0),q(dt,null,pt(vt(e).match.matches,(m,g)=>(F(),q("tr",null,[P("td",_L,G(g+1),1),P("td",bL,G(m.uuid),1),P("td",vL,[P("div",null,"1: "+G(m.parent1_id||""),1),P("div",null,"2: "+G(m.parent2_id||""),1)]),P("td",yL,[P("div",null,"t1: "+G(m.team1_id||""),1),P("div",null,"t2: "+G(m.team2_id||""),1)]),P("td",null,G(m.bracket_step===!1?"":m.bracket_step),1),P("td",null,G(m.group===!1?"":m.group),1)]))),256))])]),_:1})]),_:1})]),_:1})]),_:1})}}}),qC=Object.freeze(Object.defineProperty({__proto__:null,default:zm},Symbol.toStringTag,{value:"Module"})),wL={key:1},kL={name:"vuelementor-el-card"},TL=Object.assign(kL,{props:{editable:{type:Boolean,default:!1},modelValue:{type:Object,default:()=>({})}},emits:[],setup(i,{emit:t}){const e=i,n=Fa({get:()=>e.modelValue,set:s=>t("update:modelValue",s)});return(s,o)=>{const a=I("v-card-title"),l=I("v-card-text"),u=I("v-card-actions"),d=I("v-card"),f=I("v-text-field");return F(),q(dt,null,[i.editable?Zt("",!0):(F(),et(d,{key:0},{default:M(()=>[T(a,null,{default:M(()=>[J(G(vt(n).title),1)]),_:1}),T(l,{class:"border-b"},{default:M(()=>[J(G(vt(n).body),1)]),_:1}),T(u,null,{default:M(()=>[J(G(vt(n).footer),1)]),_:1})]),_:1})),i.editable?(F(),q("div",wL,[T(f,{modelValue:vt(n).title,"onUpdate:modelValue":o[0]||(o[0]=m=>vt(n).title=m),label:"Title"},null,8,["modelValue"]),T(f,{modelValue:vt(n).body,"onUpdate:modelValue":o[1]||(o[1]=m=>vt(n).body=m),label:"Body"},null,8,["modelValue"]),T(f,{modelValue:vt(n).footer,"onUpdate:modelValue":o[2]||(o[2]=m=>vt(n).footer=m),label:"Footer"},null,8,["modelValue"])])):Zt("",!0)],64)}}}),ML={style:{display:"flex"}},SL={style:{"flex-grow":"1"}},PL=["onClick"],LL={class:"ps-3",style:{"min-width":"300px","max-width":"300px"}},CL={key:0},AL={key:1},EL={components:{vuelementorElCard:TL}},OL=Object.assign(EL,{__name:"index",props:{modelValue:{type:Object,default:()=>({})}},emits:[],setup(i,{emit:t}){const e=i,n=Qt(!1),s=Qt(!1),o=Qt("default"),a=Qt({default:{width:0,icon:"mdi-monitor"},mobile:{width:700,icon:"mdi-cellphone"}}),l=Qt({modelValue:{name:"",rows:[],...e.modelValue}});l.value.modelValue={id:"a12345",name:"Test",style:{gap:{default:"10px"}},rows:[{style:{width:{default:"50%",mobile:"100%"}},elements:[{is:"vuelementorElCard",model:{body:"A dsjgdhsa gf dj d"}}]},{style:{width:{default:"50%",mobile:"100%"}},elements:[{is:"vuelementorElCard",model:{title:"Card B"}}]}]},ls([l.value],d=>{d.forEach(f=>{Object.entries(f).forEach(([m,g])=>{t(`update:${m}`,g)})})});const u=d=>{d=JSON.parse(JSON.stringify(d));for(let f in d)f=="width"&&(d.minWidth=d[f].default,d.maxWidth=d[f].default),d[f]=d[f].default||null;return d};return(d,f)=>{const m=I("v-text-field"),g=I("v-icon"),b=I("v-tab"),y=I("v-tabs"),v=I("v-window-item"),w=I("v-window");return F(),q(dt,null,[P("div",ML,[P("div",SL,[P("div",{style:Ie([{display:"flex"},u(l.value.modelValue.style)])},[(F(!0),q(dt,null,pt(l.value.modelValue.rows,k=>(F(),q("div",{style:Ie(u(k.style))},[(F(!0),q(dt,null,pt(k.elements,S=>(F(),q("div",{onClick:O=>{s.value=k,n.value=S}},[(F(),et(yc(S.is),{modelValue:S.model,"onUpdate:modelValue":O=>S.model=O,editable:!1},null,8,["modelValue","onUpdate:modelValue"]))],8,PL))),256))],4))),256))],4)]),P("div",LL,[P("div",null,[T(m,{modelValue:l.value.modelValue.name,"onUpdate:modelValue":f[0]||(f[0]=k=>l.value.modelValue.name=k)},null,8,["modelValue"]),n.value?(F(),q("div",CL,[(F(),et(yc(n.value.is),{modelValue:n.value.model,"onUpdate:modelValue":f[1]||(f[1]=k=>n.value.model=k),editable:!0},null,8,["modelValue"]))])):Zt("",!0),s.value?(F(),q("div",AL,[T(y,{modelValue:o.value,"onUpdate:modelValue":f[2]||(f[2]=k=>o.value=k)},{default:M(()=>[(F(!0),q(dt,null,pt(a.value,(k,S)=>(F(),et(b,{value:S},{default:M(()=>[T(g,null,{default:M(()=>[J(G(k.icon),1)]),_:2},1024)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"]),T(w,{modelValue:o.value,"onUpdate:modelValue":f[3]||(f[3]=k=>o.value=k)},{default:M(()=>[(F(!0),q(dt,null,pt(a.value,(k,S)=>(F(),et(v,{value:S,class:"pt-3"},{default:M(()=>[(F(!0),q(dt,null,pt(Object.entries(s.value.style),([O,E])=>(F(),et(m,{label:O,modelValue:s.value.style[O][S],"onUpdate:modelValue":A=>s.value.style[O][S]=A},null,8,["label","modelValue","onUpdate:modelValue"]))),256))]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])])):Zt("",!0),P("pre",null,G({previewSize:o.value,editElement:n.value,editRow:s.value}),1)])])]),P("pre",null,G({props:e,data:l.value}),1)],64)}}}),DL={meta:{active:!1,icon:"mdi-vuejs",name:"Vuelementor",description:"Vuelementor component",source:"https://github.com/labscriptdev/labscriptdev.github.io/tree/main/pages/lab/index/vuelementor"},data(){return{content:{},pages:(()=>Object.entries(Object.assign({"./index/index.vue":__,"./index/page-1/index.vue":b_})).filter(([t,e])=>!!e.meta).map(([t,e])=>({slug:t.split("/").at(-2).replace(/^index$/g,""),icon:"mdi-circle",name:"Default",active:!1,order:0,...e.meta||{}})).sort((t,e)=>t.order<e.order?-1:t.order>e.order?1:0))()}}};function zL(i,t,e,n,s,o){const a=OL,l=I("v-list-item"),u=I("v-list"),d=At;return F(),et(d,null,{drawer:M(()=>[T(u,null,{default:M(()=>[(F(!0),q(dt,null,pt(s.pages,f=>(F(),et(l,{key:f.slug,title:f.name,"prepend-icon":f.icon,to:`/lab/vuelementor/${f.slug}`},null,8,["title","prepend-icon","to"]))),128))]),_:1})]),default:M(()=>[T(a,{modelValue:s.content,"onUpdate:modelValue":t[0]||(t[0]=f=>s.content=f)},null,8,["modelValue"]),P("pre",null,G({content:s.content}),1)]),_:1})}const Im=St(DL,[["render",zL]]),KC=Object.freeze(Object.defineProperty({__proto__:null,default:Im},Symbol.toStringTag,{value:"Module"})),IL=P("thead",null,[P("tr",null,[P("td",null,"field1"),P("td",null,"field2"),P("td",null,"field3")])],-1),RL=P("tfoot",null,[P("tr",null,[P("td",null,"footer1"),P("td",null,"footer2"),P("td",null,"footer3")])],-1),VL=P("span",{class:"me-1"},"Local Favorite",-1),BL=P("div",{class:"text-grey ms-4"}," 4.5 (413) ",-1),jL=P("div",{class:"my-4 text-subtitle-1"}," $  Italian, Cafe ",-1),NL=P("div",null,"Small plates, salads & sandwiches - an intimate setting with 12 indoor seats plus patio seating.",-1),FL={class:"px-4"},$L=P("br",null,null,-1),HL={class:"pa-2"},WL={meta:{active:!0,icon:"mdi-vuetify",name:"Vuetify",description:"Vuetify",source:"https://github.com/labscriptdev/labscriptdev.github.io/tree/main/pages/lab/index/vuetify"}},Rm=Object.assign(WL,{__name:"index",setup(i){const t=Qt({data:(()=>{let s=[];const o=["primary","secondary","warning","error","info"],a=[...o,"black","grey","red","pink","purple","deep-purple","indigo","blue","light-blue","teal","green","light-green","lime","yellow","amber","orange","deep-orange","brown","blue-grey","grey"],l=["lighten","darken","accent"];for(let u of a){s.push(u);for(let d of l)for(let f of[1,2,3,4,5])["darken","accent"].includes(d)&&[5].includes(f)||o.includes(u)&&l.includes(d)||["black","white"].includes(u)&&["lighten","darken","accent"].includes(d)||["grey","brown","blue-grey"].includes(u)&&["accent"].includes(d)||s.push(`${u}-${d}-${f}`)}return s})()}),e=Qt({color:"primary",variantInput:"filled",variantInputBtn:"elevated",options:{variantInput:["outlined","plain","underlined","filled","solo"],variantBtn:["flat","text","elevated","tonal","outlined","plain"]}}),n=Fa(()=>({VTabs:{color:e.value.color},VTimelineItem:{dotColor:e.value.color},VBtn:{variant:e.value.variantBtn},VTextField:{variant:e.value.variantInput},VSelect:{variant:e.value.variantInput},VAutocomplete:{variant:e.value.variantInput},VCombobox:{variant:e.value.variantInput},VFileInput:{variant:e.value.variantInput},VTextarea:{variant:e.value.variantInput}}));return(s,o)=>{const a=I("v-text-field"),l=I("v-select"),u=I("v-autocomplete"),d=I("v-combobox"),f=I("v-file-input"),m=I("v-textarea"),g=I("v-card-text"),b=I("v-spacer"),y=I("v-btn"),v=I("v-card-actions"),w=I("v-card"),k=I("v-col"),S=I("v-list-item"),O=I("v-list"),E=I("v-divider"),A=I("v-tab"),D=I("v-tabs"),z=I("v-table"),N=I("v-img"),$=I("v-card-title"),j=I("v-icon"),Z=I("v-card-subtitle"),U=I("v-card-item"),K=I("v-rating"),it=I("v-row"),H=I("v-timeline-item"),X=I("v-timeline"),rt=I("v-chip"),tt=I("v-chip-group"),zt=I("v-defaults-provider"),st=At;return F(),et(st,xc(wc({containerCard:!1})),{drawer:M(()=>[T(zt,{defaults:{VSelect:{variant:"outlined",density:"compact"},VCombobox:{variant:"outlined",density:"compact"}}},{default:M(()=>[P("div",HL,[T(d,Et({modelValue:e.value.color,"onUpdate:modelValue":o[0]||(o[0]=lt=>e.value.color=lt)},{label:"Color",items:t.value.data}),null,16,["modelValue"]),T(d,Et({modelValue:e.value.variantInput,"onUpdate:modelValue":o[1]||(o[1]=lt=>e.value.variantInput=lt)},{label:"Variant input",items:e.value.options.variantInput}),null,16,["modelValue"]),T(d,Et({modelValue:e.value.variantBtn,"onUpdate:modelValue":o[2]||(o[2]=lt=>e.value.variantBtn=lt)},{label:"Variant BTN",items:e.value.options.variantBtn}),null,16,["modelValue"])])]),_:1})]),default:M(()=>[T(zt,{defaults:vt(n)},{default:M(()=>[T(it,null,{default:M(()=>[T(k,{cols:"12",md:"4"},{default:M(()=>[T(w,{title:"Form"},{default:M(()=>[T(g,null,{default:M(()=>[T(a,{label:"Text field"}),T(l,{label:"Select"}),T(u,{label:"Autocomplete"}),T(d,{label:"Combobox"}),T(f,{label:"File input"}),T(m,{label:"Textarea"})]),_:1}),T(v,{class:"border-t"},{default:M(()=>[T(b),T(y,null,{default:M(()=>[J("Save")]),_:1})]),_:1})]),_:1})]),_:1}),T(k,{cols:"12",md:"4"},{default:M(()=>[T(w,null,{default:M(()=>[T(O,null,{default:M(()=>[T(S,{"prepend-avatar":"https://cdn.vuetifyjs.com/images/john.png",title:"John Leider",subtitle:"john@google.com"},{append:M(()=>[T(y,{size:"small",variant:"text",icon:"mdi-menu-down"})]),_:1})]),_:1}),T(E),T(D,null,{default:M(()=>[T(A,null,{default:M(()=>[J("Tab 1")]),_:1}),T(A,null,{default:M(()=>[J("Tab 2")]),_:1}),T(A,null,{default:M(()=>[J("Tab 3")]),_:1})]),_:1}),T(O,null,{default:M(()=>[T(S,{"prepend-icon":"mdi-circle"},{default:M(()=>[J("Item 1")]),_:1}),T(S,{"prepend-icon":"mdi-circle"},{default:M(()=>[J("Item 2")]),_:1}),T(S,{"prepend-icon":"mdi-circle"},{default:M(()=>[J("Item 3")]),_:1})]),_:1}),T(E),T(z,xc(wc({fixedHeader:!0,height:"300px"})),{default:M(()=>[IL,P("tbody",null,[(F(),q(dt,null,pt(10,lt=>P("tr",null,[P("td",null,"field1 "+G(lt),1),P("td",null,"field1 "+G(lt),1),P("td",null,"field1 "+G(lt),1)])),64))]),RL]),_:1},16)]),_:1})]),_:1}),T(k,{cols:"12",md:"4"},{default:M(()=>[T(w,null,{default:M(()=>[T(N,{cover:"",height:"200",src:"https://cdn.vuetifyjs.com/images/cards/cooking.png"}),T(U,null,{default:M(()=>[T($,null,{default:M(()=>[J("Cafe Badilico")]),_:1}),T(Z,null,{default:M(()=>[VL,T(j,{color:"error",icon:"mdi-fire-circle",size:"small"})]),_:1})]),_:1}),T(g,null,{default:M(()=>[T(it,{class:"mx-0"},{default:M(()=>[T(K,{"model-value":4.5,color:"amber",density:"compact","half-increments":"",readonly:"",size:"small"},null,8,["model-value"]),BL]),_:1}),jL,NL]),_:1}),T(U,null,{default:M(()=>[T(X,{density:"compact",align:"start"},{default:M(()=>[T(H,null,{default:M(()=>[J("Item description")]),_:1}),T(H,null,{default:M(()=>[J("Item description")]),_:1}),T(H,null,{default:M(()=>[J("Item description")]),_:1})]),_:1})]),_:1}),T(E),T($,null,{default:M(()=>[J("Tonight's availability")]),_:1}),P("div",FL,[T(tt,null,{default:M(()=>[T(rt,null,{default:M(()=>[J("5:30PM")]),_:1}),T(rt,null,{default:M(()=>[J("7:30PM")]),_:1}),T(rt,null,{default:M(()=>[J("8:00PM")]),_:1}),T(rt,null,{default:M(()=>[J("9:00PM")]),_:1})]),_:1})]),T(v,null,{default:M(()=>[T(b),T(y,{color:"primary",variant:"tonal"},{default:M(()=>[J("Reserve")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["defaults"]),$L,T(it,{"no-gutters":""},{default:M(()=>[(F(!0),q(dt,null,pt(t.value.data,lt=>(F(),et(k,{cols:"2",key:lt,class:fn(`bg-${lt} text-center py-1`)},{default:M(()=>[J(G(lt),1)]),_:2},1032,["class"]))),128))]),_:1}),P("pre",null,G(t.value),1)]),_:1},16)}}}),XC=Object.freeze(Object.defineProperty({__proto__:null,default:Rm},Symbol.toStringTag,{value:"Module"})),UL={meta:{active:!0,icon:"mdi-whatsapp",name:"Whatsapp Link",description:"Gerar link para whatsapp de maneira rpida e fcil",source:"https://github.com/labscriptdev/labscriptdev.github.io/tree/main/pages/lab/index/whatsapp"},methods:{paramsDefault(){return{dial_code:"+55",number:"",text:""}}},computed:{numberLink(){const i=this.params.dial_code,t=this.params.number.replace(/[^0-9]/g,""),e=this.params.text,n=t&&e?`?text=${e}`:"";return t?`https://wa.me/${i}${t}${n}`:!1}},data(){return{useClipboard:rg(),params:this.paramsDefault(),phoneCodes:[{name:"Afghanistan",dial_code:"+93",code:"AF",emoji:""},{name:"Aland Islands",dial_code:"+358",code:"AX",emoji:""},{name:"Albania",dial_code:"+355",code:"AL",emoji:""},{name:"Algeria",dial_code:"+213",code:"DZ",emoji:""},{name:"AmericanSamoa",dial_code:"+1684",code:"AS",emoji:""},{name:"Andorra",dial_code:"+376",code:"AD",emoji:""},{name:"Angola",dial_code:"+244",code:"AO",emoji:""},{name:"Anguilla",dial_code:"+1264",code:"AI",emoji:""},{name:"Antarctica",dial_code:"+672",code:"AQ",emoji:""},{name:"Antigua and Barbuda",dial_code:"+1268",code:"AG",emoji:""},{name:"Argentina",dial_code:"+54",code:"AR",emoji:""},{name:"Armenia",dial_code:"+374",code:"AM",emoji:""},{name:"Aruba",dial_code:"+297",code:"AW",emoji:""},{name:"Australia",dial_code:"+61",code:"AU",emoji:""},{name:"Austria",dial_code:"+43",code:"AT",emoji:""},{name:"Azerbaijan",dial_code:"+994",code:"AZ",emoji:""},{name:"Bahamas",dial_code:"+1242",code:"BS",emoji:""},{name:"Bahrain",dial_code:"+973",code:"BH",emoji:""},{name:"Bangladesh",dial_code:"+880",code:"BD",emoji:""},{name:"Barbados",dial_code:"+1246",code:"BB",emoji:""},{name:"Belarus",dial_code:"+375",code:"BY",emoji:""},{name:"Belgium",dial_code:"+32",code:"BE",emoji:""},{name:"Belize",dial_code:"+501",code:"BZ",emoji:""},{name:"Benin",dial_code:"+229",code:"BJ",emoji:""},{name:"Bermuda",dial_code:"+1441",code:"BM",emoji:""},{name:"Bhutan",dial_code:"+975",code:"BT",emoji:""},{name:"Bolivia, Plurinational State of",dial_code:"+591",code:"BO",emoji:""},{name:"Bosnia and Herzegovina",dial_code:"+387",code:"BA",emoji:""},{name:"Botswana",dial_code:"+267",code:"BW",emoji:""},{name:"Brasil",dial_code:"+55",code:"BR",emoji:""},{name:"British Indian Ocean Territory",dial_code:"+246",code:"IO",emoji:""},{name:"Brunei Darussalam",dial_code:"+673",code:"BN",emoji:""},{name:"Bulgaria",dial_code:"+359",code:"BG",emoji:""},{name:"Burkina Faso",dial_code:"+226",code:"BF",emoji:""},{name:"Burundi",dial_code:"+257",code:"BI",emoji:""},{name:"Cambodia",dial_code:"+855",code:"KH",emoji:""},{name:"Cameroon",dial_code:"+237",code:"CM",emoji:""},{name:"Canada",dial_code:"+1",code:"CA",emoji:""},{name:"Cape Verde",dial_code:"+238",code:"CV",emoji:""},{name:"Cayman Islands",dial_code:"+ 345",code:"KY",emoji:""},{name:"Central African Republic",dial_code:"+236",code:"CF",emoji:""},{name:"Chad",dial_code:"+235",code:"TD",emoji:""},{name:"Chile",dial_code:"+56",code:"CL",emoji:""},{name:"China",dial_code:"+86",code:"CN",emoji:""},{name:"Christmas Island",dial_code:"+61",code:"CX",emoji:""},{name:"Cocos (Keeling) Islands",dial_code:"+61",code:"CC",emoji:""},{name:"Colombia",dial_code:"+57",code:"CO",emoji:""},{name:"Comoros",dial_code:"+269",code:"KM",emoji:""},{name:"Congo",dial_code:"+242",code:"CG",emoji:""},{name:"Congo, The Democratic Republic of the Congo",dial_code:"+243",code:"CD",emoji:""},{name:"Cook Islands",dial_code:"+682",code:"CK",emoji:""},{name:"Costa Rica",dial_code:"+506",code:"CR",emoji:""},{name:"Cote d'Ivoire",dial_code:"+225",code:"CI",emoji:""},{name:"Croatia",dial_code:"+385",code:"HR",emoji:""},{name:"Cuba",dial_code:"+53",code:"CU",emoji:""},{name:"Cyprus",dial_code:"+357",code:"CY",emoji:""},{name:"Czech Republic",dial_code:"+420",code:"CZ",emoji:""},{name:"Denmark",dial_code:"+45",code:"DK",emoji:""},{name:"Djibouti",dial_code:"+253",code:"DJ",emoji:""},{name:"Dominica",dial_code:"+1767",code:"DM",emoji:""},{name:"Dominican Republic",dial_code:"+1849",code:"DO",emoji:""},{name:"Ecuador",dial_code:"+593",code:"EC",emoji:""},{name:"Egypt",dial_code:"+20",code:"EG",emoji:""},{name:"El Salvador",dial_code:"+503",code:"SV",emoji:""},{name:"Equatorial Guinea",dial_code:"+240",code:"GQ",emoji:""},{name:"Eritrea",dial_code:"+291",code:"ER",emoji:""},{name:"Estonia",dial_code:"+372",code:"EE",emoji:""},{name:"Ethiopia",dial_code:"+251",code:"ET",emoji:""},{name:"Falkland Islands (Malvinas)",dial_code:"+500",code:"FK",emoji:""},{name:"Faroe Islands",dial_code:"+298",code:"FO",emoji:""},{name:"Fiji",dial_code:"+679",code:"FJ",emoji:""},{name:"Finland",dial_code:"+358",code:"FI",emoji:""},{name:"France",dial_code:"+33",code:"FR",emoji:""},{name:"French Guiana",dial_code:"+594",code:"GF",emoji:""},{name:"French Polynesia",dial_code:"+689",code:"PF",emoji:""},{name:"Gabon",dial_code:"+241",code:"GA",emoji:""},{name:"Gambia",dial_code:"+220",code:"GM",emoji:""},{name:"Georgia",dial_code:"+995",code:"GE",emoji:""},{name:"Germany",dial_code:"+49",code:"DE",emoji:""},{name:"Ghana",dial_code:"+233",code:"GH",emoji:""},{name:"Gibraltar",dial_code:"+350",code:"GI",emoji:""},{name:"Greece",dial_code:"+30",code:"GR",emoji:""},{name:"Greenland",dial_code:"+299",code:"GL",emoji:""},{name:"Grenada",dial_code:"+1473",code:"GD",emoji:""},{name:"Guadeloupe",dial_code:"+590",code:"GP",emoji:""},{name:"Guam",dial_code:"+1671",code:"GU",emoji:""},{name:"Guatemala",dial_code:"+502",code:"GT",emoji:""},{name:"Guernsey",dial_code:"+44",code:"GG",emoji:""},{name:"Guinea",dial_code:"+224",code:"GN",emoji:""},{name:"Guinea-Bissau",dial_code:"+245",code:"GW",emoji:""},{name:"Guyana",dial_code:"+595",code:"GY",emoji:""},{name:"Haiti",dial_code:"+509",code:"HT",emoji:""},{name:"Holy See (Vatican City State)",dial_code:"+379",code:"VA",emoji:""},{name:"Honduras",dial_code:"+504",code:"HN",emoji:""},{name:"Hong Kong",dial_code:"+852",code:"HK",emoji:""},{name:"Hungary",dial_code:"+36",code:"HU",emoji:""},{name:"Iceland",dial_code:"+354",code:"IS",emoji:""},{name:"India",dial_code:"+91",code:"IN",emoji:""},{name:"Indonesia",dial_code:"+62",code:"ID",emoji:""},{name:"Iran, Islamic Republic of Persian Gulf",dial_code:"+98",code:"IR",emoji:""},{name:"Iraq",dial_code:"+964",code:"IQ",emoji:""},{name:"Ireland",dial_code:"+353",code:"IE",emoji:""},{name:"Isle of Man",dial_code:"+44",code:"IM",emoji:""},{name:"Israel",dial_code:"+972",code:"IL",emoji:""},{name:"Italy",dial_code:"+39",code:"IT",emoji:""},{name:"Jamaica",dial_code:"+1876",code:"JM",emoji:""},{name:"Japan",dial_code:"+81",code:"JP",emoji:""},{name:"Jersey",dial_code:"+44",code:"JE",emoji:""},{name:"Jordan",dial_code:"+962",code:"JO",emoji:""},{name:"Kazakhstan",dial_code:"+77",code:"KZ",emoji:""},{name:"Kenya",dial_code:"+254",code:"KE",emoji:""},{name:"Kiribati",dial_code:"+686",code:"KI",emoji:""},{name:"Korea, Democratic People's Republic of Korea",dial_code:"+850",code:"KP",emoji:""},{name:"Korea, Republic of South Korea",dial_code:"+82",code:"KR",emoji:""},{name:"Kuwait",dial_code:"+965",code:"KW",emoji:""},{name:"Kyrgyzstan",dial_code:"+996",code:"KG",emoji:""},{name:"Laos",dial_code:"+856",code:"LA",emoji:""},{name:"Latvia",dial_code:"+371",code:"LV",emoji:""},{name:"Lebanon",dial_code:"+961",code:"LB",emoji:""},{name:"Lesotho",dial_code:"+266",code:"LS",emoji:""},{name:"Liberia",dial_code:"+231",code:"LR",emoji:""},{name:"Libyan Arab Jamahiriya",dial_code:"+218",code:"LY",emoji:""},{name:"Liechtenstein",dial_code:"+423",code:"LI",emoji:""},{name:"Lithuania",dial_code:"+370",code:"LT",emoji:""},{name:"Luxembourg",dial_code:"+352",code:"LU",emoji:""},{name:"Macao",dial_code:"+853",code:"MO",emoji:""},{name:"Macedonia",dial_code:"+389",code:"MK",emoji:""},{name:"Madagascar",dial_code:"+261",code:"MG",emoji:""},{name:"Malawi",dial_code:"+265",code:"MW",emoji:""},{name:"Malaysia",dial_code:"+60",code:"MY",emoji:""},{name:"Maldives",dial_code:"+960",code:"MV",emoji:""},{name:"Mali",dial_code:"+223",code:"ML",emoji:""},{name:"Malta",dial_code:"+356",code:"MT",emoji:""},{name:"Marshall Islands",dial_code:"+692",code:"MH",emoji:""},{name:"Martinique",dial_code:"+596",code:"MQ",emoji:""},{name:"Mauritania",dial_code:"+222",code:"MR",emoji:""},{name:"Mauritius",dial_code:"+230",code:"",emoji:""},{name:"Mayotte",dial_code:"+262",code:"YT",emoji:""},{name:"Mexico",dial_code:"+52",code:"MX",emoji:""},{name:"Micronesia, Federated States of Micronesia",dial_code:"+691",code:"FM",emoji:""},{name:"Moldova",dial_code:"+373",code:"MD",emoji:""},{name:"Monaco",dial_code:"+377",code:"MC",emoji:""},{name:"Mongolia",dial_code:"+976",code:"MN",emoji:""},{name:"Montenegro",dial_code:"+382",code:"ME",emoji:""},{name:"Montserrat",dial_code:"+1664",code:"MS",emoji:""},{name:"Morocco",dial_code:"+212",code:"MA",emoji:""},{name:"Mozambique",dial_code:"+258",code:"MZ",emoji:""},{name:"Myanmar",dial_code:"+95",code:"MM",emoji:""},{name:"Namibia",dial_code:"+264",code:"NA",emoji:""},{name:"Nauru",dial_code:"+674",code:"NR",emoji:""},{name:"Nepal",dial_code:"+977",code:"NP",emoji:""},{name:"Netherlands",dial_code:"+31",code:"NL",emoji:""},{name:"Netherlands Antilles",dial_code:"+599",code:"AN",emoji:""},{name:"New Caledonia",dial_code:"+687",code:"NC",emoji:""},{name:"New Zealand",dial_code:"+64",code:"NZ",emoji:""},{name:"Nicaragua",dial_code:"+505",code:"NI",emoji:""},{name:"Niger",dial_code:"+227",code:"NE",emoji:""},{name:"Nigeria",dial_code:"+234",code:"NG",emoji:""},{name:"Niue",dial_code:"+683",code:"NU",emoji:""},{name:"Norfolk Island",dial_code:"+672",code:"NF",emoji:""},{name:"Northern Mariana Islands",dial_code:"+1670",code:"MP",emoji:""},{name:"Norway",dial_code:"+47",code:"NO",emoji:""},{name:"Oman",dial_code:"+968",code:"OM",emoji:""},{name:"Pakistan",dial_code:"+92",code:"PK",emoji:""},{name:"Palau",dial_code:"+680",code:"PW",emoji:""},{name:"Palestinian Territory, Occupied",dial_code:"+970",code:"PS",emoji:""},{name:"Panama",dial_code:"+507",code:"PA",emoji:""},{name:"Papua New Guinea",dial_code:"+675",code:"PG",emoji:""},{name:"Paraguay",dial_code:"+595",code:"PY",emoji:""},{name:"Peru",dial_code:"+51",code:"PE",emoji:""},{name:"Philippines",dial_code:"+63",code:"PH",emoji:""},{name:"Pitcairn",dial_code:"+872",code:"PN",emoji:""},{name:"Poland",dial_code:"+48",code:"PL",emoji:""},{name:"Portugal",dial_code:"+351",code:"PT",emoji:""},{name:"Puerto Rico",dial_code:"+1939",code:"PR",emoji:""},{name:"Qatar",dial_code:"+974",code:"QA",emoji:""},{name:"Romania",dial_code:"+40",code:"RO",emoji:""},{name:"Russia",dial_code:"+7",code:"RU",emoji:""},{name:"Rwanda",dial_code:"+250",code:"RW",emoji:""},{name:"Reunion",dial_code:"+262",code:"RE",emoji:""},{name:"Saint Barthelemy",dial_code:"+590",code:"BL",emoji:""},{name:"Saint Helena, Ascension and Tristan Da Cunha",dial_code:"+290",code:"SH",emoji:""},{name:"Saint Kitts and Nevis",dial_code:"+1869",code:"KN",emoji:""},{name:"Saint Lucia",dial_code:"+1758",code:"LC",emoji:""},{name:"Saint Martin",dial_code:"+590",code:"MF",emoji:""},{name:"Saint Pierre and Miquelon",dial_code:"+508",code:"PM",emoji:""},{name:"Saint Vincent and the Grenadines",dial_code:"+1784",code:"VC",emoji:""},{name:"Samoa",dial_code:"+685",code:"WS",emoji:""},{name:"San Marino",dial_code:"+378",code:"SM",emoji:""},{name:"Sao Tome and Principe",dial_code:"+239",code:"ST",emoji:""},{name:"Saudi Arabia",dial_code:"+966",code:"SA",emoji:""},{name:"Senegal",dial_code:"+221",code:"SN",emoji:""},{name:"Serbia",dial_code:"+381",code:"RS",emoji:""},{name:"Seychelles",dial_code:"+248",code:"SC",emoji:""},{name:"Sierra Leone",dial_code:"+232",code:"SL",emoji:""},{name:"Singapore",dial_code:"+65",code:"SG",emoji:""},{name:"Slovakia",dial_code:"+421",code:"SK",emoji:""},{name:"Slovenia",dial_code:"+386",code:"SI",emoji:""},{name:"Solomon Islands",dial_code:"+677",code:"SB",emoji:""},{name:"Somalia",dial_code:"+252",code:"SO",emoji:""},{name:"South Africa",dial_code:"+27",code:"ZA",emoji:""},{name:"South Sudan",dial_code:"+211",code:"SS",emoji:""},{name:"South Georgia and the South Sandwich Islands",dial_code:"+500",code:"GS",emoji:""},{name:"Spain",dial_code:"+34",code:"ES",emoji:""},{name:"Sri Lanka",dial_code:"+94",code:"LK",emoji:""},{name:"Sudan",dial_code:"+249",code:"SD",emoji:""},{name:"Suriname",dial_code:"+597",code:"SR",emoji:""},{name:"Svalbard and Jan Mayen",dial_code:"+47",code:"SJ",emoji:""},{name:"Swaziland",dial_code:"+268",code:"SZ",emoji:""},{name:"Sweden",dial_code:"+46",code:"SE",emoji:""},{name:"Switzerland",dial_code:"+41",code:"CH",emoji:""},{name:"Syrian Arab Republic",dial_code:"+963",code:"SY",emoji:""},{name:"Taiwan",dial_code:"+886",code:"TW",emoji:""},{name:"Tajikistan",dial_code:"+992",code:"TJ",emoji:""},{name:"Tanzania, United Republic of Tanzania",dial_code:"+255",code:"TZ",emoji:""},{name:"Thailand",dial_code:"+66",code:"TH",emoji:""},{name:"Timor-Leste",dial_code:"+670",code:"TL",emoji:""},{name:"Togo",dial_code:"+228",code:"TG",emoji:""},{name:"Tokelau",dial_code:"+690",code:"TK",emoji:""},{name:"Tonga",dial_code:"+676",code:"TO",emoji:""},{name:"Trinidad and Tobago",dial_code:"+1868",code:"TT",emoji:""},{name:"Tunisia",dial_code:"+216",code:"TN",emoji:""},{name:"Turkey",dial_code:"+90",code:"TR",emoji:""},{name:"Turkmenistan",dial_code:"+993",code:"TM",emoji:""},{name:"Turks and Caicos Islands",dial_code:"+1649",code:"TC",emoji:""},{name:"Tuvalu",dial_code:"+688",code:"TV",emoji:""},{name:"Uganda",dial_code:"+256",code:"UG",emoji:""},{name:"Ukraine",dial_code:"+380",code:"UA",emoji:""},{name:"United Arab Emirates",dial_code:"+971",code:"AE",emoji:""},{name:"United Kingdom",dial_code:"+44",code:"GB",emoji:""},{name:"United States",dial_code:"+1",code:"US",emoji:""},{name:"Uruguay",dial_code:"+598",code:"UY",emoji:""},{name:"Uzbekistan",dial_code:"+998",code:"UZ",emoji:""},{name:"Vanuatu",dial_code:"+678",code:"VU",emoji:""},{name:"Venezuela, Bolivarian Republic of Venezuela",dial_code:"+58",code:"VE",emoji:""},{name:"Vietnam",dial_code:"+84",code:"VN",emoji:""},{name:"Virgin Islands, British",dial_code:"+1284",code:"VG",emoji:""},{name:"Virgin Islands, U.S.",dial_code:"+1340",code:"VI",emoji:""},{name:"Wallis and Futuna",dial_code:"+681",code:"WF",emoji:""},{name:"Yemen",dial_code:"+967",code:"YE",emoji:""},{name:"Zambia",dial_code:"+260",code:"ZM",emoji:""},{name:"Zimbabwe",dial_code:"+263",code:"ZW",emoji:""}]}}},ZL={key:0,class:"mt-5 d-flex align-center",style:{gap:"15px"}};function GL(i,t,e,n,s,o){const a=I("v-select"),l=I("v-col"),u=I("v-text-field"),d=I("v-textarea"),f=I("v-row"),m=I("v-icon"),g=I("v-btn"),b=I("v-spacer"),y=v_,v=At;return F(),et(v,Et({title:"Whatsapp Link"},{drawerShow:!1,fluid:!1,containerWidth:"700px"}),{default:M(()=>[T(f,null,{default:M(()=>[T(l,{cols:"12",md:"3"},{default:M(()=>[T(a,{modelValue:s.params.dial_code,"onUpdate:modelValue":t[0]||(t[0]=w=>s.params.dial_code=w),label:"Pas",items:s.phoneCodes,"item-title":"name","item-value":"dial_code","hide-details":!0},null,8,["modelValue","items"])]),_:1}),T(l,{cols:"12",md:"9"},{default:M(()=>[T(u,{label:"Nmero",modelValue:s.params.number,"onUpdate:modelValue":t[1]||(t[1]=w=>s.params.number=w),"hide-details":!0},null,8,["modelValue"])]),_:1}),T(l,{cols:"12"},{default:M(()=>[T(d,{label:"Texto",modelValue:s.params.text,"onUpdate:modelValue":t[2]||(t[2]=w=>s.params.text=w),"hide-details":!0},null,8,["modelValue"])]),_:1})]),_:1}),o.numberLink?(F(),q("div",ZL,[T(g,{href:o.numberLink,target:"_blank",color:"primary"},{default:M(()=>[T(m,{class:"mr-2"},{default:M(()=>[J("mdi-link")]),_:1}),J(" Acessar ")]),_:1},8,["href"]),T(b),T(g,{onClick:t[3]||(t[3]=w=>s.useClipboard.copy(o.numberLink))},{default:M(()=>[T(m,{class:"mr-2"},{default:M(()=>[J("mdi-content-copy")]),_:1}),J(" COPIAR ")]),_:1}),T(g,{onClick:t[4]||(t[4]=w=>s.params=o.paramsDefault())},{default:M(()=>[T(m,{class:"mr-2"},{default:M(()=>[J("mdi-close")]),_:1}),J(" LIMPAR ")]),_:1})])):Zt("",!0),T(y,{"model-value":s.useClipboard.copied},{default:M(()=>[J(" Texto copiado ")]),_:1},8,["model-value"])]),_:1},16)}const Vm=St(UL,[["render",GL]]),QC=Object.freeze(Object.defineProperty({__proto__:null,default:Vm},Symbol.toStringTag,{value:"Module"})),YL={meta:{active:!1,icon:"mdi-youtube",name:"Youtube",description:"Youtube tools",source:"https://github.com/labscriptdev/labscriptdev.github.io/tree/main/pages/lab/index/youtube"},data(){return{pages:(()=>Object.entries(Object.assign({"./index/iframe/index.vue":y_,"./index/index.vue":x_})).filter(([t,e])=>!!e.meta).map(([t,e])=>({slug:t.split("/").at(-2).replace(/^index$/g,""),icon:"mdi-circle",name:"Default",active:!1,order:0,...e.meta||{}})).sort((t,e)=>t.order<e.order?-1:t.order>e.order?1:0))()}}};function qL(i,t,e,n,s,o){const a=Fi,l=I("v-list-item"),u=I("v-list"),d=At;return F(),et(d,null,{drawer:M(()=>[T(u,null,{default:M(()=>[(F(!0),q(dt,null,pt(s.pages,f=>(F(),et(l,{key:f.slug,title:f.name,"prepend-icon":f.icon,to:`/lab/youtube/${f.slug}`,exact:!0},null,8,["title","prepend-icon","to"]))),128))]),_:1})]),default:M(()=>[T(a)]),_:1})}const Bm=St(YL,[["render",qL]]),JC=Object.freeze(Object.defineProperty({__proto__:null,default:Bm},Symbol.toStringTag,{value:"Module"})),KL={props:{title:{type:String,default:""},drawerWidth:{type:String,default:"350"},containerWidth:{type:String,default:"1280px"},containerCard:{type:Boolean,default:!0}},computed:{pageData(){return this.page.data.filter(i=>JSON.stringify(i).toLowerCase().includes(this.page.params.q.toLowerCase()))},pageCurrent(){return this.page.data.filter(i=>`/lab/${i.slug}`==this.$route.fullPath).at(0)||null}},data(){return{drawer:!0,useDisplay:ag(),page:{params:{q:""},data:(()=>Object.entries(Object.assign({"/pages/lab/index/_base/index.vue":Jh,"/pages/lab/index/algorithm/index.vue":tf,"/pages/lab/index/bookapp/index.vue":dm,"/pages/lab/index/calcdiv/index.vue":hm,"/pages/lab/index/clockify/index.vue":fm,"/pages/lab/index/clone/index.vue":mm,"/pages/lab/index/diff/index.vue":pm,"/pages/lab/index/enable3d/index.vue":ym,"/pages/lab/index/filesize-generator/index.vue":xm,"/pages/lab/index/laramake/index.vue":wm,"/pages/lab/index/lotto/index.vue":km,"/pages/lab/index/mbti/index.vue":Tm,"/pages/lab/index/meme/index.vue":Mm,"/pages/lab/index/openapi/index.vue":Sm,"/pages/lab/index/osm/index.vue":Pm,"/pages/lab/index/paste/index.vue":Lm,"/pages/lab/index/print3d/index.vue":Cm,"/pages/lab/index/qrcode/index.vue":Am,"/pages/lab/index/search/index.vue":Em,"/pages/lab/index/tensorflow/index.vue":Om,"/pages/lab/index/text/index.vue":Dm,"/pages/lab/index/tournament/index.vue":zm,"/pages/lab/index/vuelementor/index.vue":Im,"/pages/lab/index/vuetify/index.vue":Rm,"/pages/lab/index/whatsapp/index.vue":Vm,"/pages/lab/index/youtube/index.vue":Bm})).filter(([t,e])=>!!e.meta).map(([t,e])=>({slug:t.split("/").at(-2).replace(/^index$/g,""),icon:"mdi-circle",name:"Default",active:!1,order:0,...e.meta||{}})).filter(t=>this.$devMode||t.active).sort((t,e)=>t.order<e.order?-1:t.order>e.order?1:0))()}}}},XL={class:"d-flex"},QL={class:"bg-grey-darken-4",style:{height:"100vh","max-width":"60px",overflow:"auto"}},JL={class:"mx-auto",style:{width:"500px","max-width":"90vw!important"}},tC={style:{"max-height":"70vh",overflow:"auto"}},eC={key:0,class:"flex-grow-1",style:{"max-height":"100vh",overflow:"auto"}},iC={key:1,style:{position:"fixed",bottom:"10px",right:"10px","z-index":"999"}};function nC(i,t,e,n,s,o){const a=I("v-icon"),l=I("v-list-item"),u=I("v-card-title"),d=I("v-text-field"),f=I("v-card-text"),m=I("v-list"),g=I("v-spacer"),b=I("v-btn"),y=I("v-card-actions"),v=I("v-card"),w=I("v-dialog"),k=I("v-divider"),S=I("v-tooltip"),O=I("v-navigation-drawer"),E=I("v-app-bar-nav-icon"),A=I("v-toolbar-title"),D=I("v-container"),z=I("v-app-bar"),N=I("v-main"),$=I("v-app");return F(),et($,null,{default:M(()=>[T(O,{width:i.$slots.drawer?e.drawerWidth:60,modelValue:s.drawer,"onUpdate:modelValue":t[2]||(t[2]=j=>s.drawer=j)},{default:M(()=>[P("div",XL,[P("div",QL,[T(m,{density:"compact"},{default:M(()=>[T(w,null,{activator:M(({props:j})=>[T(l,Et(j,{ref:"btnSearch"}),{prepend:M(()=>[T(a,null,{default:M(()=>[J("mdi-magnify")]),_:1})]),_:2},1040)]),default:M(()=>[P("div",JL,[T(v,null,{default:M(()=>[T(u,null,{default:M(()=>[J("Search")]),_:1}),T(f,{class:"border-t"},{default:M(()=>[T(d,{label:"Search",modelValue:s.page.params.q,"onUpdate:modelValue":t[0]||(t[0]=j=>s.page.params.q=j),"hide-details":!0,class:"mt-4"},null,8,["modelValue"])]),_:1}),P("div",tC,[T(m,null,{default:M(()=>[(F(!0),q(dt,null,pt(o.pageData,j=>(F(),et(l,{key:j.slug,to:`/lab/${j.slug}`},{prepend:M(()=>[T(a,null,{default:M(()=>[J(G(j.icon),1)]),_:2},1024)]),default:M(()=>[J(G(j.name)+" ",1)]),_:2},1032,["to"]))),128))]),_:1})]),T(y,{class:"border-t"},{default:M(()=>[T(g),T(b,{onClick:t[1]||(t[1]=j=>i.$refs.btnSearch.$el.click())},{default:M(()=>[J("Ok")]),_:1})]),_:1})]),_:1})])]),_:1}),T(k),(F(!0),q(dt,null,pt(s.page.data,j=>(F(),et(S,{text:j.name},{activator:M(({props:Z})=>[T(l,Et({to:`/lab/${j.slug}`},Z),{prepend:M(()=>[T(a,null,{default:M(()=>[J(G(j.icon),1)]),_:2},1024)]),_:2},1040,["to"])]),_:2},1032,["text"]))),256))]),_:1})]),i.$slots.drawer?(F(),q("div",eC,[Oi(i.$slots,"drawer")])):Zt("",!0)])]),_:3},8,["width","modelValue"]),i.$slots.appbar||i.$slots.drawer||e.title?(F(),et(z,{key:0,elevation:"1"},{default:M(()=>[T(D,{class:"d-flex align-center",style:Ie({maxWidth:e.containerWidth})},{default:M(()=>[T(E,{class:"d-lg-none me-3",onClick:t[3]||(t[3]=j=>s.drawer=!0)}),e.title?(F(),et(A,{key:0},{default:M(()=>[J(G(e.title),1)]),_:1})):Zt("",!0),Oi(i.$slots,"appbar")]),_:3},8,["style"])]),_:3})):Zt("",!0),o.pageCurrent&&o.pageCurrent.source?(F(),q("div",iC,[T(S,null,{activator:M(({props:j})=>[T(b,Et({color:"primary",icon:"mdi-xml",href:o.pageCurrent.source,target:"_blank"},j),null,16,["href"])]),default:M(()=>[J(" Source code ")]),_:1})])):Zt("",!0),T(N,{class:"bg-grey-lighten-2",style:{height:"100vh",position:"relative",overflow:"auto!important"}},{default:M(()=>[T(D,{class:"pa-0 pa-lg-5 mx-auto",style:Ie({maxWidth:e.containerWidth})},{default:M(()=>[e.containerCard?(F(),et(v,{key:0,style:Ie({height:s.useDisplay.lgAndUp?"auto":"100%"})},{default:M(()=>[T(f,null,{default:M(()=>[Oi(i.$slots,"default")]),_:3})]),_:3},8,["style"])):Zt("",!0),e.containerCard?Zt("",!0):(F(),q("div",{key:1,style:Ie({height:s.useDisplay.lgAndUp?"auto":"100%"})},[Oi(i.$slots,"default")],4))]),_:3},8,["style"])]),_:3})]),_:3})}const At=St(KL,[["render",nC]]);export{At as _,CC as a,AC as b,EC as c,OC as d,DC as e,zC as f,IC as g,RC as h,LC as i,VC as j,BC as k,jC as l,NC as m,FC as n,$C as o,HC as p,WC as q,UC as r,ZC as s,GC as t,YC as u,qC as v,KC as w,XC as x,QC as y,JC as z};
