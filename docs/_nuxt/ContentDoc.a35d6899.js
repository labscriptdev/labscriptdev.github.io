import{bO as b,aN as l,br as w,bP as C,bq as v,aw as H,ay as D,au as q,a3 as O,ba as h,bH as y,aq as S,bQ as _,O as x,bg as $,a7 as a}from"./entry.76f46d94.js";import{w as j}from"./index.17a7ea7e.js";import k from"./ContentRenderer.7c878eab.js";import B from"./ContentQuery.8806cff2.js";import"./ContentRendererMarkdown.d34ca9a0.js";import"./index.9b0bef9c.js";import"./query.b2319892.js";import"./utils.63d1dce8.js";function I(s,e={}){const r=e.head||b();if(r)return r.ssr?r.push(s,e):N(r,s,e)}function N(s,e,r={}){const u=l(!1),c=l({});w(()=>{c.value=u.value?{}:C(e)});const t=s.push(c.value,r);return v(c,f=>{t.patch(f)}),O()&&(H(()=>{t.dispose()}),D(()=>{u.value=!0}),q(()=>{u.value=!1})),t}const d=(s,e=y())=>{const r=h(s),u=_();v(()=>h(s),(t=r)=>{if(!e.path||!t)return;const n=Object.assign({},(t==null?void 0:t.head)||{});n.meta=[...n.meta||[]],n.link=[...n.link||[]];const f=n.title||(t==null?void 0:t.title);f&&(n.title=f),u.public.content.host;const p=(n==null?void 0:n.description)||(t==null?void 0:t.description);p&&n.meta.filter(i=>i.name==="description").length===0&&n.meta.push({name:"description",content:p}),n!=null&&n.image||(t==null||t.image),S(()=>I(n))},{immediate:!0})},Y=x({name:"ContentDoc",props:{tag:{type:String,required:!1,default:"div"},excerpt:{type:Boolean,default:!1},path:{type:String,required:!1,default:void 0},query:{type:Object,required:!1,default:void 0},head:{type:Boolean,required:!1,default:!0}},render(s){const e=$(),{tag:r,excerpt:u,path:c,query:t,head:n}=s,f={...t||{},path:c||(t==null?void 0:t.path)||j(y().path),find:"one"},p=(i,o)=>a("pre",null,JSON.stringify({message:"You should use slots with <ContentDoc>",slot:i,data:o},null,2));return a(B,f,{default:e!=null&&e.default?({data:i,refresh:o,isPartial:g})=>{var m;return n&&d(i),(m=e.default)==null?void 0:m.call(e,{doc:i,refresh:o,isPartial:g,excerpt:u,...this.$attrs})}:({data:i})=>(n&&d(i),a(k,{value:i,excerpt:u,tag:r,...this.$attrs},{empty:o=>e!=null&&e.empty?e.empty(o):p("default",i)})),empty:i=>{var o;return((o=e==null?void 0:e.empty)==null?void 0:o.call(e,i))||a("p",null,"Document is empty, overwrite this content with #empty slot in <ContentDoc>.")},"not-found":i=>{var o;return((o=e==null?void 0:e["not-found"])==null?void 0:o.call(e,i))||a("p",null,"Document not found, overwrite this content with #not-found slot in <ContentDoc>.")}})}});export{Y as default};
