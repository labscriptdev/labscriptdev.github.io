import{c as k}from"./index.17a7ea7e.js";import{j as C,a4 as T,aG as O,ar as U,bq as E,bQ as N,b5 as j,bO as _,u as B}from"./entry.1b06c984.js";const p=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function R(e,n){if(typeof e!="string")throw new TypeError("argument str must be a string");const i={},t=(n||{}).decode||I;let a=0;for(;a<e.length;){const o=e.indexOf("=",a);if(o===-1)break;let s=e.indexOf(";",a);if(s===-1)s=e.length;else if(s<o){a=e.lastIndexOf(";",o-1)+1;continue}const u=e.slice(a,o).trim();if(i[u]===void 0){let c=e.slice(o+1,s).trim();c.codePointAt(0)===34&&(c=c.slice(1,-1)),i[u]=F(c,t)}a=s+1}return i}function w(e,n,i){const r=i||{},t=r.encode||L;if(typeof t!="function")throw new TypeError("option encode is invalid");if(!p.test(e))throw new TypeError("argument name is invalid");const a=t(n);if(a&&!p.test(a))throw new TypeError("argument val is invalid");let o=e+"="+a;if(r.maxAge!==void 0&&r.maxAge!==null){const s=r.maxAge-0;if(Number.isNaN(s)||!Number.isFinite(s))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(s)}if(r.domain){if(!p.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain="+r.domain}if(r.path){if(!p.test(r.path))throw new TypeError("option path is invalid");o+="; Path="+r.path}if(r.expires){if(!D(r.expires)||Number.isNaN(r.expires.valueOf()))throw new TypeError("option expires is invalid");o+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():r.priority){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o}function D(e){return Object.prototype.toString.call(e)==="[object Date]"||e instanceof Date}function F(e,n){try{return n(e)}catch{return e}}function I(e){return e.includes("%")?decodeURIComponent(e):e}function L(e){return encodeURIComponent(e)}const P={ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1};function m(e,n={}){n={...P,...n};const i=b(n);return i.dispatch(e),i.toString()}function b(e){const n=[];let i=[];const r=t=>{n.push(t)};return{toString(){return n.join("")},getContext(){return i},dispatch(t){return e.replacer&&(t=e.replacer(t)),this["_"+(t===null?"null":typeof t)](t)},_object(t){if(t&&typeof t.toJSON=="function")return this._object(t.toJSON());const a=/\[object (.*)]/i,o=Object.prototype.toString.call(t),s=a.exec(o),u=s?s[1].toLowerCase():"unknown:["+o.toLowerCase()+"]";let c=null;if((c=i.indexOf(t))>=0)return this.dispatch("[CIRCULAR:"+c+"]");if(i.push(t),typeof Buffer<"u"&&Buffer.isBuffer&&Buffer.isBuffer(t))return r("buffer:"),r(t.toString("utf8"));if(u!=="object"&&u!=="function"&&u!=="asyncfunction")this["_"+u]?this["_"+u](t):e.ignoreUnknown||this._unkown(t,u);else{let l=Object.keys(t);e.unorderedObjects&&(l=l.sort()),e.respectType!==!1&&!g(t)&&l.splice(0,0,"prototype","__proto__","letructor"),e.excludeKeys&&(l=l.filter(function(f){return!e.excludeKeys(f)})),r("object:"+l.length+":");for(const f of l)this.dispatch(f),r(":"),e.excludeValues||this.dispatch(t[f]),r(",")}},_array(t,a){if(a=typeof a<"u"?a:e.unorderedArrays!==!1,r("array:"+t.length+":"),!a||t.length<=1){for(const u of t)this.dispatch(u);return}const o=[],s=t.map(u=>{const c=b(e);return c.dispatch(u),o.push(c.getContext()),c.toString()});return i=[...i,...o],s.sort(),this._array(s,!1)},_date(t){return r("date:"+t.toJSON())},_symbol(t){return r("symbol:"+t.toString())},_unkown(t,a){if(r(a),!!t&&(r(":"),t&&typeof t.entries=="function"))return this._array(Array.from(t.entries()),!0)},_error(t){return r("error:"+t.toString())},_boolean(t){return r("bool:"+t.toString())},_string(t){r("string:"+t.length+":"),r(t.toString())},_function(t){r("fn:"),g(t)?this.dispatch("[native]"):this.dispatch(t.toString()),e.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this._object(t)},_number(t){return r("number:"+t.toString())},_xml(t){return r("xml:"+t.toString())},_null(){return r("Null")},_undefined(){return r("Undefined")},_regexp(t){return r("regex:"+t.toString())},_uint8array(t){return r("uint8array:"),this.dispatch(Array.prototype.slice.call(t))},_uint8clampedarray(t){return r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(t))},_int8array(t){return r("int8array:"),this.dispatch(Array.prototype.slice.call(t))},_uint16array(t){return r("uint16array:"),this.dispatch(Array.prototype.slice.call(t))},_int16array(t){return r("int16array:"),this.dispatch(Array.prototype.slice.call(t))},_uint32array(t){return r("uint32array:"),this.dispatch(Array.prototype.slice.call(t))},_int32array(t){return r("int32array:"),this.dispatch(Array.prototype.slice.call(t))},_float32array(t){return r("float32array:"),this.dispatch(Array.prototype.slice.call(t))},_float64array(t){return r("float64array:"),this.dispatch(Array.prototype.slice.call(t))},_arraybuffer(t){return r("arraybuffer:"),this.dispatch(new Uint8Array(t))},_url(t){return r("url:"+t.toString())},_map(t){r("map:");const a=[...t];return this._array(a,e.unorderedSets!==!1)},_set(t){r("set:");const a=[...t];return this._array(a,e.unorderedSets!==!1)},_file(t){return r("file:"),this.dispatch([t.name,t.size,t.type,t.lastModfied])},_blob(){if(e.ignoreUnknown)return r("[blob]");throw new Error(`Hashing Blob objects is currently not supported
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow(){return r("domwindow")},_bigint(t){return r("bigint:"+t.toString())},_process(){return r("process")},_timer(){return r("timer")},_pipe(){return r("pipe")},_tcp(){return r("tcp")},_udp(){return r("udp")},_tty(){return r("tty")},_statwatcher(){return r("statwatcher")},_securecontext(){return r("securecontext")},_connection(){return r("connection")},_zlib(){return r("zlib")},_context(){return r("context")},_nodescript(){return r("nodescript")},_httpparser(){return r("httpparser")},_dataview(){return r("dataview")},_signal(){return r("signal")},_fsevent(){return r("fsevent")},_tlswrap(){return r("tlswrap")}}}function g(e){return typeof e!="function"?!1:/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code]\s+}$/i.exec(Function.prototype.toString.call(e))!=null}function M(e,n,i={}){return e===n||m(e,i)===m(n,i)}const v={path:"/",watch:!0,decode:e=>N(decodeURIComponent(e)),encode:e=>encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))};function q(e,n){var a;const i={...v,...n},r=z(i)||{},t=C(r[e]??((a=i.default)==null?void 0:a.call(i)));{const o=typeof BroadcastChannel>"u"?null:new BroadcastChannel(`nuxt:cookies:${e}`);T()&&O(()=>{o==null||o.close()});const s=()=>{J(e,t.value,i),o==null||o.postMessage(j(t.value))};let u=!1;o&&(o.onmessage=c=>{u=!0,t.value=c.data,U(()=>{u=!1})}),i.watch?E(t,(c,l)=>{u||M(c,l)||s()},{deep:i.watch!=="shallow"}):s()}return t}function z(e={}){return R(document.cookie,e)}function H(e,n,i={}){return n==null?w(e,n,{...i,maxAge:-1}):w(e,n,i)}function J(e,n,i={}){document.cookie=H(e,n,i)}const $=["p","h1","h2","h3","h4","h5","h6","li"];function y(e,n){return e.type===n||typeof e.type=="object"&&e.type.tag===n||e.tag===n}function x(e){return y(e,"text")||typeof e.children=="string"}function S(e){return Array.isArray(e.children)||typeof e.children=="string"?e.children:typeof e.children.default=="function"?e.children.default():[]}function h(e){if(!e)return"";if(Array.isArray(e))return e.map(h).join("");if(x(e))return e.children||e.value;const n=S(e);return Array.isArray(n)?n.map(h).join(""):""}function d(e,n=["p"]){if(Array.isArray(e))return e.flatMap(r=>d(r,n));let i=e;return n.some(r=>r==="*"||y(e,r))&&(i=S(e)||e,!Array.isArray(i)&&$.some(r=>y(e,r))&&(i=[i])),i}function A(e,n=["p"]){return e=Array.isArray(e)?e:[e],n.length?e.flatMap(i=>A(d(i,[n[0]]),n.slice(1))).filter(i=>!(x(i)&&h(i).trim()==="")):e}const V=e=>k(e,_().public.content.api.baseURL),Q=()=>({unwrap:d,flatUnwrap:A}),X=()=>{throw console.warn("useContent is only accessible when you are using `documentDriven` mode."),console.warn("Learn more by visiting: https://content.nuxtjs.org/guide/writing/document-driven"),new Error("useContent is only accessible when you are using `documentDriven` mode.")},W=()=>{const{experimental:e}=_().content;if(e.clientDB)return!0;const n=B().query;return Object.prototype.hasOwnProperty.call(n,"preview")&&!n.preview?!1:!!(n.preview||q("previewToken").value)};export{X as a,Q as b,W as s,q as u,V as w};
