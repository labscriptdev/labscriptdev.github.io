import{r as m,o as i,e as p,b as a,w as o,a as r,y as b,L as T,M as A,H as B,f as F,u as P,v as R,n as j,x as s,c as w,t as g,F as h,i as v,A as x,d as O,g as z}from"./entry.43339234.js";const D={class:"border"},J={__name:"table",props:{items:{type:Array,default:()=>[]},height:{type:String,default:"400px"},density:{type:String,default:"compact"}},emits:["update:modelValue"],setup(f,{emit:y}){const e=f;return(d,n)=>{const t=m("v-table"),u=m("v-virtual-scroll");return i(),p("div",D,[a(t,{style:{"margin-right":"14px"}},{default:o(()=>[r("colgroup",null,[b(d.$slots,"colgroup")]),r("thead",null,[r("tr",null,[b(d.$slots,"header")])])]),_:3}),a(u,{height:e.height,items:e.items},{default:o(_=>[a(t,{density:"compact",class:"border-b"},{default:o(()=>[r("colgroup",null,[b(d.$slots,"colgroup")]),r("tbody",null,[r("tr",null,[b(d.$slots,"row",T(A(_)))])])]),_:2},1024)]),_:3},8,["height","items"])])}}},L=r("col",{width:"80px"},null,-1),M=r("col",{width:"150px"},null,-1),E=r("col",{width:"*"},null,-1),H=r("th",null,"Sorteio",-1),I=r("th",null,"Data",-1),K=r("th",null,"Números",-1),U={class:"d-flex flex-wrap",style:{gap:"6px",padding:"4px"}},q={class:"pa-1"},G=["onClick"],Q=r("br",null,null,-1),X={__name:"[slug]",setup(f){const y=B(),e=F({url:`https://raw.githubusercontent.com/labscriptdev/static-api/main/data/loteria/${y.params.slug}.json`,busy:!1,numbersStr:"",numbers:[],numbersToArray(){e.numbers=e.numbersStr.split(/[^0-9]/).filter(n=>!!n).map(n=>d.padStart(n))},numberToggle(n){const t=e.numbers.indexOf(n);t>=0?e.numbers.splice(t,1):e.numbers.push(n),e.numbersStr=e.numbers.join(" ")},numbersSet(n){e.numbers=JSON.parse(JSON.stringify(n)),e.numbersStr=e.numbers.join(" ")},response:{id:null,name:null,rangeStart:0,rangeFinal:0,rangePerRow:0,data:[]},table:P(()=>{let n=[],t=[];for(let u=e.response.rangeStart;u<=e.response.rangeFinal;u++)t.push(d.padStart(u)),t.length==e.response.rangePerRow&&(n.push(t),t=[]);return n}),async load(){this.busy=!0;try{let{data:n}=await R.get(this.url);n.data=n.data.reverse().map(t=>(t.numbers=t.numbers.map(u=>d.padStart(u)),t)),this.response=n}catch{}this.busy=!1}}),d={padStart(n){return String(n).padStart(2,"0")}};return j(()=>{e.load()}),(n,t)=>{const u=m("v-icon"),_=m("v-btn"),k=J,S=m("v-col"),C=m("v-text-field"),$=m("v-table"),N=m("v-row");return i(),p("div",null,[a(N,null,{default:o(()=>[a(S,{cols:"12",md:"7"},{default:o(()=>[s(e).response.data[0]?(i(),w(k,{key:0,items:s(e).response.data,height:"80vh"},{colgroup:o(l=>[L,M,E]),header:o(l=>[H,I,K]),row:o(l=>[r("td",null,g(l.item.number),1),r("td",null,g(l.item.date),1),r("td",null,[r("div",U,[a(_,{color:"grey-lighten-3",elevation:"0",onClick:c=>s(e).numbersSet(l.item.numbers)},{default:o(()=>[a(u,{icon:"ic:round-keyboard-double-arrow-right"})]),_:2},1032,["onClick"]),(i(!0),p(h,null,v(l.item.numbers,c=>(i(),w(_,{color:"grey-lighten-3",elevation:"0",onClick:V=>s(e).numberToggle(c),class:x({"bg-primary":s(e).numbers.includes(c)})},{default:o(()=>[O(g(c),1)]),_:2},1032,["onClick","class"]))),256))])])]),_:1},8,["items"])):z("",!0)]),_:1}),a(S,{cols:"12",md:"5"},{default:o(()=>[a(C,{label:"Números",modelValue:s(e).numbersStr,"onUpdate:modelValue":t[0]||(t[0]=l=>s(e).numbersStr=l),onKeyup:t[1]||(t[1]=l=>s(e).numbersToArray()),"append-inner-icon":"mdi-close","onClick:appendInner":t[2]||(t[2]=()=>{s(e).numbersStr="",s(e).numbersToArray()})},null,8,["modelValue"]),a($,{class:"border"},{default:o(()=>[r("tbody",null,[(i(!0),p(h,null,v(s(e).table,l=>(i(),p("tr",null,[(i(!0),p(h,null,v(l,c=>(i(),p("td",q,[r("div",{style:{cursor:"pointer"},class:x(["pa-2 text-center rounded bg-grey-lighten-3",{"bg-primary":s(e).numbers.includes(c)}]),onClick:V=>s(e).numberToggle(c)},g(c),11,G)]))),256))]))),256))])]),_:1})]),_:1})]),_:1}),Q])}}};export{X as default};
