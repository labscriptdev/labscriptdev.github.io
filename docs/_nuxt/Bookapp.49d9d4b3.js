class c{uuid(e=""){return(e+[1e8]+0).replace(/[018]/g,n=>(n^crypto.getRandomValues(new Uint8Array(1))[0]&15>>n/4).toString(16))}newInstance(e,n){n=new e(n);let s=this;return n.parent=function(){return s},n}newInstances(e,n){return(n||[]).map(s=>this.newInstance(e,s))}}class u extends c{constructor(e={}){super(),this.name=e.name||"Bookapp",this.dependencies=this.newInstances(i,e.dependencies||[]),this.source=e.source||""}dependencyAdd(e={}){this.dependencies.push(this.newInstance(i,e))}dependencyRemove(e){const n=this.dependencies.indexOf(e);this.dependencies.splice(n,1)}build(){let e=[];return e.push("(() => {"),e.push("  return new class {"),e.push("    constructor() {"),e.push(`      this.dependencies = ${JSON.stringify(this.dependencies)};`),e.push(`      this.source = ${JSON.stringify(this.source)};`),e.push("      console.log(this);"),e.push("    }"),e.push("    run() {"),e.push("      document.body.innerHTML = 'Hello World'"),e.push("    }"),e.push("  }"),e.push("})()"),e=e.join(`
`),e=e.replace(/\n|\t/gi," ").replace(/\s+/gi," "),e}}class i extends c{constructor(e={}){super(),this.id=this.uuid("asset-"),this.url=e.url||"https://cdn.com/package.js",this.tag=e.tag||"link"}}export{u as Bookapp,i as BookappDependency};
